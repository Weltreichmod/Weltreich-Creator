peace_conference_effect = {
	every_country = {
		limit = {
			has_country_flag = second_great_war_loser
		}
		every_state = {
			limit = {
				is_claimed_by = PREV
			}
			remove_claim_by = PREV
		}
		every_other_country = {
			diplomatic_relation = {
				country = PREV
				relation = guarantee
				active = no
			}
			diplomatic_relation = {
				country = PREV
				relation = military_access
				active = no
			}
			diplomatic_relation = {
				country = PREV
				relation = docking_rights
				active = no
			}
			PREV = {
				diplomatic_relation = {
					country = PREV
					relation = guarantee
					active = no
				}
				diplomatic_relation = {
					country = PREV
					relation = military_access
					active = no
				}
				diplomatic_relation = {
					country = PREV
					relation = docking_rights
					active = no
				}
			}
		}
	}
	hidden_effect = {
		every_country = {
			limit = {
				exists = yes
			}
			every_country = {
				limit = {
					has_country_flag = second_great_war_loser
				}
				remove_wargoal = {
					type = all
					target = PREV 
				}
			}
		}
		every_country = {
			limit = {
				OR = {
					is_in_faction_with = ROOT
					is_subject_of = ROOT
					has_country_flag = second_great_war_loser
				}
			}
			every_country = {
				limit = {
					has_country_flag = second_great_war_winner
				}
				remove_wargoal = {
					type = all
					target = PREV 
				}
			}
		}
	}
	every_country = {
		limit = {
			exists = yes
			has_country_flag = second_great_war_winner
		}
		every_other_country = {
			limit = { has_country_flag = second_great_war_loser }
			PREV = {
				every_state = {
					limit = {
						is_owned_by = PREV.PREV
						OR = {
							is_claimed_by = PREV
							is_core_of = PREV
						}
					}
					PREV = {
						transfer_state = PREV
					}
				}
			}
		}
	}
	every_country = {
		limit = {
			has_country_flag = second_great_war_loser
		}
		every_country = {
			limit = {
				is_subject_of = PREV
			}
			clr_country_flag = protectorate
			PREV = {
				end_puppet = PREV
			}
		}
	}
	#SOV_annex_GEO
	if = {
		limit = {
			SOV = { has_country_flag = second_great_war_winner }
			GEO = { has_country_flag = second_great_war_loser }
		}
		SOV = {
			annex_country = { target = GEO transfer_troops = no }
		}
		every_state = {
			limit = {
				is_core_of = GEO
			}
			add_core_of = SOV
		}
	}
	#SOV_annex_AZR
	if = {
		limit = {
			SOV = { has_country_flag = second_great_war_winner }
			AZR = { has_country_flag = second_great_war_loser }
		}
		SOV = {
			annex_country = { target = AZR transfer_troops = no }
		}
		every_state = {
			limit = {
				is_core_of = AZR
			}
			add_core_of = SOV
		}
	}
	#SOV_annex_ARM
	if = {
		limit = {
			SOV = { has_country_flag = second_great_war_winner }
			ARM = { has_country_flag = second_great_war_loser }
		}
		SOV = {
			annex_country = { target = ARM transfer_troops = no }
		}
		every_state = {
			limit = {
				is_core_of = ARM
			}
			add_core_of = SOV
		}
	}
	#remove core of russia
	if = {
		limit = {
			SOV = { has_country_flag = second_great_war_winner }
			RUS = { has_country_flag = second_great_war_loser }
		}
		every_state = {
			limit = {
				is_core_of = RUS
			}
			remove_core_of = RUS
		}
	}
	#fate of china
	if = {
		limit = {
			CHI = { has_country_flag = second_great_war_winner }
			any_country = {
				is_chinese_country = yes
				has_country_flag = second_great_war_loser
			}
		}
		if = {
			limit = {
				FNG = { has_country_flag = second_great_war_loser }
			}
			CHI = { annex_country = { target = FNG transfer_troops = no } }
		}
		if = {
			limit = {
				PRC = { has_country_flag = second_great_war_loser }
			}
			CHI = { annex_country = { target = PRC transfer_troops = no } }
		}
		if = {
			limit = {
				GXC = { has_country_flag = second_great_war_loser }
			}
			CHI = { annex_country = { target = GXC transfer_troops = no } }
		}
		if = {
			limit = {
				YUN = { has_country_flag = second_great_war_loser }
			}
			CHI = { annex_country = { target = YUN transfer_troops = no } }
		}
		if = {
			limit = {
				SHX = { has_country_flag = second_great_war_loser }
			}
			CHI = { annex_country = { target = SHX transfer_troops = no } }
		}
		if = {
			limit = {
				XSM = { has_country_flag = second_great_war_loser }
			}
			CHI = { annex_country = { target = XSM transfer_troops = no } }
		}
		if = {
			limit = {
				SIK = { has_country_flag = second_great_war_loser }
			}
			CHI = { annex_country = { target = SIK transfer_troops = no } }
		}
		if = {
			limit = {
				GUD = { has_country_flag = second_great_war_loser }
			}
			CHI = { annex_country = { target = GUD transfer_troops = no } }
		}
		if = {
			limit = {
				SIC = { has_country_flag = second_great_war_loser }
			}
			CHI = { annex_country = { target = SIC transfer_troops = no } }
		}
		if = {
			limit = {
				XIK = { has_country_flag = second_great_war_loser }
			}
			CHI = { annex_country = { target = XIK transfer_troops = no } }
		}
		if = {
			limit = {
				GZC = { has_country_flag = second_great_war_loser }
			}
			CHI = { annex_country = { target = GZC transfer_troops = no } }
		}
	}
	if = {
		limit = {
			FNG = { has_country_flag = second_great_war_winner }
			any_country = {
				is_chinese_country = yes
				has_country_flag = second_great_war_loser
			}
		}
		if = {
			limit = {
				CHI = { has_country_flag = second_great_war_loser }
			}
			FNG = { annex_country = { target = CHI transfer_troops = no } }
		}
		if = {
			limit = {
				PRC = { has_country_flag = second_great_war_loser }
			}
			FNG = { annex_country = { target = PRC transfer_troops = no } }
		}
		if = {
			limit = {
				GXC = { has_country_flag = second_great_war_loser }
			}
			FNG = { annex_country = { target = GXC transfer_troops = no } }
		}
		if = {
			limit = {
				YUN = { has_country_flag = second_great_war_loser }
			}
			FNG = { annex_country = { target = YUN transfer_troops = no } }
		}
		if = {
			limit = {
				SHX = { has_country_flag = second_great_war_loser }
			}
			FNG = { annex_country = { target = SHX transfer_troops = no } }
		}
		if = {
			limit = {
				XSM = { has_country_flag = second_great_war_loser }
			}
			FNG = { annex_country = { target = XSM transfer_troops = no } }
		}
		if = {
			limit = {
				SIK = { has_country_flag = second_great_war_loser }
			}
			FNG = { annex_country = { target = SIK transfer_troops = no } }
		}
		if = {
			limit = {
				GUD = { has_country_flag = second_great_war_loser }
			}
			FNG = { annex_country = { target = GUD transfer_troops = no } }
		}
		if = {
			limit = {
				SIC = { has_country_flag = second_great_war_loser }
			}
			FNG = { annex_country = { target = SIC transfer_troops = no } }
		}
		if = {
			limit = {
				XIK = { has_country_flag = second_great_war_loser }
			}
			FNG = { annex_country = { target = XIK transfer_troops = no } }
		}
		if = {
			limit = {
				GZC = { has_country_flag = second_great_war_loser }
			}
			FNG = { annex_country = { target = GZC transfer_troops = no } }
		}
	}
	#free german puppet
	german_puppet_effect = yes
	#fate of germany
	if = {
		limit = {
			GER = { has_country_flag = second_great_war_loser }
		}
		every_country = {
			limit = {
				is_subject_of = GER
				NOT = { original_tag = GOA }
			}
			clr_country_flag = protectorate
			GER = { end_puppet = PREV }
		}
		if = {
			limit = {
				FRA = { has_country_flag = second_great_war_winner }
				NOT = { SOV = { has_country_flag = second_great_war_winner } }
				NOT = { RUS = { has_country_flag = second_great_war_winner } }
			}
			every_state = {
				limit = {
					is_owned_by = GER
					state = 188
				}
				add_core_of = LIT
				transfer_state_to = LIT
			}
			FRA = {
				every_state = {
					limit = {
						is_owned_by = GER
						is_core_of = GER
					}
					transfer_state_to = FRA
				}
				FRA = { country_event = wrwpe.14 }
			}
		}
		#free austria
		every_state = {
			limit = {
				is_owned_by = GER
				OR = {
					state = 848
					state = 153
					state = 152
					state = 4
					state = 933
					state = 102
					state = 853
					state = 736
					state = 852
					state = 39
					state = 850
				}
			}
			add_core_of = AUS
			transfer_state_to = AUS
		}
		if = {
			limit = {
				FRA = { has_country_flag = second_great_war_winner }
				SOV = { has_country_flag = second_great_war_winner }
			}
			if = {
				limit = {
					SOV = { has_global_flag = fall_of_berlin_by_SOV }
				}
				every_state = {
					limit = {
						is_owned_by = GER
						OR = {
							state = 188
							state = 68
							state = 63
							state = 66
							state = 67
							state = 762
							state = 86
							state = 85
							state = 807
							state = 5
							state = 763
							#eastern germany
							state = 957
							state = 64
							state = 61
							state = 62
							state = 60
							state = 65
						}
					}
					transfer_state_to = SOV
				}
				else = {
					every_state = {
						limit = {
							is_owned_by = GER
							OR = {
								state = 188
								state = 68
								state = 63
								state = 66
								state = 67
								state = 762
								state = 86
								state = 85
								state = 807
								state = 5
								state = 763
							}
						}
						transfer_state_to = SOV
					}
				}
			}
			SOV = { country_event = wrwpe.13 }
			FRA = {
				every_state = {
					limit = {
						is_owned_by = GER
						is_core_of = GER
					}
					transfer_state_to = FRA
				}
				FRA = { country_event = wrwpe.14 }
			}
		}
		if = {
			limit = {
				FRA = { has_country_flag = second_great_war_winner }
				RUS = { has_country_flag = second_great_war_winner }
			}
			if = {
				limit = {
					RUS = { has_global_flag = fall_of_berlin_by_RUS }
				}
				every_state = {
					limit = {
						is_owned_by = GER
						OR = {
							state = 188
							state = 68
							state = 63
							state = 66
							state = 67
							state = 762
							state = 86
							state = 85
							state = 807
							state = 5
							state = 763
							#eastern germany
							state = 957
							state = 64
							state = 61
							state = 62
							state = 60
							state = 65
						}
					}
					transfer_state_to = RUS
				}
				else = {
					every_state = {
						limit = {
							is_owned_by = GER
							OR = {
								state = 188
								state = 68
								state = 63
								state = 66
								state = 67
								state = 762
								state = 86
								state = 85
								state = 807
								state = 5
								state = 763
							}
						}
						transfer_state_to = RUS
					}
				}
			}
			RUS = { country_event = wrwpe.13 }
			FRA = {
				every_state = {
					limit = {
						is_owned_by = GER
						is_core_of = GER
					}
					transfer_state_to = FRA
				}
				FRA = { country_event = wrwpe.14 }
			}
		}
	}
	#fate of france
	if = {
		limit = {
			REI = { has_country_flag = second_great_war_winner }
			FRA = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_france_flag }
			}
		}
		REI = { country_event = wrwpe.5 }
		every_state = {
			limit = {
				is_owned_by = FRA
				is_core_of = CAN
			}
			transfer_state_to = CAN
		}
		if = {
			limit = {
				SPA = {
					exists = yes
				}
			}
			FRA = {
				every_state = {
					limit = {
						is_owned_by = FRA
						OR = {
							is_core_of = SPA
							state = 290
							state = 699
							state = 783
							state = 178
							state = 297
						}
					}
					transfer_state_to = SPA
				}
			}
		}
		else = {
			FRA = {
				every_state = {
					limit = {
						is_owned_by = FRA
						OR = {
							is_core_of = SPR
							state = 290
							state = 699
							state = 783
							state = 178
							state = 297
						}
					}
					transfer_state_to = SPR
				}
			}
		}
		FRA = {
			every_state = {
				limit = {
					is_owned_by = FRA
					is_core_of = ADO
				}
				transfer_state_to = ADO
			}
		}
	}
	else_if = {
		limit = {
			FRA = { has_country_flag = second_great_war_loser }
			any_country = {
				has_country_flag = defeat_france_flag
			}
		}
		every_country = {
			limit = {
				has_country_flag = second_great_war_winner
				has_country_flag = defeat_france_flag
			}
			country_event = wrwpe.5
		}
		every_state = {
			limit = {
				is_owned_by = FRA
				is_core_of = CAN
			}
			transfer_state_to = CAN
		}
		if = {
			limit = {
				SPA = {
					exists = yes
				}
			}
			FRA = {
				every_state = {
					limit = {
						is_owned_by = FRA
						OR = {
							is_core_of = SPA
							state = 290
							state = 699
							state = 783
							state = 178
							state = 297
						}
					}
					transfer_state_to = SPA
				}
			}
		}
		else = {
			FRA = {
				every_state = {
					limit = {
						is_owned_by = FRA
						OR = {
							is_core_of = SPR
							state = 290
							state = 699
							state = 783
							state = 178
							state = 297
						}
					}
					transfer_state_to = SPR
				}
			}
		}
	}
	#fate of italy
	if = {
		limit = {
			REI = { has_country_flag = second_great_war_winner }
			ITA = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_italy_flag }
			}
		}
		ITA = { retire_country_leader = yes }
		REI = { country_event = wrwpe.6 }
	}
	else_if = {
		limit = {
			ENT = { has_country_flag = second_great_war_winner }
			ITA = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_italy_flag }
			}
		}
		ITA = { retire_country_leader = yes }
		ENT = { country_event = wrwpe.6 }
	}
	else_if = {
		limit = {
			ITA = { has_country_flag = second_great_war_loser }
			any_country = {
				has_country_flag = defeat_italy_flag
			}
		}
		ITA = { retire_country_leader = yes }
		every_country = {
			limit = {
				has_country_flag = second_great_war_winner
				has_country_flag = defeat_italy_flag
			}
			country_event = wrwpe.6
		}
	}
	#free british colonies
	if = {
		limit = {
			ENG = { has_country_flag = second_great_war_loser }
		}
		if = {
			limit = {
				TUR = { has_country_flag = second_great_war_winner }
			}
			if = {
				limit = {
					OR = {
						has_dlc = "Together for Victory"
						has_dlc = "Man the Guns"
					}
				}
				set_autonomy = {
					target = OMA
					autonomous_state = autonomy_protectorate
					freedom_level = 0.8
				}
				else = {
					puppet = OMA
				}
			}
			else = {
				ENG = { end_puppet = OMA }
				OMA = { clr_country_flag = protectorate }
			}
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				is_core_of = CAN
			}
			transfer_state_to = CAN
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				is_core_of = AST
			}
			transfer_state_to = AST
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				is_core_of = NZL
			}
			transfer_state_to = NZL
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				is_core_of = RAJ
			}
			transfer_state_to = RAJ
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				is_core_of = GYA
			}
			transfer_state_to = GYA
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				is_core_of = BLZ
			}
			transfer_state_to = BLZ
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				is_core_of = BAH
			}
			transfer_state_to = BAH
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				is_core_of = JAM
			}
			transfer_state_to = JAM
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				is_core_of = TRI
			}
			transfer_state_to = TRI
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				is_core_of = BAS
			}
			transfer_state_to = BAS
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				is_core_of = TRI
			}
			transfer_state_to = TRI
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				OR = {
					state = 980
					state = 333
				}
			}
			transfer_state_to = GER
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				OR = {
					state = 712
					state = 711
				}
			}
			transfer_state_to = INS
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				is_core_of = SOL
			}
			transfer_state_to = SOL
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				is_core_of = SRL
			}
			transfer_state_to = SRL
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				is_core_of = KUW
			}
			transfer_state_to = KUW
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				is_core_of = QAT
			}
			transfer_state_to = QAT
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				is_core_of = UAE
			}
			transfer_state_to = UAE
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				is_core_of = FIJ
			}
			transfer_state_to = FIJ
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				is_core_of = CYP
			}
			transfer_state_to = CYP
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				state = 270
			}
			transfer_state_to = CHL
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				state = 720
			}
			transfer_state_to = ARG
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				state = 446
			}
			transfer_state_to = EGY
		}
	}
	#islands
	if = {
		limit = {
			ENG = { has_country_flag = second_great_war_loser }
			GER = { has_country_flag = second_great_war_winner }
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				OR = {
					state = 703
					state = 704
					state = 707
					state = 709
					state = 710
				}
			}
			transfer_state_to = GER
		}
	}
	#fate of britain
	if = {
		limit = {
			REI = { has_country_flag = second_great_war_winner }
			ENG = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_britain_flag }
			}
		}
		REI = { country_event = wrwpe.7 }
	}
	else_if = {
		limit = {
			ENT = { has_country_flag = second_great_war_winner }
			ENG = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_britain_flag }
			}
		}
		ENT = { country_event = wrwpe.7 }
	}
	else_if = {
		limit = {
			ENG = { has_country_flag = second_great_war_loser }
			any_country = {
				has_country_flag = defeat_britain_flag
			}
		}
		every_country = {
			limit = {
				has_country_flag = second_great_war_winner
				has_country_flag = defeat_britain_flag
			}
			country_event = wrwpe.7
		}
	}
	#fate of canada
	if = {
		limit = {
			USA = { has_country_flag = second_great_war_winner }
			OR = {
				has_global_flag = USA_cap_CAN
				CAN = { has_country_flag = second_great_war_loser }
			}
			all_country = {
				NOT = { has_country_flag = defeat_canada_flag }
			}
		}
		USA = { country_event = wrwpe.15 }
	}
	else_if = {
		limit = {
			CAN = { has_country_flag = second_great_war_loser }
			any_country = {
				has_country_flag = defeat_canada_flag
			}
		}
		every_country = {
			limit = {
				has_country_flag = second_great_war_winner
				has_country_flag = defeat_canada_flag
			}
			country_event = wrwpe.15
		}
	}
	#fate of Australia
	if = {
		limit = {
			AST = { has_country_flag = second_great_war_loser }
			any_country = {
				has_country_flag = defeat_australia_flag
			}
		}
		every_country = {
			limit = {
				has_country_flag = second_great_war_winner
				has_country_flag = defeat_australia_flag
			}
			country_event = wrwpe.16
		}
	}
	#fate of New Zealand
	if = {
		limit = {
			NZL = { has_country_flag = second_great_war_loser }
			any_country = {
				has_country_flag = defeat_new_zealand_flag
			}
		}
		every_country = {
			limit = {
				has_country_flag = second_great_war_winner
				has_country_flag = defeat_new_zealand_flag
			}
			country_event = wrwpe.17
		}
	}
	#fate of RAJ
	if = {
		limit = {
			RAJ = { has_country_flag = second_great_war_loser }
		}
		every_state = {
			limit = {
				is_owned_by = RAJ
				is_core_of = BRM
			}
			transfer_state_to = BRM
		}
	}
	if = {
		limit = {
			RAJ = { has_country_flag = second_great_war_loser }
			any_country = {
				has_country_flag = defeat_raj_flag
			}
		}
		every_country = {
			limit = {
				has_country_flag = second_great_war_winner
				has_country_flag = defeat_raj_flag
			}
			country_event = wrwpe.26
		}
	}
	#fate of austria hungary
	if = {
		limit = {
			REI = { has_country_flag = second_great_war_winner }
			AUH = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_austria_hungary_flag }
			}
		}
		REI = { country_event = wrwpe.8 }
	}
	else_if = {
		limit = {
			ENT = { has_country_flag = second_great_war_winner }
			AUH = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_austria_hungary_flag }
			}
		}
		ENT = { country_event = wrwpe.8 }
	}
	else_if = {
		limit = {
			AUH = { has_country_flag = second_great_war_loser }
			any_country = {
				has_country_flag = defeat_austria_hungary_flag
			}
		}
		every_country = {
			limit = {
				has_country_flag = second_great_war_winner
				has_country_flag = defeat_austria_hungary_flag
			}
			country_event = wrwpe.8
		}
	}
	#fate of US
	if = {
		limit = {
			REI = { has_country_flag = second_great_war_winner }
			USA = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_usa_flag }
			}
		}
		REI = { country_event = wrwpe.10 }
	}
	else_if = {
		limit = {
			ENT = { has_country_flag = second_great_war_winner }
			USA = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_usa_flag }
			}
		}
		ENT = { country_event = wrwpe.10 }
	}
	else_if = {
		limit = {
			USA = { has_country_flag = second_great_war_loser }
			any_country = {
				has_country_flag = defeat_usa_flag
			}
		}
		every_country = {
			limit = {
				has_country_flag = second_great_war_winner
				has_country_flag = defeat_usa_flag
			}
			country_event = wrwpe.10
		}
	}
	#fate of ottoman
	if = {
		limit = {
			REI = { has_country_flag = second_great_war_winner }
			TUR = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_ottoman_flag }
			}
		}
		REI = { country_event = wrwpe.11 }
	}
	else_if = {
		limit = {
			ENT = { has_country_flag = second_great_war_winner }
			TUR = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_ottoman_flag }
			}
		}
		ENT = { country_event = wrwpe.11 }
	}
	else_if = {
		limit = {
			TUR = { has_country_flag = second_great_war_loser }
			any_country = {
				has_country_flag = defeat_ottoman_flag
			}
		}
		every_country = {
			limit = {
				has_country_flag = second_great_war_winner
				has_country_flag = defeat_ottoman_flag
			}
			country_event = wrwpe.11
		}
	}
	#fate of SPA
	if = {
		limit = {
			SPA = { exists = yes }
		}
		if = {
			limit = {
				REI = { has_country_flag = second_great_war_winner }
				SPA = { has_country_flag = second_great_war_loser }
				all_country = {
					NOT = { has_country_flag = defeat_spain_flag }
				}
			}
			REI = { country_event = wrwpe.12 }
		}
		else_if = {
			limit = {
				ENT = { has_country_flag = second_great_war_winner }
				SPA = { has_country_flag = second_great_war_loser }
				all_country = {
					NOT = { has_country_flag = defeat_spain_flag }
				}
			}
			ENT = { country_event = wrwpe.12 }
		}
		else_if = {
			limit = {
				SPR = { has_country_flag = second_great_war_loser }
				any_country = {
					has_country_flag = defeat_spain_flag
				}
			}
			every_country = {
				limit = {
					has_country_flag = second_great_war_winner
					has_country_flag = defeat_spain_flag
				}
				country_event = wrwpe.12
			}
		}
	}
	#fate of SPR
	if = {
		limit = {
			SPR = { exists = yes }
		}
		if = {
			limit = {
				REI = { has_country_flag = second_great_war_winner }
				SPR = { has_country_flag = second_great_war_loser }
				all_country = {
					NOT = { has_country_flag = defeat_spain_flag }
				}
			}
			REI = { country_event = wrwpe.12 }
		}
		else_if = {
			limit = {
				ENT = { has_country_flag = second_great_war_winner }
				SPR = { has_country_flag = second_great_war_loser }
				all_country = {
					NOT = { has_country_flag = defeat_spain_flag }
				}
			}
			ENT = { country_event = wrwpe.12 }
		}
		else_if = {
			limit = {
				SPR = { has_country_flag = second_great_war_loser }
				any_country = {
					has_country_flag = defeat_spain_flag
				}
			}
			every_country = {
				limit = {
					has_country_flag = second_great_war_winner
					has_country_flag = defeat_spain_flag
				}
				country_event = wrwpe.12
			}
		}
	}
	#fate of Ireland
	if = {
		limit = {
			REI = { has_country_flag = second_great_war_winner }
			IRE = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_ireland_flag }
			}
		}
		REI = { country_event = wrwpe.18 }
	}
	else_if = {
		limit = {
			ENT = { has_country_flag = second_great_war_winner }
			IRE = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_ireland_flag }
			}
		}
		ENT = { country_event = wrwpe.18 }
	}
	else_if = {
		limit = {
			IRE = { has_country_flag = second_great_war_loser }
			any_country = {
				has_country_flag = defeat_ireland_flag
			}
		}
		every_country = {
			limit = {
				has_country_flag = second_great_war_winner
				has_country_flag = defeat_ireland_flag
			}
			country_event = wrwpe.18
		}
	}
	#fate of denmark
	if = {
		limit = {
			REI = { has_country_flag = second_great_war_winner }
			DEN = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_denmark_flag }
			}
		}
		REI = { country_event = wrwpe.19 }
	}
	else_if = {
		limit = {
			ENT = { has_country_flag = second_great_war_winner }
			DEN = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_denmark_flag }
			}
		}
		ENT = { country_event = wrwpe.19 }
	}
	else_if = {
		limit = {
			DEN = { has_country_flag = second_great_war_loser }
			any_country = {
				has_country_flag = defeat_denmark_flag
			}
		}
		every_country = {
			limit = {
				has_country_flag = second_great_war_winner
				has_country_flag = defeat_denmark_flag
			}
			country_event = wrwpe.19
		}
	}
	#fate of norway
	if = {
		limit = {
			REI = { has_country_flag = second_great_war_winner }
			NOR = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_norway_flag }
			}
		}
		REI = { country_event = wrwpe.20 }
	}
	else_if = {
		limit = {
			ENT = { has_country_flag = second_great_war_winner }
			NOR = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_norway_flag }
			}
		}
		ENT = { country_event = wrwpe.20 }
	}
	else_if = {
		limit = {
			NOR = { has_country_flag = second_great_war_loser }
			any_country = {
				has_country_flag = defeat_norway_flag
			}
		}
		every_country = {
			limit = {
				has_country_flag = second_great_war_winner
				has_country_flag = defeat_norway_flag
			}
			country_event = wrwpe.20
		}
	}
	#fate of sweden
	if = {
		limit = {
			REI = { has_country_flag = second_great_war_winner }
			SWE = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_sweden_flag }
			}
		}
		REI = { country_event = wrwpe.21 }
	}
	else_if = {
		limit = {
			ENT = { has_country_flag = second_great_war_winner }
			SWE = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_sweden_flag }
			}
		}
		ENT = { country_event = wrwpe.21 }
	}
	else_if = {
		limit = {
			SWE = { has_country_flag = second_great_war_loser }
			any_country = {
				has_country_flag = defeat_sweden_flag
			}
		}
		every_country = {
			limit = {
				has_country_flag = second_great_war_winner
				has_country_flag = defeat_sweden_flag
			}
			country_event = wrwpe.21
		}
	}
	#fate of finland
	if = {
		limit = {
			REI = { has_country_flag = second_great_war_winner }
			FIN = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_finland_flag }
			}
		}
		REI = { country_event = wrwpe.22 }
	}
	else_if = {
		limit = {
			SOV = { has_country_flag = second_great_war_winner }
			FIN = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_finland_flag }
			}
		}
		SOV = { country_event = wrwpe.22 }
	}
	else_if = {
		limit = {
			ENT = { has_country_flag = second_great_war_winner }
			FIN = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_finland_flag }
			}
		}
		ENT = { country_event = wrwpe.22 }
	}
	else_if = {
		limit = {
			FIN = { has_country_flag = second_great_war_loser }
			any_country = {
				has_country_flag = defeat_finland_flag
			}
		}
		every_country = {
			limit = {
				has_country_flag = second_great_war_winner
				has_country_flag = defeat_finland_flag
			}
			country_event = wrwpe.22
		}
	}
	#INS drop cosmetic tag when free
	if = {
		limit = {
			HOL = { has_country_flag = second_great_war_loser }
		}
		HOL = { end_puppet = INS }
		INS = { abandon_colony_tag = yes }
		every_state = {
			limit = {
				is_owned_by = HOL
				is_core_of = SUR
			}
			transfer_state_to = SUR
		}
		every_state = {
			limit = {
				is_owned_by = HOL
				is_core_of = CRC
			}
			transfer_state_to = CRC
		}
	}
	#for balkan
	if = {
		limit = {
			OR = {
				BUL = { has_country_flag = second_great_war_loser }
				BUL = { has_country_flag = second_great_war_winner }
			}
			OR = {
				GRE = { has_country_flag = second_great_war_loser }
				GRE = { has_country_flag = second_great_war_winner }
			}
			has_global_flag = fourth_balkan_war
		}
		clr_global_flag = fourth_balkan_war
	}
	if = {
		limit = {
			BUL = { has_country_flag = second_great_war_winner }
			GRE = { has_country_flag = second_great_war_loser }
		}
		every_state = {
			limit = {
				is_owned_by = GRE
				state = 930
			}
			transfer_state_to = BUL
		}
		BUL = {
			if = {
				limit = {
					has_dlc = "Together for Victory"
				}
				set_autonomy = {
					target = GRE
					autonomous_state = autonomy_puppet
					freedom_level = 0.5
				}
				else = {
					puppet = GRE
				}
			}
		}
	}
	if = {
		limit = {
			BUL = { has_country_flag = second_great_war_loser }
		}
		every_state = {
			limit = {
				is_owned_by = BUL
				is_core_of = GRE
			}
			transfer_state_to = GRE
		}
		every_state = {
			limit = {
				is_owned_by = BUL
				is_core_of = ROM
			}
			transfer_state_to = ROM
		}
	}
	if = {
		limit = {
			BUL = { has_country_flag = second_great_war_winner }
			SER = { has_country_flag = second_great_war_loser }
			NOT = { AUH = { has_country_flag = second_great_war_winner } }
		}
		BUL = {
			if = {
				limit = {
					has_dlc = "Together for Victory"
				}
				set_autonomy = {
					target = SER
					autonomous_state = autonomy_puppet
					freedom_level = 0.5
				}
				else = {
					puppet = SER
				}
			}
		}
	}
	if = {
		limit = {
			BUL = { has_country_flag = second_great_war_winner }
			ROM = { has_country_flag = second_great_war_loser }
			AUH = { has_country_flag = second_great_war_winner }
		}
		AUH = {
			if = {
				limit = {
					has_dlc = "Together for Victory"
				}
				set_autonomy = {
					target = ROM
					autonomous_state = autonomy_puppet
					freedom_level = 0.5
				}
				else = {
					puppet = ROM
				}
			}
		}
	}
	else_if = {
		limit = {
			BUL = { has_country_flag = second_great_war_winner }
			ROM = { has_country_flag = second_great_war_loser }
			NOT = { AUH = { has_country_flag = second_great_war_winner } }
		}
		BUL = {
			if = {
				limit = {
					has_dlc = "Together for Victory"
				}
				set_autonomy = {
					target = ROM
					autonomous_state = autonomy_puppet
					freedom_level = 0.5
				}
				else = {
					puppet = ROM
				}
			}
		}
	}
	if = {
		limit = {
			GER = { has_country_flag = second_great_war_winner }
			USS = { has_country_flag = second_great_war_loser }
			USS = { exists = yes }
		}
		GER = {
			if = {
				limit = {
					has_dlc = "Together for Victory"
				}
				set_autonomy = {
					target = USS
					autonomous_state = autonomy_puppet
					freedom_level = 0.5
				}
				else = {
					puppet = USS
				}
			}
		}
		USS = { set_cosmetic_tag = GER_UKR }
	}
	if = {
		limit = {
			GER = { has_country_flag = second_great_war_winner }
			UPR = { has_country_flag = second_great_war_loser }
			UPR = { exists = yes }
		}
		GER = {
			if = {
				limit = {
					has_dlc = "Together for Victory"
				}
				set_autonomy = {
					target = UPR
					autonomous_state = autonomy_puppet
					freedom_level = 0.5
				}
				else = {
					puppet = UPR
				}
			}
		}
		UPR = { set_cosmetic_tag = GER_UKR }
	}
}
german_puppet_effect = {
	if = {
		limit = {
			GER = {
				has_country_flag = second_great_war_loser
			}
		}
		every_country = {
			limit = {
				is_subject_of = GER
				NOT = { original_tag = GOA }
			}
			GER = { end_puppet = PREV }
		}
	}
	if = {
		limit = {
			POL = {
				has_country_flag = second_great_war_loser
			}
		}
		POL = {
			retire_character = POL_albrecht_wurttemberg
			set_politics = {
				ruling_party = neutrality
				elections_allowed = yes
				election_frequency = 48
				long_name = POL_Sanacja_party
				name = POL_Sanacja_party
			}
		}
	}
	if = {
		limit = {
			UBD = {
				has_country_flag = second_great_war_loser
			}
		}
		UBD = { retire_character = UBD_Adolf_Friedrich_zu_Mecklenburg }
	}
	if = {
		limit = {
			LIT = {
				has_country_flag = second_great_war_loser
			}
		}
		LIT = { retire_character = LIT_wilhelm_urach }
	}
	if = {
		limit = {
			UBD = {
				exists = yes
				has_country_flag = second_great_war_loser
			}
		}
		if = {
			limit = {
				RUS = { has_country_flag = second_great_war_winner }
			}
			RUS = { annex_country = { target = UBD transfer_troops = no } }
		}
		if = {
			limit = {
				EST = { exists = no }
				SOV = { has_country_flag = second_great_war_winner }
			}
			EST = { set_country_flag = puppet_to_sov_or_rus }
		}
		if = {
			limit = {
				LAT = { exists = no }
				SOV = { has_country_flag = second_great_war_winner }
			}
			LAT = { set_country_flag = puppet_to_sov_or_rus }
		}
		every_state = {
			limit = {
				is_owned_by = UBD
				is_core_of = EST
			}
			transfer_state_to = EST
		}
		every_state = {
			limit = {
				is_owned_by = UBD
				is_core_of = LAT
			}
			transfer_state_to = LAT
		}
	}
	#transfer state to CZE
	if = {
		limit = {
			GER = { has_country_flag = second_great_war_loser }
		}
		every_state = {
			limit = {
				is_owned_by = GER
				is_core_of = CZE
			}
			transfer_state_to = CZE
		}
	}
	#transfer state to poland
	if = {
		limit = {
			GER = { has_country_flag = second_great_war_loser }
		}
		every_state = {
			limit = {
				is_owned_by = GER
				is_core_of = POL
				NOT = { state = 762 }
			}
			transfer_state_to = POL
		}
	}
	if = {
		limit = {
			LIT = { has_country_flag = second_great_war_loser }
		}
		every_state = {
			limit = {
				is_owned_by = LIT
				state = 97
			}
			transfer_state_to = POL
		}
	}
	#to soviet eastern puppets
	if = {
		limit = {
			SOV = { has_country_flag = second_great_war_winner }
			POL = {
				exists = yes
				has_country_flag = second_great_war_loser
			}
		}
		SOV = {
			if = {
				limit = {
					has_dlc = "Together for Victory"
				}
				set_autonomy = {
					target = POL
					autonomous_state = autonomy_puppet
					freedom_level = 0.5
				}
				else = {
					puppet = POL
				}
			}
		}
	}
	if = {
		limit = {
			SOV = { has_country_flag = second_great_war_winner }
			UBD = {
				exists = yes
				has_country_flag = second_great_war_loser
			}
		}
		SOV = {
			if = {
				limit = {
					has_dlc = "Together for Victory"
				}
				set_autonomy = {
					target = UBD
					autonomous_state = autonomy_puppet
					freedom_level = 0.5
				}
				else = {
					puppet = UBD
				}
			}
		}
	}
	if = {
		limit = {
			SOV = { has_country_flag = second_great_war_winner }
			EST = {
				exists = yes
				has_country_flag = puppet_to_sov_or_rus
			}
		}
		SOV = {
			if = {
				limit = {
					has_dlc = "Together for Victory"
				}
				set_autonomy = {
					target = EST
					autonomous_state = autonomy_puppet
					freedom_level = 0.5
				}
				else = {
					puppet = EST
				}
			}
		}
	}
	if = {
		limit = {
			SOV = { has_country_flag = second_great_war_winner }
			LAT = {
				exists = yes
				has_country_flag = puppet_to_sov_or_rus
			}
		}
		SOV = {
			if = {
				limit = {
					has_dlc = "Together for Victory"
				}
				set_autonomy = {
					target = LAT
					autonomous_state = autonomy_puppet
					freedom_level = 0.5
				}
				else = {
					puppet = LAT
				}
			}
		}
	}
	if = {
		limit = {
			SOV = { has_country_flag = second_great_war_winner }
			BLR = {
				exists = yes
				has_country_flag = second_great_war_loser
			}
		}
		SOV = {
			if = {
				limit = {
					has_dlc = "Together for Victory"
				}
				set_autonomy = {
					target = BLR
					autonomous_state = autonomy_puppet
					freedom_level = 0.5
				}
				else = {
					puppet = BLR
				}
			}
		}
	}
	if = {
		limit = {
			SOV = { has_country_flag = second_great_war_winner }
			LIT = {
				exists = yes
				has_country_flag = second_great_war_loser
			}
		}
		SOV = {
			if = {
				limit = {
					has_dlc = "Together for Victory"
				}
				set_autonomy = {
					target = LIT
					autonomous_state = autonomy_puppet
					freedom_level = 0.5
				}
				else = {
					puppet = LIT
				}
			}
		}
	}
	if = {
		limit = {
			SOV = { has_country_flag = second_great_war_winner }
			UKR = {
				exists = yes
				has_country_flag = second_great_war_loser
			}
		}
		SOV = {
			if = {
				limit = {
					has_dlc = "Together for Victory"
				}
				set_autonomy = {
					target = UKR
					autonomous_state = autonomy_puppet
					freedom_level = 0.5
				}
				else = {
					puppet = UKR
				}
			}
		}
	}
	if = {
		limit = {
			SOV = { has_country_flag = second_great_war_winner }
			USS = {
				exists = yes
				has_country_flag = second_great_war_loser
			}
		}
		SOV = {
			if = {
				limit = {
					has_dlc = "Together for Victory"
				}
				set_autonomy = {
					target = USS
					autonomous_state = autonomy_puppet
					freedom_level = 0.5
				}
				else = {
					puppet = USS
				}
			}
		}
	}
	if = {
		limit = {
			SOV = { has_country_flag = second_great_war_winner }
			UPR = {
				exists = yes
				has_country_flag = second_great_war_loser
			}
		}
		SOV = {
			if = {
				limit = {
					has_dlc = "Together for Victory"
				}
				set_autonomy = {
					target = UPR
					autonomous_state = autonomy_puppet
					freedom_level = 0.5
				}
				else = {
					puppet = UPR
				}
			}
		}
	}
	#to russia eastern puppets
	if = {
		limit = {
			RUS = { has_country_flag = second_great_war_winner }
			POL = {
				exists = yes
				has_country_flag = second_great_war_loser
			}
		}
		RUS = {
			if = {
				limit = {
					has_dlc = "Together for Victory"
				}
				set_autonomy = {
					target = POL
					autonomous_state = autonomy_puppet
					freedom_level = 0.5
				}
				else = {
					puppet = POL
				}
			}
		}
	}
	if = {
		limit = {
			RUS = { has_country_flag = second_great_war_winner }
			UBD = {
				exists = yes
				has_country_flag = second_great_war_loser
			}
		}
		RUS = {
			annex_country = {
				target = UBD transfer_troops = no
			}
		}
	}
	if = {
		limit = {
			RUS = { has_country_flag = second_great_war_winner }
			EST = {
				exists = yes
				has_country_flag = puppet_to_sov_or_rus
			}
		}
		RUS = {
			annex_country = {
				target = EST transfer_troops = no
			}
		}
	}
	if = {
		limit = {
			RUS = { has_country_flag = second_great_war_winner }
			LAT = {
				exists = yes
				has_country_flag = puppet_to_sov_or_rus
			}
		}
		RUS = {
			annex_country = {
				target = LAT transfer_troops = no
			}
		}
	}
	if = {
		limit = {
			RUS = { has_country_flag = second_great_war_winner }
			BLR = {
				exists = yes
				has_country_flag = second_great_war_loser
			}
		}
		RUS = {
			annex_country = {
				target = BLR transfer_troops = no
			}
		}
	}
	if = {
		limit = {
			RUS = { has_country_flag = second_great_war_winner }
			LIT = {
				exists = yes
				has_country_flag = second_great_war_loser
			}
		}
		RUS = {
			annex_country = {
				target = LIT transfer_troops = no
			}
		}
	}
	if = {
		limit = {
			RUS = { has_country_flag = second_great_war_winner }
			UKR = {
				exists = yes
				has_country_flag = second_great_war_loser
			}
		}
		RUS = {
			annex_country = {
				target = UKR transfer_troops = no
			}
		}
	}
	if = {
		limit = {
			RUS = { has_country_flag = second_great_war_winner }
			USS = {
				exists = yes
				has_country_flag = second_great_war_loser
			}
		}
		RUS = {
			annex_country = {
				target = USS transfer_troops = no
			}
		}
	}
	if = {
		limit = {
			RUS = { has_country_flag = second_great_war_winner }
			UPR = {
				exists = yes
				has_country_flag = second_great_war_loser
			}
		}
		RUS = {
			annex_country = {
				target = UPR transfer_troops = no
			}
		}
	}
	#bel to france
	if = {
		limit = {
			FRA = { has_country_flag = second_great_war_winner }
			BEL = {
				exists = yes
				has_country_flag = second_great_war_loser
			}
		}
		every_state = {
			limit = {
				is_owned_by = GER
				is_core_of = BEL
			}
			transfer_state_to = BEL
		}
		FRA = {
			if = {
				limit = {
					has_dlc = "Together for Victory"
				}
				set_autonomy = {
					target = BEL
					autonomous_state = autonomy_puppet
					freedom_level = 0.5
				}
				else = {
					puppet = BEL
				}
			}
		}
	}
	#hol to france
	if = {
		limit = {
			FRA = { has_country_flag = second_great_war_winner }
			HOL = {
				has_country_flag = second_great_war_loser
			}
		}
		every_state = {
			limit = {
				is_owned_by = HOL
				NOT = { is_core_of = HOL }
			}
			transfer_state_to = FRA
		}
		if = {
			limit = {
				HOL = { exists = yes }
			}
			FRA = {
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = {
						target = HOL
						autonomous_state = autonomy_puppet
						freedom_level = 0.5
					}
					else = {
						puppet = HOL
					}
				}
			}
		}
	}
	#free hol
	if = {
		limit = {
			any_country = { has_country_flag = second_great_war_loser }
			any_state = {
				is_core_of = HOL
				is_owned_by = PREV
			}
		}
		every_state = {
			limit = {
				is_owned_by = PREV
				is_core_of = HOL
			}
			transfer_state_to = HOL
		}
	}
	if = {
		limit = {
			any_country = { has_country_flag = second_great_war_loser }
			HOL = { is_subject_of = PREV }
		}
		PREV = { end_puppet = HOL }
		HOL = { leave_faction = yes }
	}
	#free ins
	if = {
		limit = {
			any_country = { has_country_flag = second_great_war_loser }
			any_state = {
				is_core_of = INS
				is_owned_by = PREV
			}
		}
		every_state = {
			limit = {
				is_owned_by = PREV
				is_core_of = INS
			}
			transfer_state_to = INS
		}
	}
	if = {
		limit = {
			any_country = { has_country_flag = second_great_war_loser }
			INS = { is_subject_of = PREV }
		}
		PREV = { end_puppet = INS }
		INS = { leave_faction = yes }
	}
	#free lux
	if = {
		limit = {
			FRA = { has_country_flag = second_great_war_winner }
			GER = { has_country_flag = second_great_war_loser }
			8 = { is_owned_by = GER }
		}
		FRA = {
			if = {
				limit = {
					has_dlc = "Together for Victory"
				}
				set_autonomy = {
					target = LUX
					autonomous_state = autonomy_puppet
					freedom_level = 0.5
				}
				else = {
					puppet = LUX
				}
			}
		}
		every_state = {
			limit = {
				is_owned_by = GER
				is_core_of = LUX
			}
			transfer_state_to = LUX
		}
		LUX = { inherit_technology = FRA }
	}
	#morocco
	if = {
		limit = {
			GER = { has_country_flag = second_great_war_loser }
			FRA = { has_country_flag = second_great_war_winner }
		}
		if = {
			limit = {
				has_dlc = "Together for Victory"
			}
			set_autonomy = {
				target = MOR
				autonomous_state = autonomy_puppet
				freedom_level = 0.5
			}
			else = {
				puppet = MOR
			}
		}
		every_state = {
			limit = {
				is_owned_by = GER
				is_core_of = MOR
			}
			transfer_state_to = MOR
		}
	}
	#mittel afrika
	if = {
		limit = {
			GER = { has_country_flag = second_great_war_loser }
			FRA = { has_country_flag = second_great_war_winner }
		}
		if = {
			limit = {
				FRA = { has_completed_focus = domination_Equatorial_Africa }
			}
			every_state = {
				limit = {
					is_owned_by = GER
					is_core_of = GHA
				}
				transfer_state_to = GHA
			}
			every_state = {
				limit = {
					is_owned_by = GER
					is_core_of = NGA
				}
				transfer_state_to = NGA
			}
			every_state = {
				limit = {
					is_owned_by = GER
					is_core_of = COG
				}
				transfer_state_to = COG
			}
			every_state = {
				limit = {
					is_owned_by = GER
					is_core_of = ANG
				}
				transfer_state_to = ANG
			}
			FRA = {
				if = {
					limit = {
						has_dlc = "Together for Victory"
						GHA = { exists = yes }
					}
					set_autonomy = {
						target = GHA
						autonomous_state = autonomy_puppet
						freedom_level = 0.5
					}
				}
				else_if = {
					limit = {
						GHA = { exists = yes }
					}
					puppet = GHA
				}
				if = {
					limit = {
						has_dlc = "Together for Victory"
						NGA = { exists = yes }
					}
					set_autonomy = {
						target = NGA
						autonomous_state = autonomy_puppet
						freedom_level = 0.5
					}
				}
				else_if = {
					limit = {
						NGA = { exists = yes }
					}
					puppet = NGA
				}
				if = {
					limit = {
						has_dlc = "Together for Victory"
						COG = { exists = yes }
					}
					set_autonomy = {
						target = COG
						autonomous_state = autonomy_puppet
						freedom_level = 0.5
					}
					else = {
						puppet = COG
					}
				}
				if = {
					limit = {
						has_dlc = "Together for Victory"
						ANG = { exists = yes }
					}
					set_autonomy = {
						target = ANG
						autonomous_state = autonomy_puppet
						freedom_level = 0.5
					}
				}
				else_if = {
					limit = {
						ANG = { exists = yes }
					}
					puppet = ANG
				}
			}
			else = {
				every_state = {
					limit = {
						is_owned_by = GER
						OR = {
							state = 274
							state = 777
							state = 776
							state = 902
							state = 558
							state = 901
							state = 900
							state = 773
							state = 774
							state = 660
							state = 772
							state = 539
							state = 538
							state = 295
							state = 718
							state = 890
							state = 888
							state = 889
							state = 796
						}
					}
					transfer_state_to = WAA
					add_core_of = WAA
				}
				FRA = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
							WAA = { exists = yes }
						}
						set_autonomy = {
							target = WAA
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
					}
					else_if = {
						limit = {
							WAA = { exists = yes }
						}
						puppet = WAA
					}
				}
			}
		}
		every_state = {
			limit = {
				is_owned_by = GER
				OR = {
					state = 893
					state = 541
					state = 894
					state = 895
					state = 891
					state = 892
					state = 540
					state = 771
				}
			}
			transfer_state_to = SAA
			add_core_of = SAA
		}
		FRA = {
			if = {
				limit = {
					has_dlc = "Together for Victory"
					SAA = { exists = yes }
				}
				set_autonomy = {
					target = SAA
					autonomous_state = autonomy_puppet
					freedom_level = 0.5
				}
			}
			else_if = {
				limit = {
					SAA = { exists = yes }
				}
				puppet = SAA
			}
		}
		if = {
			limit = {
				ENG = { has_country_flag = second_great_war_winner }
			}
			every_state = {
				limit = {
					is_owned_by = GER
					OR = {
						state = 770
						state = 546
						state = 768
						state = 548
						state = 904
						state = 769
						state = 905
						state = 547
						state = 903
						state = 844
						state = 708
						state = 543
						state = 706
						state = 713
						state = 268
					}
				}
				transfer_state_to = EAA
				add_core_of = EAA
			}
			ENG = {
				if = {
					limit = {
						has_dlc = "Together for Victory"
						EAA = { exists = yes }
					}
					set_autonomy = {
						target = EAA
						autonomous_state = autonomy_puppet
						freedom_level = 0.5
					}
				}
				else_if = {
					limit = {
						EAA = { exists = yes }
					}
					puppet = EAA
				}
			}
			else = {
				every_state = {
					limit = {
						is_owned_by = GER
						OR = {
							state = 770
							state = 546
							state = 768
							state = 548
							state = 904
							state = 769
							state = 905
							state = 547
							state = 903
							state = 844
							state = 708
							state = 543
							state = 706
							state = 713
							state = 268
						}
					}
					transfer_state_to = EAA
					add_core_of = EAA
				}
				FRA = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
							EAA = { exists = yes }
						}
						set_autonomy = {
							target = EAA
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
					}
					else_if = {
						limit = {
							EAA = { exists = yes }
						}
						puppet = EAA
					}
				}
			}
		}
	}
	#fall of german asia
	if = {
		limit = {
			OR = {
				GER = { has_country_flag = second_great_war_loser }
				GOA = { has_country_flag = second_great_war_loser }
			}
		}
		every_state = {
			limit = {
				OR = {
					is_owned_by = GOA
					is_owned_by = GER
				}
				is_core_of = FSM
			}
			transfer_state_to = FSM
		}
		every_state = {
			limit = {
				OR = {
					is_owned_by = GOA
					is_owned_by = GER
				}
				is_core_of = SAM
			}
			transfer_state_to = SAM
		}
		if = {
			limit = {
				USA = { has_country_flag = second_great_war_winner }
			}
			every_state = {
				limit = {
					OR = {
						is_owned_by = GOA
						is_owned_by = GER
					}
					is_core_of = GUM
				}
				transfer_state_to = FRA
			}
			else = {
				every_state = {
					limit = {
						OR = {
							is_owned_by = GOA
							is_owned_by = GER
						}
						is_core_of = GUM
					}
					transfer_state_to = GUM
				}
			}
		}
		every_state = {
			limit = {
				OR = {
					is_owned_by = GOA
					is_owned_by = GER
				}
				is_core_of = FIJ
			}
			transfer_state_to = FIJ
		}
		every_state = {
			limit = {
				OR = {
					is_owned_by = GOA
					is_owned_by = GER
				}
				is_core_of = PNG
			}
			transfer_state_to = PNG
		}
		every_state = {
			limit = {
				OR = {
					is_owned_by = GOA
					is_owned_by = GER
				}
				is_core_of = SOL
			}
			transfer_state_to = SOL
		}
		every_state = {
			limit = {
				OR = {
					is_owned_by = GOA
					is_owned_by = GER
				}
				is_core_of = TAH
			}
			transfer_state_to = TAH
		}
		GER = { end_puppet = CAM }
		every_state = {
			limit = {
				OR = {
					is_owned_by = GOA
					is_owned_by = GER
				}
				is_core_of = CAM
			}
			transfer_state_to = CAM
		}
		GER = { end_puppet = VIN }
		every_state = {
			limit = {
				OR = {
					is_owned_by = GOA
					is_owned_by = GER
				}
				is_core_of = VIN
			}
			transfer_state_to = VIN
		}
		GER = { end_puppet = LAO }
		every_state = {
			limit = {
				OR = {
					is_owned_by = GOA
					is_owned_by = GER
				}
				is_core_of = LAO
			}
			transfer_state_to = LAO
		}
		if = {
			limit = {
				JAP = { has_country_flag = second_great_war_winner }
			}
			every_state = {
				limit = {
					OR = {
						is_owned_by = GOA
						is_owned_by = GER
					}
					state = 743
				}
				transfer_state_to = JAP
			}
		}
		else_if = {
			limit = {
				FNG = { controls_state = 743 }
			}
			every_state = {
				limit = {
					OR = {
						is_owned_by = GOA
						is_owned_by = GER
					}
					state = 743
				}
				transfer_state_to = FNG
			}
		}
		else = {
			every_state = {
				limit = {
					OR = {
						is_owned_by = GOA
						is_owned_by = GER
					}
					state = 743
				}
				transfer_state_to = CHI
			}
		}
	}
	#if sov-rus was defeated before germany fall
	if = {
		limit = {
			GER = { has_country_flag = second_great_war_loser }
			SOV = { has_country_flag = anti_russia_war_loser }
			NOT = { has_global_flag = you_cant_stop_now_flag }
		}
		SOV = {
			country_event = soviet_rework_troika.061
			set_country_flag = stop_the_collapse_flag
			set_capital = {
			  state = 219
			  remember_old_capital = no
			}
		}
		if = {
			limit = {
				MOS = { exists = yes }
			}
			if = {
				limit = {
					SOV = { exists = yes }
				}
				every_state = {
					limit = {
						is_core_of = MOS
					}
					remove_core_of = MOS
					add_core_of = SOV
				}
				SOV = { annex_country = { target = MOS transfer_troops = no } }
			}
		}
		if = {
			limit = {
				WOL = { exists = yes }
			}
			if = {
				limit = {
					SOV = { exists = yes }
				}
				every_state = {
					limit = {
						is_core_of = WOL
					}
					remove_core_of = WOL
					add_core_of = SOV
				}
				SOV = { annex_country = { target = WOL transfer_troops = no } }
			}
		}
		if = {
			limit = {
				URL = { exists = yes }
			}
			if = {
				limit = {
					SOV = { exists = yes }
				}
				every_state = {
					limit = {
						is_core_of = URL
					}
					remove_core_of = URL
					add_core_of = SOV
				}
				SOV = { annex_country = { target = URL transfer_troops = no } }
			}
		}
		if = {
			limit = {
				FIN = {
					has_country_flag = second_great_war_loser
					exists = yes
				}
				SOV = { exists = yes }
			}
			every_state = {
				limit = {
					is_owned_by = FIN
					is_core_of = SOV
				}
				transfer_state_to = SOV
			}
		}
		if = {
			limit = {
				UBD = { exists = yes }
			}
			every_state = {
				limit = {
					is_core_of = EST
					is_owned_by = UBD
				}
				transfer_state_to = EST
			}
			LAT = { annex_country = { target = UBD transfer_troops = no } }
		}
	}
	if = {
		limit = {
			GER = { has_country_flag = second_great_war_loser }
			SOV = { has_country_flag = anti_russia_war_loser }
			has_global_flag = you_cant_stop_now_flag
		}
		GER = { end_puppet = RUS }
		every_state = {
			limit = {
				is_core_of = RUS
			}
			transfer_state_to = RUS
		}
		if = {
			limit = {
				MOS = { exists = yes }
			}
			if = {
				limit = {
					RUS = { exists = yes }
				}
				every_state = {
					limit = {
						is_core_of = MOS
					}
					remove_core_of = MOS
					add_core_of = RUS
				}
				RUS = { annex_country = { target = MOS transfer_troops = no } }
			}
		}
		if = {
			limit = {
				WOL = { exists = yes }
			}
			if = {
				limit = {
					RUS = { exists = yes }
				}
				every_state = {
					limit = {
						is_core_of = WOL
					}
					remove_core_of = WOL
					add_core_of = RUS
				}
				RUS = { annex_country = { target = WOL transfer_troops = no } }
			}
		}
		if = {
			limit = {
				URL = { exists = yes }
			}
			if = {
				limit = {
					RUS = { exists = yes }
				}
				every_state = {
					limit = {
						is_core_of = URL
					}
					remove_core_of = URL
					add_core_of = RUS
				}
				RUS = { annex_country = { target = URL transfer_troops = no } }
			}
		}
		if = {
			limit = {
				FIN = {
					has_country_flag = second_great_war_loser
					exists = yes
				}
				RUS = { exists = yes }
			}
			every_state = {
				limit = {
					is_owned_by = FIN
					OR = {
						state = 216
						state = 215
						state = 213
					}
				}
				add_core_of = RUS
				transfer_state_to = RUS
			}
		}
		if = {
			limit = {
				UBD = { exists = yes }
			}
			every_state = {
				limit = {
					is_core_of = EST
					is_owned_by = UBD
				}
				transfer_state_to = EST
			}
			LAT = { annex_country = { target = UBD transfer_troops = no } }
		}
	}
}
peace_conference_effect_for_russia = {
	every_country = {
		limit = {
			has_country_flag = anti_russia_war_loser
		}
		every_state = {
			limit = {
				is_claimed_by = PREV
			}
			remove_claim_by = PREV
		}
		every_other_country = {
			diplomatic_relation = {
				country = PREV
				relation = guarantee
				active = no
			}
			diplomatic_relation = {
				country = PREV
				relation = military_access
				active = no
			}
			diplomatic_relation = {
				country = PREV
				relation = docking_rights
				active = no
			}
			PREV = {
				diplomatic_relation = {
					country = PREV
					relation = guarantee
					active = no
				}
				diplomatic_relation = {
					country = PREV
					relation = military_access
					active = no
				}
				diplomatic_relation = {
					country = PREV
					relation = docking_rights
					active = no
				}
			}
		}
	}
	hidden_effect = {
		every_country = {
			limit = {
				exists = yes
			}
			every_country = {
				limit = {
					has_country_flag = anti_russia_war_loser
				}
				remove_wargoal = {
					type = all
					target = PREV 
				}
			}
		}
		every_country = {
			limit = {
				OR = {
					is_in_faction_with = ROOT
					is_subject_of = ROOT
					has_country_flag = second_great_war_loser
				}
			}
			every_country = {
				limit = {
					has_country_flag = second_great_war_winner
				}
				remove_wargoal = {
					type = all
					target = PREV 
				}
			}
		}
	}
	every_country = {
		limit = {
			exists = yes
			has_country_flag = anti_russia_war_winner
		}
		every_other_country = {
			limit = { has_country_flag = anti_russia_war_loser }
			PREV = {
				every_state = {
					limit = {
						is_owned_by = PREV.PREV
						OR = {
							is_claimed_by = PREV
							is_core_of = PREV
						}
					}
					PREV = {
						transfer_state = PREV
					}
				}
			}
		}
	}
	if = {
		limit = {
			OR = {
				SOV = { has_country_flag = anti_russia_war_winner }
				RUS = { has_country_flag = anti_russia_war_winner }
			}
		}
		#GER = { dismantle_faction = yes }
		GER = { leave_faction = yes }
		every_country = {
			limit = {
				has_war_with = GER
			}
			white_peace = {
				tag = GER
				#message = unconditional_surrender_of_GER
			}
		}
		every_country = {
			limit = {
				is_subject_of = GER
				NOT = { original_tag = GOA }
			}
			clr_country_flag = protectorate
			GER = { end_puppet = PREV }
		}
		#transfer state to poland
		every_state = {
			limit = {
				is_owned_by = GER
				is_core_of = POL
				NOT = { state = 762 }
			}
			transfer_state_to = POL
		}
		every_state = {
			limit = {
				is_owned_by = LIT
				state = 97
			}
			transfer_state_to = POL
		}
		#morocco
		every_state = {
			limit = {
				is_owned_by = GER
				is_core_of = MOR
			}
			transfer_state_to = MOR
		}
		#mittel afrika
		every_state = {
			limit = {
				is_owned_by = GER
				is_core_of = COG
			}
			transfer_state_to = COG
		}
		every_state = {
			limit = {
				is_owned_by = GER
				OR = {
					state = 274
					state = 777
					state = 776
					state = 902
					state = 558
					state = 901
					state = 900
					state = 773
					state = 774
					state = 660
					state = 772
					state = 539
					state = 538
					state = 295
					state = 718
					state = 890
					state = 888
					state = 889
					state = 796
				}
			}
			transfer_state_to = WAA
			add_core_of = WAA
		}
		every_state = {
			limit = {
				is_owned_by = GER
				OR = {
					state = 893
					state = 541
					state = 894
					state = 895
					state = 891
					state = 892
					state = 540
					state = 771
				}
			}
			transfer_state_to = SAA
			add_core_of = SAA
		}
		every_state = {
			limit = {
				is_owned_by = GER
				OR = {
					state = 770
					state = 546
					state = 768
					state = 548
					state = 904
					state = 769
					state = 905
					state = 547
					state = 903
					state = 844
					state = 708
					state = 543
					state = 706
					state = 713
					state = 268
				}
			}
			transfer_state_to = EAA
			add_core_of = EAA
		}
		#fall of german asia
		if = {
			limit = {
				OR = {
					GER = { has_country_flag = anti_russia_war_loser }
					GOA = { has_country_flag = anti_russia_war_loser }
				}
			}
			every_state = {
				limit = {
					OR = {
						is_owned_by = GOA
						is_owned_by = GER
					}
					is_core_of = FSM
				}
				transfer_state_to = FSM
			}
			every_state = {
				limit = {
					OR = {
						is_owned_by = GOA
						is_owned_by = GER
					}
					is_core_of = SAM
				}
				transfer_state_to = SAM
			}
			if = {
				limit = {
					USA = { has_country_flag = anti_russia_war_winner }
				}
				every_state = {
					limit = {
						OR = {
							is_owned_by = GOA
							is_owned_by = GER
						}
						is_core_of = GUM
					}
					transfer_state_to = FRA
				}
				else = {
					every_state = {
						limit = {
							OR = {
								is_owned_by = GOA
								is_owned_by = GER
							}
							is_core_of = GUM
						}
						transfer_state_to = GUM
					}
				}
			}
			every_state = {
				limit = {
					OR = {
						is_owned_by = GOA
						is_owned_by = GER
					}
					is_core_of = FIJ
				}
				transfer_state_to = FIJ
			}
			every_state = {
				limit = {
					OR = {
						is_owned_by = GOA
						is_owned_by = GER
					}
					is_core_of = PNG
				}
				transfer_state_to = PNG
			}
			every_state = {
				limit = {
					OR = {
						is_owned_by = GOA
						is_owned_by = GER
					}
					is_core_of = SOL
				}
				transfer_state_to = SOL
			}
			every_state = {
				limit = {
					OR = {
						is_owned_by = GOA
						is_owned_by = GER
					}
					is_core_of = TAH
				}
				transfer_state_to = TAH
			}
			every_state = {
				limit = {
					OR = {
						is_owned_by = GOA
						is_owned_by = GER
					}
					is_core_of = CAM
				}
				transfer_state_to = CAM
			}
			every_state = {
				limit = {
					OR = {
						is_owned_by = GOA
						is_owned_by = GER
					}
					is_core_of = VIN
				}
				transfer_state_to = VIN
			}
			every_state = {
				limit = {
					OR = {
						is_owned_by = GOA
						is_owned_by = GER
					}
					is_core_of = LAO
				}
				transfer_state_to = LAO
			}
			if = {
				limit = {
					JAP = { has_country_flag = anti_russia_war_winner }
				}
				every_state = {
					limit = {
						OR = {
							is_owned_by = GOA
							is_owned_by = GER
						}
						state = 743
					}
					transfer_state_to = JAP
				}
			}
			else_if = {
				limit = {
					FNG = { controls_state = 743 }
				}
				every_state = {
					limit = {
						OR = {
							is_owned_by = GOA
							is_owned_by = GER
						}
						state = 743
					}
					transfer_state_to = FNG
				}
			}
			else = {
				every_state = {
					limit = {
						OR = {
							is_owned_by = GOA
							is_owned_by = GER
						}
						state = 743
					}
					transfer_state_to = CHI
				}
			}
		}
		if = {
			limit = {
				SOV = { exists = yes }
			}
			SOV = {
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = {
						target = GER
						autonomous_state = autonomy_puppet
						freedom_level = 0.5
					}
					else = {
						puppet = GER
					}
				}
			}
			if = {
				limit = {
					WAA = { exists = yes }
				}
				SOV = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = WAA
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = WAA
						}
					}
				}
			}
			if = {
				limit = {
					SAA = { exists = yes }
				}
				SOV = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = SAA
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = SAA
						}
					}
				}
			}
			if = {
				limit = {
					EAA = { exists = yes }
				}
				SOV = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = EAA
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = EAA
						}
					}
				}
			}
			if = {
				limit = {
					COG = { exists = yes }
				}
				SOV = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = COG
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = COG
						}
					}
				}
			}
			#to soviet eastern puppets
			if = {
				limit = {
					SOV = { has_country_flag = anti_russia_war_winner }
					POL = {
						exists = yes
						has_country_flag = anti_russia_war_loser
					}
				}
				SOV = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = POL
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = POL
						}
					}
				}
			}
			if = {
				limit = {
					SOV = { has_country_flag = anti_russia_war_winner }
					UBD = {
						exists = yes
						has_country_flag = anti_russia_war_loser
					}
				}
				SOV = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = UBD
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = UBD
						}
					}
				}
			}
			if = {
				limit = {
					SOV = { has_country_flag = anti_russia_war_winner }
					EST = {
						exists = yes
						has_country_flag = puppet_to_sov_or_rus
					}
				}
				SOV = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = EST
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = EST
						}
					}
				}
			}
			if = {
				limit = {
					SOV = { has_country_flag = anti_russia_war_winner }
					LAT = {
						exists = yes
						has_country_flag = puppet_to_sov_or_rus
					}
				}
				SOV = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = LAT
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = LAT
						}
					}
				}
			}
			if = {
				limit = {
					SOV = { has_country_flag = anti_russia_war_winner }
					BLR = {
						exists = yes
						has_country_flag = anti_russia_war_loser
					}
				}
				SOV = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = BLR
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = BLR
						}
					}
				}
			}
			if = {
				limit = {
					SOV = { has_country_flag = anti_russia_war_winner }
					LIT = {
						exists = yes
						has_country_flag = anti_russia_war_loser
					}
				}
				SOV = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = LIT
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = LIT
						}
					}
				}
			}
			if = {
				limit = {
					SOV = { has_country_flag = anti_russia_war_winner }
					UKR = {
						exists = yes
						has_country_flag = anti_russia_war_loser
					}
				}
				SOV = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = UKR
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = UKR
						}
					}
				}
			}
			if = {
				limit = {
					SOV = { has_country_flag = anti_russia_war_winner }
					USS = {
						exists = yes
						has_country_flag = anti_russia_war_loser
					}
				}
				SOV = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = USS
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = USS
						}
					}
				}
			}
			if = {
				limit = {
					SOV = { has_country_flag = anti_russia_war_winner }
					UPR = {
						exists = yes
						has_country_flag = anti_russia_war_loser
					}
				}
				SOV = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = UPR
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = UPR
						}
					}
				}
			}
		}
		if = {
			limit = {
				RUS = { exists = yes }
			}
			RUS = {
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = {
						target = GER
						autonomous_state = autonomy_puppet
						freedom_level = 0.5
					}
					else = {
						puppet = GER
					}
				}
			}
			if = {
				limit = {
					WAA = { exists = yes }
				}
				RUS = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = WAA
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = WAA
						}
					}
				}
			}
			if = {
				limit = {
					SAA = { exists = yes }
				}
				RUS = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = SAA
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = SAA
						}
					}
				}
			}
			if = {
				limit = {
					EAA = { exists = yes }
				}
				RUS = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = EAA
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = EAA
						}
					}
				}
			}
			#to russia eastern puppets
			if = {
				limit = {
					RUS = { has_country_flag = anti_russia_war_winner }
					POL = {
						exists = yes
						has_country_flag = anti_russia_war_loser
					}
				}
				RUS = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = POL
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = POL
						}
					}
				}
			}
			if = {
				limit = {
					RUS = { has_country_flag = anti_russia_war_winner }
					UBD = {
						exists = yes
						has_country_flag = anti_russia_war_loser
					}
				}
				RUS = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = UBD
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = UBD
						}
					}
				}
			}
			if = {
				limit = {
					RUS = { has_country_flag = anti_russia_war_winner }
					EST = {
						exists = yes
						has_country_flag = puppet_to_sov_or_rus
					}
				}
				RUS = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = EST
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = EST
						}
					}
				}
			}
			if = {
				limit = {
					RUS = { has_country_flag = anti_russia_war_winner }
					LAT = {
						exists = yes
						has_country_flag = puppet_to_sov_or_rus
					}
				}
				RUS = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = LAT
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = LAT
						}
					}
				}
			}
			if = {
				limit = {
					RUS = { has_country_flag = anti_russia_war_winner }
					BLR = {
						exists = yes
						has_country_flag = anti_russia_war_loser
					}
				}
				RUS = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = BLR
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = BLR
						}
					}
				}
			}
			if = {
				limit = {
					RUS = { has_country_flag = anti_russia_war_winner }
					LIT = {
						exists = yes
						has_country_flag = anti_russia_war_loser
					}
				}
				RUS = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = LIT
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = LIT
						}
					}
				}
			}
			if = {
				limit = {
					RUS = { has_country_flag = anti_russia_war_winner }
					UKR = {
						exists = yes
						has_country_flag = anti_russia_war_loser
					}
				}
				RUS = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = UKR
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = UKR
						}
					}
				}
			}
			if = {
				limit = {
					RUS = { has_country_flag = anti_russia_war_winner }
					USS = {
						exists = yes
						has_country_flag = anti_russia_war_loser
					}
				}
				RUS = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = USS
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = USS
						}
					}
				}
			}
			if = {
				limit = {
					RUS = { has_country_flag = anti_russia_war_winner }
					UPR = {
						exists = yes
						has_country_flag = anti_russia_war_loser
					}
				}
				RUS = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = UPR
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = UPR
						}
					}
				}
			}
		}
	}
}