peace_conference_effect = {
	every_country = {
		limit = {
			has_country_flag = second_great_war_loser
		}
		every_state = {
			limit = {
				is_claimed_by = PREV
			}
			remove_claim_by = PREV
		}
		every_other_country = {
			diplomatic_relation = {
				country = PREV
				relation = guarantee
				active = no
			}
			diplomatic_relation = {
				country = PREV
				relation = military_access
				active = no
			}
			diplomatic_relation = {
				country = PREV
				relation = docking_rights
				active = no
			}
			PREV = {
				diplomatic_relation = {
					country = PREV
					relation = guarantee
					active = no
				}
				diplomatic_relation = {
					country = PREV
					relation = military_access
					active = no
				}
				diplomatic_relation = {
					country = PREV
					relation = docking_rights
					active = no
				}
			}
		}
	}
	hidden_effect = {
		909 = {
			remove_dynamic_modifier = {
				modifier = FRA_French_Resistance_909
			}
		}
		29 = {
			remove_dynamic_modifier = {
				modifier = FRA_French_Resistance_29
			}
		}
		every_country = {
			limit = {
				exists = yes
			}
			every_country = {
				limit = {
					has_country_flag = second_great_war_loser
				}
				remove_wargoal = {
					type = all
					target = PREV 
				}
			}
		}
		every_country = {
			limit = {
				OR = {
					is_in_faction_with = ROOT
					is_subject_of = ROOT
					has_country_flag = second_great_war_loser
				}
			}
			every_country = {
				limit = {
					has_country_flag = second_great_war_winner
				}
				remove_wargoal = {
					type = all
					target = PREV 
				}
			}
		}
	}
	every_country = {
		limit = {
			exists = yes
			has_country_flag = second_great_war_winner
		}
		every_other_country = {
			limit = { has_country_flag = second_great_war_loser }
			PREV = {
				every_state = {
					limit = {
						is_owned_by = PREV.PREV
						OR = {
							is_claimed_by = PREV
							is_core_of = PREV
						}
					}
					PREV = {
						transfer_state = PREV
					}
				}
			}
		}
	}
	every_country = {
		limit = {
			has_country_flag = second_great_war_loser
		}
		every_country = {
			limit = {
				is_subject_of = PREV
			}
			clr_country_flag = protectorate
			PREV = {
				end_puppet = PREV
			}
		}
	}
	if = {
		limit = {
			FRA = { has_country_flag = second_great_war_winner }
			SOV = { has_country_flag = second_great_war_winner }
		}
		FRA = { country_event = france_wr.236 }
	}
	if = {
		limit = {
			USA = { has_country_flag = second_great_war_winner }
			is_in_faction_with = FRA
		}
		USA = { country_event = usa.50 }
	}
	if = {
		limit = {
			USA = { has_country_flag = second_great_war_winner }
			is_in_faction_with = GER
		}
		USA = { country_event = usa.51 }
	}
	#SOV_annex_GEO
	if = {
		limit = {
			SOV = { has_country_flag = second_great_war_winner }
			GEO = { has_country_flag = second_great_war_loser }
		}
		SOV = {
			annex_country = { target = GEO transfer_troops = no }
		}
		every_state = {
			limit = {
				is_core_of = GEO
			}
			add_core_of = SOV
		}
	}
	#SOV_annex_AZR
	if = {
		limit = {
			SOV = { has_country_flag = second_great_war_winner }
			AZR = { has_country_flag = second_great_war_loser }
		}
		SOV = {
			annex_country = { target = AZR transfer_troops = no }
		}
		every_state = {
			limit = {
				is_core_of = AZR
			}
			add_core_of = SOV
		}
	}
	#SOV_annex_ARM
	if = {
		limit = {
			SOV = { has_country_flag = second_great_war_winner }
			ARM = { has_country_flag = second_great_war_loser }
		}
		SOV = {
			annex_country = { target = ARM transfer_troops = no }
		}
		every_state = {
			limit = {
				is_core_of = ARM
			}
			add_core_of = SOV
		}
	}
	#remove core of russia
	if = {
		limit = {
			SOV = { has_country_flag = second_great_war_winner }
			RUS = { has_country_flag = second_great_war_loser }
		}
		every_state = {
			limit = {
				is_core_of = RUS
			}
			remove_core_of = RUS
		}
	}
	#fate of china
	if = {
		limit = {
			CHI = { has_country_flag = second_great_war_winner }
			any_country = {
				is_chinese_country = yes
				has_country_flag = second_great_war_loser
			}
		}
		if = {
			limit = {
				FNG = { has_country_flag = second_great_war_loser }
			}
			CHI = { annex_country = { target = FNG transfer_troops = no } }
		}
		if = {
			limit = {
				PRC = { has_country_flag = second_great_war_loser }
			}
			CHI = { annex_country = { target = PRC transfer_troops = no } }
		}
		if = {
			limit = {
				GXC = { has_country_flag = second_great_war_loser }
			}
			CHI = { annex_country = { target = GXC transfer_troops = no } }
		}
		if = {
			limit = {
				YUN = { has_country_flag = second_great_war_loser }
			}
			CHI = { annex_country = { target = YUN transfer_troops = no } }
		}
		if = {
			limit = {
				SHX = { has_country_flag = second_great_war_loser }
			}
			CHI = { annex_country = { target = SHX transfer_troops = no } }
		}
		if = {
			limit = {
				XSM = { has_country_flag = second_great_war_loser }
			}
			CHI = { annex_country = { target = XSM transfer_troops = no } }
		}
		if = {
			limit = {
				SIK = { has_country_flag = second_great_war_loser }
			}
			CHI = { annex_country = { target = SIK transfer_troops = no } }
		}
		if = {
			limit = {
				GUD = { has_country_flag = second_great_war_loser }
			}
			CHI = { annex_country = { target = GUD transfer_troops = no } }
		}
		if = {
			limit = {
				SIC = { has_country_flag = second_great_war_loser }
			}
			CHI = { annex_country = { target = SIC transfer_troops = no } }
		}
		if = {
			limit = {
				XIK = { has_country_flag = second_great_war_loser }
			}
			CHI = { annex_country = { target = XIK transfer_troops = no } }
		}
		if = {
			limit = {
				GZC = { has_country_flag = second_great_war_loser }
			}
			CHI = { annex_country = { target = GZC transfer_troops = no } }
		}
	}
	if = {
		limit = {
			FNG = { has_country_flag = second_great_war_winner }
			any_country = {
				is_chinese_country = yes
				has_country_flag = second_great_war_loser
			}
		}
		if = {
			limit = {
				CHI = { has_country_flag = second_great_war_loser }
			}
			FNG = { annex_country = { target = CHI transfer_troops = no } }
		}
		if = {
			limit = {
				PRC = { has_country_flag = second_great_war_loser }
			}
			FNG = { annex_country = { target = PRC transfer_troops = no } }
		}
		if = {
			limit = {
				GXC = { has_country_flag = second_great_war_loser }
			}
			FNG = { annex_country = { target = GXC transfer_troops = no } }
		}
		if = {
			limit = {
				YUN = { has_country_flag = second_great_war_loser }
			}
			FNG = { annex_country = { target = YUN transfer_troops = no } }
		}
		if = {
			limit = {
				SHX = { has_country_flag = second_great_war_loser }
			}
			FNG = { annex_country = { target = SHX transfer_troops = no } }
		}
		if = {
			limit = {
				XSM = { has_country_flag = second_great_war_loser }
			}
			FNG = { annex_country = { target = XSM transfer_troops = no } }
		}
		if = {
			limit = {
				SIK = { has_country_flag = second_great_war_loser }
			}
			FNG = { annex_country = { target = SIK transfer_troops = no } }
		}
		if = {
			limit = {
				GUD = { has_country_flag = second_great_war_loser }
			}
			FNG = { annex_country = { target = GUD transfer_troops = no } }
		}
		if = {
			limit = {
				SIC = { has_country_flag = second_great_war_loser }
			}
			FNG = { annex_country = { target = SIC transfer_troops = no } }
		}
		if = {
			limit = {
				XIK = { has_country_flag = second_great_war_loser }
			}
			FNG = { annex_country = { target = XIK transfer_troops = no } }
		}
		if = {
			limit = {
				GZC = { has_country_flag = second_great_war_loser }
			}
			FNG = { annex_country = { target = GZC transfer_troops = no } }
		}
	}
	#leave communism france
	every_country = {
		limit = {
			NOT = {
				has_government = communism
			}
			is_in_faction_with = FRA
			has_country_flag = second_great_war_winner
			is_subject = no
			FRA = {
				OR = {
					has_government = commusnim
					has_country_leader = {
						character = FRA_pierre_monatte
						ruling_only = yes
					}
				}
			}
			NOT = { original_tag = ENG }
			NOT = { original_tag = FRA }
		}
		country_event = { id = france_wr.233 days = 30 }
	}
	#Britain
	if = {
		limit = {
			ENG = { has_country_flag = second_great_war_winner }
		}
		if = {
			limit = {
				OR = {
					FRA = { has_government = communism }
					AND = {
						OR = {
							ENG = { has_government = democratic }
							ENG = { has_government = neutrality }
						}
						FRA = {
							has_government = fascism
							NOT = {
								has_country_leader = {
									character = FRA_jacques_doriot
									ruling_only = yes
								}
							}
						}
					}
				}
			}
			ENG = { country_event = { id = britain.66 days = 25 } }
		}
	}
	#free german puppet
	if = {
		limit = {
			GER = { has_country_flag = second_great_war_loser }
		}
		every_state = {
			limit = {
				is_owned_by = GER
				OR = {
					is_core_of = FRA
					is_core_of = BEL
					is_core_of = LUX
				}
			}
			remove_core_of = GER
		}
	}
	#bel to france
	if = {
		limit = {
			FRA = { has_country_flag = second_great_war_winner }
			BEL = {
				has_country_flag = second_great_war_loser
			}
		}
		if = {
			limit = {
				FRA = {
					OR = {
						has_country_leader = {
							character = FRA_pierre_monatte
							ruling_only = yes
						}
						has_country_leader = {
							character = FRA_leon_blum
							ruling_only = yes
						}
						has_country_leader = {
							character = FRA_paul_reynaud
							ruling_only = yes
						}
					}
				}
			}
			every_state = {
				limit = {
					state = 6
				}
				transfer_state_to = HOL
			}
			FRA = { annex_country = { target = BEL transfer_troops = no } }
		}
		else = {
			every_state = {
				limit = {
					is_owned_by = GER
					is_core_of = BEL
				}
				transfer_state_to = BEL
			}
			FRA = {
				if = {
					limit = {
						has_dlc = "Together for Victory"
						BEL = { exists = yes }
					}
					set_autonomy = {
						target = BEL
						autonomous_state = autonomy_puppet
						freedom_level = 0.5
					}
					else = {
						puppet = BEL
					}
				}
			}
		}
	}
	#hol to france
	if = {
		limit = {
			FRA = { has_country_flag = second_great_war_winner }
			HOL = {
				has_country_flag = second_great_war_loser
			}
		}
		every_state = {
			limit = {
				is_owned_by = HOL
				NOT = { is_core_of = HOL }
				NOT = { state = 6 }
			}
			transfer_state_to = FRA
		}
		if = {
			limit = {
				FRA = {
					OR = {
						has_country_leader = {
							character = FRA_pierre_monatte
							ruling_only = yes
						}
						has_country_leader = {
							character = FRA_leon_blum
							ruling_only = yes
						}
						has_country_leader = {
							character = FRA_paul_reynaud
							ruling_only = yes
						}
					}
				}
			}
			FRA = {
				if = {
					limit = {
						has_dlc = "Together for Victory"
						HOL = { exists = yes }
					}
					set_autonomy = {
						target = HOL
						autonomous_state = autonomy_satellite
						freedom_level = 0.5
					}
					else = {
						puppet = HOL
					}
				}
			}
		}
		else = {
			FRA = {
				if = {
					limit = {
						has_dlc = "Together for Victory"
						HOL = { exists = yes }
					}
					set_autonomy = {
						target = HOL
						autonomous_state = autonomy_puppet
						freedom_level = 0.5
					}
					else = {
						puppet = HOL
					}
				}
			}
		}
	}
	#free hol
	if = {
		limit = {
			any_country = { has_country_flag = second_great_war_loser }
			any_state = {
				is_core_of = HOL
				is_owned_by = PREV
			}
		}
		every_state = {
			limit = {
				is_owned_by = PREV
				is_core_of = HOL
			}
			transfer_state_to = HOL
		}
	}
	if = {
		limit = {
			any_country = { has_country_flag = second_great_war_loser }
			HOL = { is_subject_of = PREV }
		}
		PREV = { end_puppet = HOL }
		HOL = { leave_faction = yes }
	}
	#free lux
	if = {
		limit = {
			FRA = { has_country_flag = second_great_war_winner }
			GER = { has_country_flag = second_great_war_loser }
			8 = { is_owned_by = GER }
		}
		if = {
			limit = {
				FRA = {
					OR = {
						has_country_leader = {
							character = FRA_pierre_monatte
							ruling_only = yes
						}
						has_country_leader = {
							character = FRA_leon_blum
							ruling_only = yes
						}
						has_country_leader = {
							character = FRA_paul_reynaud
							ruling_only = yes
						}
					}
				}
			}
			every_state = {
				limit = {
					is_owned_by = GER
					is_core_of = LUX
				}
				transfer_state_to = FRA
			}
		}
		else = {
			every_state = {
				limit = {
					is_owned_by = GER
					is_core_of = LUX
				}
				transfer_state_to = LUX
			}
			LUX = { inherit_technology = FRA }
			else = {
				FRA = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
							LUX = { exists = yes }
						}
						set_autonomy = {
							target = LUX
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = LUX
						}
					}
				}
			}
		}
	}
	german_puppet_effect = yes
	#fate of germany
	if = {
		limit = {
			GER = { has_country_flag = second_great_war_loser }
		}
		if = {
			limit = {
				NOT = { DEN = { has_country_flag = second_great_war_loser } }
				DEN = { exists = yes }
			}
			every_state = {
				limit = {
					state = 911
				}
				transfer_state_to = DEN
			}
		}
		every_country = {
			limit = {
				is_subject_of = GER
				NOT = { original_tag = GOA }
			}
			clr_country_flag = protectorate
			GER = { end_puppet = PREV }
		}
		if = {
			limit = {
				FRA = {
					has_country_flag = second_great_war_winner
					has_idea = national_mobilized_economy
				}
			}
			FRA = { country_event = { id = france_wr.196 days = 30 } }
		}
		if = {
			limit = {
				FRA = {
					has_country_flag = second_great_war_winner
				}
			}
			FRA = { add_ideas = FRA_veterans_integration_idea }
		}
		#SHL is under uk
		if = {
			limit = {
				ENG = {
					has_country_flag = second_great_war_winner
					OR = {
						has_completed_focus = Demand_Hanover
						has_completed_focus = the_last_battle
						has_completed_focus = British_Reprisalism
					}
				}
			}
			every_state = {
				limit = {
					is_owned_by = GER
					is_core_of = SHL
				}
				transfer_state_to = SHL
			}
			ENG = {
				if = {
					limit = {
						has_dlc = "Together for Victory"
						SHL = { exists = yes }
					}
					set_autonomy = {
						target = SHL
						autonomous_state = autonomy_puppet
						freedom_level = 0.5
					}
				}
			}
			SHL = {
				create_country_leader = {
					name = "ENG_gerald_templer"
					picture = "gfx/leaders/ENG/ENG_gerald_templer.png"
					ideology = conservatism
				}
				create_country_leader = {
					name = "ENG_gerald_templer"
					picture = "gfx/leaders/ENG/ENG_gerald_templer.png"
					ideology = leninism
				}
				create_country_leader = {
					name = "ENG_gerald_templer"
					picture = "gfx/leaders/ENG/ENG_gerald_templer.png"
					ideology = fascism_ideology
				}
				create_country_leader = {
					name = "ENG_gerald_templer"
					picture = "gfx/leaders/ENG/ENG_gerald_templer.png"
					ideology = despotism
				}
				set_party_name = {
					ideology = democratic
					long_name = ENG_military_government
					name = ENG_military_government
				}
				set_party_name = {
					ideology = communism
					long_name = ENG_military_government
					name = ENG_military_government
				}
				set_party_name = {
					ideology = fascism
					long_name = ENG_military_government
					name = ENG_military_government
				}
				set_party_name = {
					ideology = neutrality
					long_name = ENG_military_government
					name = ENG_military_government
				}
			}
		}
		if = {
			limit = {
				FRA = { has_country_flag = second_great_war_winner }
				NOT = { SOV = { has_country_flag = second_great_war_winner } }
				NOT = { RUS = { has_country_flag = second_great_war_winner } }
			}
			every_state = {
				limit = {
					is_owned_by = GER
					state = 188
				}
				add_core_of = LIT
				transfer_state_to = LIT
			}
			FRA = {
				every_state = {
					limit = {
						is_owned_by = GER
						OR = {
							is_core_of = GER
							is_core_of = LUX
							is_core_of = BEL
						}
					}
					transfer_state_to = FRA
				}
				FRA = { country_event = wrwpe.14 }
			}
		}
		#free austria
		every_state = {
			limit = {
				OR = {
					is_owned_by = GER
					is_owned_by = FRA
				}
				NOT = { is_core_of = FRA }
				NOT = { is_claimed_by = FRA }
				OR = {
					state = 848
					state = 153
					state = 152
					state = 4
					state = 933
					state = 102
					state = 853
					state = 736
					state = 852
					state = 39
					state = 850
				}
			}
			add_core_of = AUS
			transfer_state_to = AUS
		}
		if = {
			limit = {
				AUH = { has_country_flag = second_great_war_winner }
			}
			every_state = {
				limit = {
					is_owned_by = GER
					OR = {
						state = 762
						state = 67
						state = 66
					}
				}
				transfer_state_to = AUH
			}
			every_state = {
				limit = {
					is_owned_by = GER
					state = 65
				}
				transfer_state_to = SAX
			}
			AUH = {
				if = {
					limit = {
						has_dlc = "Together for Victory"
						SAX = { exists = yes }
					}
					set_autonomy = {
						target = SAX
						autonomous_state = autonomy_puppet
						freedom_level = 0.5
					}
				}
			}
		}
		if = {
			limit = {
				FRA = { has_country_flag = second_great_war_winner }
				SOV = { has_country_flag = second_great_war_winner }
			}
			if = {
				limit = {
					SOV = { has_global_flag = fall_of_berlin_by_SOV }
				}
				every_state = {
					limit = {
						is_owned_by = GER
						OR = {
							state = 188
							state = 66
							state = 67
							state = 762
							state = 86
							state = 807
							state = 5
							state = 763
							#eastern germany
							state = 63
							state = 68
							state = 64
							state = 61
							state = 62
						}
					}
					transfer_state_to = SOV
				}
				else = {
					every_state = {
						limit = {
							is_owned_by = GER
							OR = {
								state = 188
								state = 66
								state = 67
								state = 762
								state = 86
								state = 807
								state = 5
								state = 763
							}
						}
						transfer_state_to = SOV
					}
				}
			}
			SOV = { country_event = wrwpe.13 }
			FRA = {
				every_state = {
					limit = {
						is_owned_by = GER
						is_core_of = GER
					}
					transfer_state_to = FRA
				}
				FRA = { country_event = wrwpe.14 }
			}
		}
		if = {
			limit = {
				FRA = { has_country_flag = second_great_war_winner }
				RUS = { has_country_flag = second_great_war_winner }
			}
			if = {
				limit = {
					RUS = { has_global_flag = fall_of_berlin_by_RUS }
				}
				every_state = {
					limit = {
						is_owned_by = GER
						OR = {
							state = 188
							state = 66
							state = 67
							state = 762
							state = 86
							state = 807
							state = 5
							state = 763
							#eastern germany
							state = 63
							state = 68
							state = 64
							state = 61
							state = 62
						}
					}
					transfer_state_to = RUS
				}
				else = {
					every_state = {
						limit = {
							is_owned_by = GER
							OR = {
								state = 188
								state = 66
								state = 67
								state = 762
								state = 86
								state = 807
								state = 5
								state = 763
							}
						}
						transfer_state_to = RUS
					}
				}
			}
			RUS = { country_event = wrwpe.13 }
			FRA = {
				every_state = {
					limit = {
						is_owned_by = GER
						is_core_of = GER
					}
					transfer_state_to = FRA
				}
				FRA = { country_event = wrwpe.14 }
			}
		}
		if = {
			limit = {
				FRA = { has_country_flag = second_great_war_winner }
				AND = {
					OR = {
						SOV = { has_country_flag = anti_russia_war_loser }
						NOT = { has_global_flag = german_soviet_war_started_flag }
					}
					OR = {
						RUS = { has_country_flag = anti_russia_war_loser_mk_two }
						NOT = { has_global_flag = german_russian_war_started_flag }
					}
				}
			}
			FRA = {
				every_state = {
					limit = {
						is_owned_by = GER
						is_core_of = GER
					}
					transfer_state_to = FRA
				}
				FRA = { country_event = wrwpe.14 }
			}
			if = {
				limit = {
					FRA = { has_country_flag = second_great_war_winner }
					POL = {
						exists = yes
						has_country_flag = second_great_war_loser
					}
				}
				FRA = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = POL
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = POL
						}
					}
				}
			}
			if = {
				limit = {
					FRA = { has_country_flag = second_great_war_winner }
					UBD = {
						exists = yes
						has_country_flag = second_great_war_loser
					}
				}
				FRA = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = UBD
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = UBD
						}
					}
				}
			}
			if = {
				limit = {
					FRA = { has_country_flag = second_great_war_winner }
					EST = {
						exists = yes
						has_country_flag = puppet_to_fra
					}
				}
				FRA = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = EST
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = EST
						}
					}
				}
			}
			if = {
				limit = {
					FRA = { has_country_flag = second_great_war_winner }
					LAT = {
						exists = yes
						has_country_flag = puppet_to_fra
					}
				}
				FRA = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = LAT
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = LAT
						}
					}
				}
			}
			if = {
				limit = {
					FRA = { has_country_flag = second_great_war_winner }
					BLR = {
						exists = yes
						has_country_flag = second_great_war_loser
					}
				}
				FRA = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = BLR
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = BLR
						}
					}
				}
			}
			if = {
				limit = {
					FRA = { has_country_flag = second_great_war_winner }
					LIT = {
						exists = yes
						has_country_flag = second_great_war_loser
					}
				}
				FRA = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = LIT
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = LIT
						}
					}
				}
			}
			if = {
				limit = {
					FRA = { has_country_flag = second_great_war_winner }
					UKR = {
						exists = yes
						has_country_flag = second_great_war_loser
					}
				}
				FRA = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = UKR
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = UKR
						}
					}
				}
			}
			if = {
				limit = {
					FRA = { has_country_flag = second_great_war_winner }
					USS = {
						exists = yes
						has_country_flag = second_great_war_loser
					}
				}
				FRA = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = USS
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = USS
						}
					}
				}
			}
			if = {
				limit = {
					FRA = { has_country_flag = second_great_war_winner }
					UPR = {
						exists = yes
						has_country_flag = second_great_war_loser
					}
				}
				FRA = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = UPR
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = UPR
						}
					}
				}
			}
			if = {
				limit = {
					FRA = { has_country_flag = second_great_war_winner }
					RUS = {
						exists = yes
						has_country_flag = second_great_war_loser
					}
				}
				FRA = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = RUS
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = RUS
						}
					}
				}
			}
		}
	}
	#fate of france
	if = {
		limit = {
			REI = { has_country_flag = second_great_war_winner }
			FRA = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_france_flag }
			}
		}
		REI = { country_event = wrwpe.5 }
		FRA = {
			remove_ideas = national_mobilized_economy
			remove_ideas = syndicalist_economy
			remove_ideas = free_market_economy
			remove_dynamic_modifier = FRA_total_mobilization
			remove_dynamic_modifier = FRA_bucard_modifier
			remove_dynamic_modifier = FRA_syndicalist_society_main_modifier
			remove_dynamic_modifier = FRA_harmonious_order_modifier
			remove_dynamic_modifier = FRA_consumer_goods_factor_decision
			remove_dynamic_modifier = FRA_research_modifier
			remove_dynamic_modifier = FRA_industry_modifier
			remove_dynamic_modifier = FRA_military_modifier
			set_cosmetic_tag = FRA_cooperating_country
			hidden_effect = {
				set_party_name = {
					ideology = fascism
					long_name = FRA_Francist
					name = FRA_Francist
				}
				set_party_name = {
					ideology = neutrality
					long_name = FRA_neutrality_party
					name = FRA_neutrality_party
				}
				set_party_name = {
					ideology = democratic
					long_name = FRA_democratic_party
					name = FRA_democratic_party
				}
				set_party_name = {
					ideology = communism
					long_name = FRA_communism_party_long
					name = FRA_communism_party
				}
			}
			if = {
				limit = {
					has_government = fascism
					OR = {
						has_country_flag = peoplesparty_won
						has_country_flag = FRA_bucard_victory_flag
					}
				}
				set_party_name = {
					ideology = fascism
					long_name = French_Government
					name = French_Government
				}
				create_country_leader = {
					name = "FRA_Pierre_Laval"
					picture = "gfx/leaders/FRA/FRA_Pierre_Laval.png"
					ideology = fascism_ideology
				}
			}
			else_if = {
				limit = {
					has_government = fascism
					NOT = { has_country_flag = peoplesparty_won }
					NOT = { has_country_flag = FRA_bucard_victory_flag }
				}
				set_party_name = {
					ideology = fascism
					long_name = French_Government
					name = French_Government
				}
				change_NO = yes
				change_AF = yes
				change_FWP = yes
				change_DU = yes
				create_country_leader = {
					name = "FRA_Pierre_Laval"
					picture = "gfx/leaders/FRA/FRA_Pierre_Laval.png"
					ideology = fascism_ideology
				}
			}
			else_if = {
				limit = {
					has_government = neutrality
					OR = {
						has_country_flag = FRA_de_la_rocque_victory_flag
						has_country_flag = FRA_charles_de_gaulle_victory_flag
						has_country_flag = maurras_victory_flag
					}
				}
				set_party_name = {
					ideology = neutrality
					long_name = French_Government
					name = French_Government
				}
				create_country_leader = {
					name = "FRA_Pierre_Laval"
					picture = "gfx/leaders/FRA/FRA_Pierre_Laval.png"
					ideology = despotism
				}
			}
			else_if = {
				limit = {
					has_government = neutrality
					NOT = { has_country_flag = FRA_de_la_rocque_victory_flag }
					NOT = { has_country_flag = FRA_charles_de_gaulle_victory_flag }
					NOT = { has_country_flag = maurras_victory_flag }
				}
				set_party_name = {
					ideology = neutrality
					long_name = French_Government
					name = French_Government
				}
				change_AFPU = yes
				change_MB = yes
				change_FWP = yes
				change_DU = yes
				create_country_leader = {
					name = "FRA_Pierre_Laval"
					picture = "gfx/leaders/FRA/FRA_Pierre_Laval.png"
					ideology = despotism
				}
			}
			else_if = {
				limit = {
					has_government = communism
					has_country_flag = FRA_monatte_victory_flag
				}
				set_party_name = {
					ideology = communism
					long_name = French_Government
					name = French_Government
				}
				create_country_leader = {
					name = "FRA_Maurice_Thorez"
					picture = "gfx/leaders/FRA/FRA_Maurice_Thorez.png"
					ideology = marxism
				}
			}
			else_if = {
				limit = {
					has_government = communism
					NOT = { has_country_flag = FRA_monatte_victory_flag }
				}
				set_party_name = {
					ideology = communism
					long_name = French_Government
					name = French_Government
				}
				change_AFPU = yes
				change_MB = yes
				change_NO = yes
				change_AF = yes
				change_DU = yes
				create_country_leader = {
					name = "FRA_Maurice_Thorez"
					picture = "gfx/leaders/FRA/FRA_Maurice_Thorez.png"
					ideology = marxism
				}
			}
			else_if = {
				limit = {
					has_government = democratic
					has_country_flag = democrats_victory_flag
				}
				set_party_name = {
					ideology = democratic
					long_name = French_Government
					name = French_Government
				}
				create_country_leader = {
					name = "FRA_Pierre_Laval"
					picture = "gfx/leaders/FRA/FRA_Pierre_Laval.png"
					ideology = conservatism
				}
			}
			else_if = {
				limit = {
					has_government = democratic
					NOT = { has_country_flag = democrats_victory_flag }
				}
				set_party_name = {
					ideology = democratic
					long_name = French_Government
					name = French_Government
				}
				change_AFPU = yes
				change_MB = yes
				change_NO = yes
				change_AF = yes
				change_FWP = yes
				create_country_leader = {
					name = "FRA_Pierre_Laval"
					picture = "gfx/leaders/FRA/FRA_Pierre_Laval.png"
					ideology = conservatism
				}
			}
		}
		every_state = {
			limit = {
				is_owned_by = FRA
				is_core_of = CAN
			}
			transfer_state_to = CAN
		}
		if = {
			limit = {
				SPA = {
					exists = yes
				}
			}
			FRA = {
				every_state = {
					limit = {
						is_owned_by = FRA
						OR = {
							is_core_of = SPA
							state = 290
							state = 699
							state = 783
							state = 178
							state = 297
						}
					}
					transfer_state_to = SPA
				}
			}
		}
		else = {
			FRA = {
				every_state = {
					limit = {
						is_owned_by = FRA
						OR = {
							is_core_of = SPR
							state = 290
							state = 699
							state = 783
							state = 178
							state = 297
						}
					}
					transfer_state_to = SPR
				}
			}
		}
		FRA = {
			every_state = {
				limit = {
					is_owned_by = FRA
					is_core_of = ADO
				}
				transfer_state_to = ADO
			}
			every_state = {
				limit = {
					is_owned_by = FRA
					is_core_of = CAY
				}
				transfer_state_to = CAY
			}
			every_state = {
				limit = {
					is_owned_by = FRA
					is_core_of = GDL
				}
				transfer_state_to = GDL
			}
			every_state = {
				limit = {
					is_owned_by = FRA
					is_core_of = RAJ
				}
				transfer_state_to = RAJ
			}
			every_state = {
				limit = {
					is_owned_by = FRA
					is_core_of = MNA
				}
				transfer_state_to = MNA
			}
		}
	}
	else_if = {
		limit = {
			FRA = { has_country_flag = second_great_war_loser }
			any_country = {
				has_country_flag = defeat_france_flag
			}
		}
		every_country = {
			limit = {
				has_country_flag = second_great_war_winner
				has_country_flag = defeat_france_flag
			}
			country_event = wrwpe.5
		}
		every_state = {
			limit = {
				is_owned_by = FRA
				is_core_of = CAN
			}
			transfer_state_to = CAN
		}
		if = {
			limit = {
				SPA = {
					exists = yes
				}
			}
			FRA = {
				every_state = {
					limit = {
						is_owned_by = FRA
						OR = {
							is_core_of = SPA
							state = 290
							state = 699
							state = 783
							state = 178
							state = 297
						}
					}
					transfer_state_to = SPA
				}
			}
		}
		else = {
			FRA = {
				every_state = {
					limit = {
						is_owned_by = FRA
						OR = {
							is_core_of = SPR
							state = 290
							state = 699
							state = 783
							state = 178
							state = 297
						}
					}
					transfer_state_to = SPR
				}
			}
		}
		FRA = {
			every_state = {
				limit = {
					is_owned_by = FRA
					is_core_of = ADO
				}
				transfer_state_to = ADO
			}
			every_state = {
				limit = {
					is_owned_by = FRA
					is_core_of = CAY
				}
				transfer_state_to = CAY
			}
			every_state = {
				limit = {
					is_owned_by = FRA
					is_core_of = GDL
				}
				transfer_state_to = GDL
			}
			every_state = {
				limit = {
					is_owned_by = FRA
					is_core_of = RAJ
				}
				transfer_state_to = RAJ
			}
			every_state = {
				limit = {
					is_owned_by = FRA
					is_core_of = MNA
				}
				transfer_state_to = MNA
			}
		}
	}
	#fate of italy
	if = {
		limit = {
			ITA = { has_country_flag = second_great_war_loser }
		}
		every_state = {
			limit = {
				is_owned_by = ITA
				is_core_of = ETH
			}
			transfer_state_to = ETH
		}
		every_state = {
			limit = {
				is_owned_by = ITA
				OR = {
					is_core_of = SOM
					is_core_of = GEL
				}
			}
			transfer_state_to = SOM
		}
		every_state = {
			limit = {
				is_owned_by = ITA
				is_core_of = LBA
			}
			transfer_state_to = LBA
		}
	}
	if = {
		limit = {
			REI = { has_country_flag = second_great_war_winner }
			ITA = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_italy_flag }
			}
		}
		ITA = { retire_country_leader = yes }
		REI = { country_event = wrwpe.6 }
	}
	else_if = {
		limit = {
			ENT = { has_country_flag = second_great_war_winner }
			ITA = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_italy_flag }
			}
		}
		ITA = { retire_country_leader = yes }
		ENT = { country_event = wrwpe.6 }
	}
	else_if = {
		limit = {
			ITA = { has_country_flag = second_great_war_loser }
			any_country = {
				has_country_flag = defeat_italy_flag
			}
		}
		ITA = { retire_country_leader = yes }
		every_country = {
			limit = {
				has_country_flag = second_great_war_winner
				has_country_flag = defeat_italy_flag
			}
			country_event = wrwpe.6
		}
	}
	#free british colonies
	if = {
		limit = {
			ENG = { has_country_flag = second_great_war_loser }
		}
		if = {
			limit = {
				TUR = { has_country_flag = second_great_war_winner }
			}
			if = {
				limit = {
					OR = {
						has_dlc = "Together for Victory"
						has_dlc = "Man the Guns"
					}
				}
				set_autonomy = {
					target = OMA
					autonomous_state = autonomy_protectorate
					freedom_level = 0.8
				}
				else = {
					puppet = OMA
				}
			}
			else = {
				ENG = { end_puppet = OMA }
				OMA = { clr_country_flag = protectorate }
			}
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				is_core_of = CAN
			}
			transfer_state_to = CAN
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				is_core_of = AST
			}
			transfer_state_to = AST
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				is_core_of = NZL
			}
			transfer_state_to = NZL
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				OR = {
					is_core_of = RAJ
					state = 733
				}
			}
			transfer_state_to = RAJ
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				is_core_of = BRM
			}
			transfer_state_to = BRM
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				is_core_of = GYA
			}
			transfer_state_to = GYA
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				is_core_of = BLZ
			}
			transfer_state_to = BLZ
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				is_core_of = BAH
			}
			transfer_state_to = BAH
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				is_core_of = JAM
			}
			transfer_state_to = JAM
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				is_core_of = TRI
			}
			transfer_state_to = TRI
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				is_core_of = BAS
			}
			transfer_state_to = BAS
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				is_core_of = TRI
			}
			transfer_state_to = TRI
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				OR = {
					state = 980
					state = 333
				}
			}
			transfer_state_to = GER
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				OR = {
					state = 712
					state = 711
				}
			}
			transfer_state_to = INS
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				is_core_of = SOL
			}
			transfer_state_to = SOL
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				is_core_of = SRL
			}
			transfer_state_to = SRL
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				is_core_of = KUW
			}
			transfer_state_to = KUW
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				is_core_of = QAT
			}
			transfer_state_to = QAT
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				is_core_of = UAE
			}
			transfer_state_to = UAE
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				is_core_of = FIJ
			}
			transfer_state_to = FIJ
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				is_core_of = CYP
			}
			transfer_state_to = CYP
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				state = 270
			}
			transfer_state_to = CHL
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				state = 720
			}
			transfer_state_to = ARG
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				state = 446
			}
			transfer_state_to = EGY
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				is_core_of = SRI
			}
			transfer_state_to = SRI
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				OR = {
					is_core_of = KEN
					state = 844
				}
			}
			transfer_state_to = KEN
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				is_core_of = UGA
			}
			transfer_state_to = UGA
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				is_core_of = NGA
			}
			transfer_state_to = NGA
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				is_core_of = GHA
			}
			transfer_state_to = GHA
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				is_core_of = GAM
			}
			transfer_state_to = GAM
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				is_core_of = SIE
			}
			transfer_state_to = SIE
		}
	}
	#islands
	if = {
		limit = {
			ENG = { has_country_flag = second_great_war_loser }
			GER = { has_country_flag = second_great_war_winner }
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				OR = {
					state = 703
					state = 704
					state = 707
					state = 709
					state = 710
				}
			}
			transfer_state_to = GER
		}
		every_state = {
			limit = {
				is_owned_by = ENG
				is_core_of = IRE
			}
			transfer_state_to = IRE
		}
	}
	#fate of britain
	if = {
		limit = {
			REI = { has_country_flag = second_great_war_winner }
			ENG = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_britain_flag }
			}
		}
		REI = { country_event = wrwpe.7 }
	}
	else_if = {
		limit = {
			ENT = { has_country_flag = second_great_war_winner }
			ENG = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_britain_flag }
			}
		}
		ENT = { country_event = wrwpe.7 }
	}
	else_if = {
		limit = {
			ENG = { has_country_flag = second_great_war_loser }
			any_country = {
				has_country_flag = defeat_britain_flag
			}
		}
		every_country = {
			limit = {
				has_country_flag = second_great_war_winner
				has_country_flag = defeat_britain_flag
			}
			country_event = wrwpe.7
		}
	}
	#fate of canada
	if = {
		limit = {
			USA = { has_country_flag = second_great_war_winner }
			OR = {
				has_global_flag = USA_cap_CAN
				CAN = { has_country_flag = second_great_war_loser }
			}
			all_country = {
				NOT = { has_country_flag = defeat_canada_flag }
			}
		}
		USA = { country_event = wrwpe.15 }
	}
	else_if = {
		limit = {
			CAN = { has_country_flag = second_great_war_loser }
			any_country = {
				has_country_flag = defeat_canada_flag
			}
		}
		every_country = {
			limit = {
				has_country_flag = second_great_war_winner
				has_country_flag = defeat_canada_flag
			}
			country_event = wrwpe.15
		}
	}
	#fate of Australia
	if = {
		limit = {
			AST = { has_country_flag = second_great_war_loser }
			any_country = {
				has_country_flag = defeat_australia_flag
			}
		}
		every_country = {
			limit = {
				has_country_flag = second_great_war_winner
				has_country_flag = defeat_australia_flag
			}
			country_event = wrwpe.16
		}
	}
	#fate of New Zealand
	if = {
		limit = {
			NZL = { has_country_flag = second_great_war_loser }
			any_country = {
				has_country_flag = defeat_new_zealand_flag
			}
		}
		every_country = {
			limit = {
				has_country_flag = second_great_war_winner
				has_country_flag = defeat_new_zealand_flag
			}
			country_event = wrwpe.17
		}
	}
	#fate of RAJ
	if = {
		limit = {
			RAJ = { has_country_flag = second_great_war_loser }
		}
		every_state = {
			limit = {
				is_owned_by = RAJ
				is_core_of = BRM
			}
			transfer_state_to = BRM
		}
	}
	if = {
		limit = {
			RAJ = { has_country_flag = second_great_war_loser }
			any_country = {
				has_country_flag = defeat_raj_flag
			}
		}
		every_country = {
			limit = {
				has_country_flag = second_great_war_winner
				has_country_flag = defeat_raj_flag
			}
			country_event = wrwpe.26
		}
	}
	#fate of austria hungary
	if = {
		limit = {
			REI = { has_country_flag = second_great_war_winner }
			AUH = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_austria_hungary_flag }
			}
		}
		REI = { country_event = wrwpe.8 }
	}
	else_if = {
		limit = {
			ENT = { has_country_flag = second_great_war_winner }
			AUH = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_austria_hungary_flag }
			}
		}
		ENT = { country_event = wrwpe.8 }
	}
	else_if = {
		limit = {
			AUH = { has_country_flag = second_great_war_loser }
			any_country = {
				has_country_flag = defeat_austria_hungary_flag
			}
		}
		every_country = {
			limit = {
				has_country_flag = second_great_war_winner
				has_country_flag = defeat_austria_hungary_flag
			}
			country_event = wrwpe.8
		}
		if = {
			limit = {
				UKR = { exists = yes }
			}
			every_state = {
				limit = {
					is_owned_by = AUH
					is_core_of = UKR
					NOT = {
						state = 73
						state = 989
					}
				}
				transfer_state_to = UKR
			}
		}
		if = {
			limit = {
				UPR = { exists = yes }
			}
			every_state = {
				limit = {
					is_owned_by = AUH
					is_core_of = UPR
					NOT = {
						state = 73
						state = 989
					}
				}
				transfer_state_to = UPR
			}
		}
		if = {
			limit = {
				USS = { exists = yes }
			}
			every_state = {
				limit = {
					is_owned_by = AUH
					is_core_of = USS
					NOT = {
						state = 73
						state = 989
					}
				}
				transfer_state_to = USS
			}
		}
		if = {
			limit = {
				RUS = { has_country_flag = second_great_war_winner }
			}
			every_state = {
				limit = {
					is_owned_by = AUH
					is_core_of = UKR
					NOT = {
						state = 73
						state = 989
					}
				}
				transfer_state_to = RUS
			}
		}
	}
	#fate of US
	if = {
		limit = {
			REI = { has_country_flag = second_great_war_winner }
			USA = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_usa_flag }
			}
		}
		REI = { country_event = wrwpe.10 }
	}
	else_if = {
		limit = {
			ENT = { has_country_flag = second_great_war_winner }
			USA = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_usa_flag }
			}
		}
		ENT = { country_event = wrwpe.10 }
	}
	else_if = {
		limit = {
			USA = { has_country_flag = second_great_war_loser }
			any_country = {
				has_country_flag = defeat_usa_flag
			}
		}
		every_country = {
			limit = {
				has_country_flag = second_great_war_winner
				has_country_flag = defeat_usa_flag
			}
			country_event = wrwpe.10
		}
	}
	#fate of ottoman
	if = {
		limit = {
			REI = { has_country_flag = second_great_war_winner }
			TUR = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_ottoman_flag }
			}
		}
		REI = { country_event = wrwpe.11 }
	}
	else_if = {
		limit = {
			ENT = { has_country_flag = second_great_war_winner }
			TUR = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_ottoman_flag }
			}
		}
		ENT = { country_event = wrwpe.11 }
	}
	else_if = {
		limit = {
			TUR = { has_country_flag = second_great_war_loser }
			any_country = {
				has_country_flag = defeat_ottoman_flag
			}
		}
		every_country = {
			limit = {
				has_country_flag = second_great_war_winner
				has_country_flag = defeat_ottoman_flag
			}
			country_event = wrwpe.11
		}
	}
	#fate of SPA
	if = {
		limit = {
			SPA = { exists = yes }
		}
		if = {
			limit = {
				REI = { has_country_flag = second_great_war_winner }
				SPA = { has_country_flag = second_great_war_loser }
				all_country = {
					NOT = { has_country_flag = defeat_spain_flag }
				}
			}
			REI = { country_event = wrwpe.12 }
		}
		else_if = {
			limit = {
				ENT = { has_country_flag = second_great_war_winner }
				SPA = { has_country_flag = second_great_war_loser }
				all_country = {
					NOT = { has_country_flag = defeat_spain_flag }
				}
			}
			ENT = { country_event = wrwpe.12 }
		}
		else_if = {
			limit = {
				SPR = { has_country_flag = second_great_war_loser }
				any_country = {
					has_country_flag = defeat_spain_flag
				}
			}
			every_country = {
				limit = {
					has_country_flag = second_great_war_winner
					has_country_flag = defeat_spain_flag
				}
				country_event = wrwpe.12
			}
		}
	}
	#fate of SPR
	if = {
		limit = {
			SPR = { exists = yes }
		}
		if = {
			limit = {
				REI = { has_country_flag = second_great_war_winner }
				SPR = { has_country_flag = second_great_war_loser }
				all_country = {
					NOT = { has_country_flag = defeat_spain_flag }
				}
			}
			REI = { country_event = wrwpe.12 }
		}
		else_if = {
			limit = {
				ENT = { has_country_flag = second_great_war_winner }
				SPR = { has_country_flag = second_great_war_loser }
				all_country = {
					NOT = { has_country_flag = defeat_spain_flag }
				}
			}
			ENT = { country_event = wrwpe.12 }
		}
		else_if = {
			limit = {
				SPR = { has_country_flag = second_great_war_loser }
				any_country = {
					has_country_flag = defeat_spain_flag
				}
			}
			every_country = {
				limit = {
					has_country_flag = second_great_war_winner
					has_country_flag = defeat_spain_flag
				}
				country_event = wrwpe.12
			}
		}
	}
	#fate of Ireland
	if = {
		limit = {
			REI = { has_country_flag = second_great_war_winner }
			IRE = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_ireland_flag }
			}
		}
		REI = { country_event = wrwpe.18 }
	}
	else_if = {
		limit = {
			ENT = { has_country_flag = second_great_war_winner }
			IRE = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_ireland_flag }
			}
		}
		ENT = { country_event = wrwpe.18 }
	}
	else_if = {
		limit = {
			IRE = { has_country_flag = second_great_war_loser }
			any_country = {
				has_country_flag = defeat_ireland_flag
			}
		}
		every_country = {
			limit = {
				has_country_flag = second_great_war_winner
				has_country_flag = defeat_ireland_flag
			}
			country_event = wrwpe.18
		}
	}
	#fate of denmark
	if = {
		limit = {
			REI = { has_country_flag = second_great_war_winner }
			DEN = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_denmark_flag }
			}
		}
		REI = { country_event = wrwpe.19 }
	}
	else_if = {
		limit = {
			ENT = { has_country_flag = second_great_war_winner }
			DEN = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_denmark_flag }
			}
		}
		ENT = { country_event = wrwpe.19 }
	}
	else_if = {
		limit = {
			DEN = { has_country_flag = second_great_war_loser }
			any_country = {
				has_country_flag = defeat_denmark_flag
			}
		}
		every_country = {
			limit = {
				has_country_flag = second_great_war_winner
				has_country_flag = defeat_denmark_flag
			}
			country_event = wrwpe.19
		}
	}
	#fate of norway
	if = {
		limit = {
			REI = { has_country_flag = second_great_war_winner }
			NOR = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_norway_flag }
			}
		}
		REI = { country_event = wrwpe.20 }
	}
	else_if = {
		limit = {
			ENT = { has_country_flag = second_great_war_winner }
			NOR = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_norway_flag }
			}
		}
		ENT = { country_event = wrwpe.20 }
	}
	else_if = {
		limit = {
			NOR = { has_country_flag = second_great_war_loser }
			any_country = {
				has_country_flag = defeat_norway_flag
			}
		}
		every_country = {
			limit = {
				has_country_flag = second_great_war_winner
				has_country_flag = defeat_norway_flag
			}
			country_event = wrwpe.20
		}
	}
	#fate of sweden
	if = {
		limit = {
			REI = { has_country_flag = second_great_war_winner }
			SWE = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_sweden_flag }
			}
		}
		REI = { country_event = wrwpe.21 }
	}
	else_if = {
		limit = {
			ENT = { has_country_flag = second_great_war_winner }
			SWE = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_sweden_flag }
			}
		}
		ENT = { country_event = wrwpe.21 }
	}
	else_if = {
		limit = {
			SWE = { has_country_flag = second_great_war_loser }
			any_country = {
				has_country_flag = defeat_sweden_flag
			}
		}
		every_country = {
			limit = {
				has_country_flag = second_great_war_winner
				has_country_flag = defeat_sweden_flag
			}
			country_event = wrwpe.21
		}
	}
	#fate of finland
	if = {
		limit = {
			REI = { has_country_flag = second_great_war_winner }
			FIN = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_finland_flag }
			}
		}
		REI = { country_event = wrwpe.22 }
	}
	else_if = {
		limit = {
			SOV = { has_country_flag = second_great_war_winner }
			FIN = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_finland_flag }
			}
		}
		SOV = { country_event = wrwpe.22 }
	}
	else_if = {
		limit = {
			ENT = { has_country_flag = second_great_war_winner }
			FIN = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_finland_flag }
			}
		}
		ENT = { country_event = wrwpe.22 }
	}
	else_if = {
		limit = {
			FIN = { has_country_flag = second_great_war_loser }
			any_country = {
				has_country_flag = defeat_finland_flag
			}
		}
		every_country = {
			limit = {
				has_country_flag = second_great_war_winner
				has_country_flag = defeat_finland_flag
			}
			country_event = wrwpe.22
		}
	}
	#INS drop cosmetic tag when free
	if = {
		limit = {
			HOL = { has_country_flag = second_great_war_loser }
		}
		HOL = { end_puppet = INS }
		INS = { abandon_colony_tag = yes }
		every_state = {
			limit = {
				is_owned_by = HOL
				is_core_of = SUR
			}
			transfer_state_to = SUR
		}
		every_state = {
			limit = {
				is_owned_by = HOL
				is_core_of = CRC
			}
			transfer_state_to = CRC
		}
	}
	#for balkan
	if = {
		limit = {
			OR = {
				BUL = { has_country_flag = second_great_war_loser }
				BUL = { has_country_flag = second_great_war_winner }
			}
			OR = {
				GRE = { has_country_flag = second_great_war_loser }
				GRE = { has_country_flag = second_great_war_winner }
			}
			has_global_flag = fourth_balkan_war
		}
		clr_global_flag = fourth_balkan_war
	}
	if = {
		limit = {
			BUL = { has_country_flag = second_great_war_winner }
			GRE = { has_country_flag = second_great_war_loser }
		}
		every_state = {
			limit = {
				is_owned_by = GRE
				state = 930
			}
			transfer_state_to = BUL
		}
	}
	if = {
		limit = {
			BUL = { has_country_flag = second_great_war_loser }
		}
		every_state = {
			limit = {
				is_owned_by = BUL
				is_core_of = GRE
			}
			transfer_state_to = GRE
		}
		every_state = {
			limit = {
				is_owned_by = BUL
				is_core_of = ROM
			}
			transfer_state_to = ROM
		}
	}
	#fate of romania
	if = {
		limit = {
			BUL = { has_country_flag = second_great_war_winner }
			ROM = { has_country_flag = second_great_war_loser }
			AUH = { has_country_flag = second_great_war_winner }
			all_country = {
				NOT = { has_country_flag = defeat_romania_flag }
			}
		}
		AUH = { country_event = wrwpe.27 }
	}
	else_if = {
		limit = {
			BUL = { has_country_flag = second_great_war_winner }
			ROM = { has_country_flag = second_great_war_loser }
			NOT = { AUH = { has_country_flag = second_great_war_winner } }
			all_country = {
				NOT = { has_country_flag = defeat_romania_flag }
			}
		}
		BUL = { country_event = wrwpe.27 }
	}
	else_if = {
		limit = {
			REI = { has_country_flag = second_great_war_winner }
			ROM = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_romania_flag }
			}
		}
		REI = { country_event = wrwpe.27 }
	}
	else_if = {
		limit = {
			SOV = { has_country_flag = second_great_war_winner }
			ROM = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_romania_flag }
			}
		}
		SOV = { country_event = wrwpe.27 }
	}
	else_if = {
		limit = {
			ENT = { has_country_flag = second_great_war_winner }
			ROM = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_romania_flag }
			}
		}
		ENT = { country_event = wrwpe.27 }
	}
	else_if = {
		limit = {
			ROM = { has_country_flag = second_great_war_loser }
			any_country = {
				has_country_flag = defeat_romania_flag
			}
		}
		every_country = {
			limit = {
				has_country_flag = second_great_war_winner
				has_country_flag = defeat_romania_flag
			}
			country_event = wrwpe.27
		}
	}
	#fate of bulgaria
	if = {
		limit = {
			GRE = { has_country_flag = second_great_war_winner }
			BUL = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_bulgaria_flag }
			}
		}
		GRE = { country_event = wrwpe.28 }
	}
	else_if = {
		limit = {
			REI = { has_country_flag = second_great_war_winner }
			BUL = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_bulgaria_flag }
			}
		}
		REI = { country_event = wrwpe.28 }
	}
	else_if = {
		limit = {
			SOV = { has_country_flag = second_great_war_winner }
			BUL = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_bulgaria_flag }
			}
		}
		SOV = { country_event = wrwpe.28 }
	}
	else_if = {
		limit = {
			ENT = { has_country_flag = second_great_war_winner }
			BUL = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_bulgaria_flag }
			}
		}
		ENT = { country_event = wrwpe.28 }
	}
	else_if = {
		limit = {
			BUL = { has_country_flag = second_great_war_loser }
			any_country = {
				has_country_flag = defeat_bulgaria_flag
			}
		}
		every_country = {
			limit = {
				has_country_flag = second_great_war_winner
				has_country_flag = defeat_bulgaria_flag
			}
			country_event = wrwpe.28
		}
	}
	#fate of greece
	if = {
		limit = {
			BUL = { has_country_flag = second_great_war_winner }
			GRE = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_greece_flag }
			}
		}
		BUL = { country_event = wrwpe.29 }
	}
	else_if = {
		limit = {
			REI = { has_country_flag = second_great_war_winner }
			GRE = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_greece_flag }
			}
		}
		REI = { country_event = wrwpe.29 }
	}
	else_if = {
		limit = {
			SOV = { has_country_flag = second_great_war_winner }
			GRE = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_greece_flag }
			}
		}
		SOV = { country_event = wrwpe.29 }
	}
	else_if = {
		limit = {
			ENT = { has_country_flag = second_great_war_winner }
			GRE = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_greece_flag }
			}
		}
		ENT = { country_event = wrwpe.29 }
	}
	else_if = {
		limit = {
			GRE = { has_country_flag = second_great_war_loser }
			any_country = {
				has_country_flag = defeat_greece_flag
			}
		}
		every_country = {
			limit = {
				has_country_flag = second_great_war_winner
				has_country_flag = defeat_greece_flag
			}
			country_event = wrwpe.29
		}
	}
	#fate of serbia
	if = {
		limit = {
			any_country = {
				has_country_flag = defeat_austria_hungary_flag
			}
			all_country = {
				NOT = { has_country_flag = defeat_serbia_flag }
			}
		}
		every_country = {
			limit = {
				has_country_flag = defeat_austria_hungary_flag
			}
			country_event = wrwpe.30
		}
	}
	else_if = {
		limit = {
			AUH = { has_country_flag = second_great_war_winner }
			SER = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_serbia_flag }
			}
		}
		AUH = { country_event = wrwpe.30 }
	}
	else_if = {
		limit = {
			BUL = { has_country_flag = second_great_war_winner }
			SER = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_serbia_flag }
			}
		}
		BUL = { country_event = wrwpe.30 }
	}
	else_if = {
		limit = {
			REI = { has_country_flag = second_great_war_winner }
			SER = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_serbia_flag }
			}
		}
		REI = { country_event = wrwpe.30 }
	}
	else_if = {
		limit = {
			ENT = { has_country_flag = second_great_war_winner }
			SER = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_serbia_flag }
			}
		}
		ENT = { country_event = wrwpe.30 }
	}
	else_if = {
		limit = {
			SOV = { has_country_flag = second_great_war_winner }
			SER = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_serbia_flag }
			}
		}
		SOV = { country_event = wrwpe.30 }
	}
	else_if = {
		limit = {
			SER = { has_country_flag = second_great_war_loser }
			any_country = {
				has_country_flag = defeat_serbia_flag
			}
		}
		every_country = {
			limit = {
				has_country_flag = second_great_war_winner
				has_country_flag = defeat_serbia_flag
			}
			country_event = wrwpe.30
		}
	}
	#fate of albania
	if = {
		limit = {
			any_country = {
				has_country_flag = defeat_austria_hungary_flag
			}
			all_country = {
				NOT = { has_country_flag = defeat_albania_flag }
			}
		}
		every_country = {
			limit = {
				has_country_flag = defeat_austria_hungary_flag
			}
			country_event = wrwpe.31
		}
	}
	else_if = {
		limit = {
			AUH = { has_country_flag = second_great_war_winner }
			ALB = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_albania_flag }
			}
		}
		AUH = { country_event = wrwpe.31 }
	}
	else_if = {
		limit = {
			SER = { has_country_flag = second_great_war_winner }
			ALB = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_albania_flag }
			}
		}
		SER = { country_event = wrwpe.31 }
	}
	else_if = {
		limit = {
			BUL = { has_country_flag = second_great_war_winner }
			ALB = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_albania_flag }
			}
		}
		BUL = { country_event = wrwpe.31 }
	}
	else_if = {
		limit = {
			REI = { has_country_flag = second_great_war_winner }
			ALB = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_albania_flag }
			}
		}
		REI = { country_event = wrwpe.31 }
	}
	else_if = {
		limit = {
			ENT = { has_country_flag = second_great_war_winner }
			ALB = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_albania_flag }
			}
		}
		ENT = { country_event = wrwpe.31 }
	}
	else_if = {
		limit = {
			SOV = { has_country_flag = second_great_war_winner }
			ALB = { has_country_flag = second_great_war_loser }
			all_country = {
				NOT = { has_country_flag = defeat_albania_flag }
			}
		}
		SOV = { country_event = wrwpe.31 }
	}
	else_if = {
		limit = {
			ALB = { has_country_flag = second_great_war_loser }
			any_country = {
				has_country_flag = defeat_albania_flag
			}
		}
		every_country = {
			limit = {
				has_country_flag = second_great_war_winner
				has_country_flag = defeat_albania_flag
			}
			country_event = wrwpe.31
		}
	}
	if = {
		limit = {
			GER = { has_country_flag = second_great_war_winner }
			USS = { has_country_flag = second_great_war_loser }
			USS = { exists = yes }
		}
		GER = {
			if = {
				limit = {
					has_dlc = "Together for Victory"
				}
				set_autonomy = {
					target = USS
					autonomous_state = autonomy_puppet
					freedom_level = 0.5
				}
				else = {
					puppet = USS
				}
			}
		}
		USS = { set_cosmetic_tag = GER_UKR }
	}
	if = {
		limit = {
			GER = { has_country_flag = second_great_war_winner }
			UPR = { has_country_flag = second_great_war_loser }
			UPR = { exists = yes }
		}
		GER = {
			if = {
				limit = {
					has_dlc = "Together for Victory"
				}
				set_autonomy = {
					target = UPR
					autonomous_state = autonomy_puppet
					freedom_level = 0.5
				}
				else = {
					puppet = UPR
				}
			}
		}
		UPR = { set_cosmetic_tag = GER_UKR }
	}
}
german_puppet_effect = {
	if = {
		limit = {
			GER = {
				has_country_flag = second_great_war_loser
			}
		}
		every_country = {
			limit = {
				is_subject_of = GER
				NOT = { original_tag = GOA }
			}
			GER = { end_puppet = PREV }
		}
	}
	if = {
		limit = {
			POL = {
				has_country_flag = second_great_war_loser
			}
		}
		POL = {
			retire_character = POL_albrecht_wurttemberg
			set_politics = {
				ruling_party = neutrality
				elections_allowed = yes
				election_frequency = 48
				long_name = POL_Sanacja_party
				name = POL_Sanacja_party
			}
		}
	}
	if = {
		limit = {
			UBD = {
				has_country_flag = second_great_war_loser
			}
		}
		UBD = { retire_character = UBD_Adolf_Friedrich_zu_Mecklenburg }
	}
	if = {
		limit = {
			LIT = {
				has_country_flag = second_great_war_loser
			}
		}
		LIT = { retire_character = LIT_wilhelm_urach }
	}
	if = {
		limit = {
			UBD = {
				exists = yes
				has_country_flag = second_great_war_loser
			}
		}
		if = {
			limit = {
				RUS = { has_country_flag = second_great_war_winner }
			}
			RUS = { annex_country = { target = UBD transfer_troops = no } }
		}
		if = {
			limit = {
				EST = { exists = no }
				SOV = { has_country_flag = second_great_war_winner }
			}
			EST = { set_country_flag = puppet_to_sov_or_rus }
		}
		if = {
			limit = {
				LAT = { exists = no }
				SOV = { has_country_flag = second_great_war_winner }
			}
			LAT = { set_country_flag = puppet_to_sov_or_rus }
		}
		if = {
			limit = {
				EST = { exists = no }
				FRA = { has_country_flag = second_great_war_winner }
				OR = {
					SOV = { has_country_flag = anti_russia_war_loser }
					NOT = { has_global_flag = german_soviet_war_started_flag }
				}
			}
			EST = { set_country_flag = puppet_to_fra }
		}
		if = {
			limit = {
				LAT = { exists = no }
				FRA = { has_country_flag = second_great_war_winner }
				OR = {
					SOV = { has_country_flag = anti_russia_war_loser }
					NOT = { has_global_flag = german_soviet_war_started_flag }
				}
			}
			LAT = { set_country_flag = puppet_to_fra }
		}
		every_state = {
			limit = {
				is_owned_by = UBD
				is_core_of = EST
			}
			transfer_state_to = EST
		}
		every_state = {
			limit = {
				is_owned_by = UBD
				is_core_of = LAT
			}
			transfer_state_to = LAT
		}
	}
	#transfer state to CZE
	if = {
		limit = {
			GER = { has_country_flag = second_great_war_loser }
		}
		every_state = {
			limit = {
				is_owned_by = GER
				is_core_of = CZE
			}
			transfer_state_to = CZE
		}
	}
	#transfer state to poland
	if = {
		limit = {
			GER = { has_country_flag = second_great_war_loser }
		}
		every_state = {
			limit = {
				is_owned_by = GER
				is_core_of = POL
			}
			transfer_state_to = POL
		}
	}
	if = {
		limit = {
			LIT = { has_country_flag = second_great_war_loser }
		}
		every_state = {
			limit = {
				is_owned_by = LIT
				state = 97
			}
			transfer_state_to = POL
		}
	}
	#to soviet eastern puppets
	if = {
		limit = {
			UKR = { exists = yes }
			UKR = { has_country_flag = second_great_war_loser }
		}
		every_state = {
			limit = {
				is_owned_by = UKR
				state = 989
			}
			transfer_state_to = POL
		}
	}
	if = {
		limit = {
			UPR = { exists = yes }
			UPR = { has_country_flag = second_great_war_loser }
		}
		every_state = {
			limit = {
				is_owned_by = UPR
				state = 989
			}
			transfer_state_to = POL
		}
	}
	if = {
		limit = {
			USS = { exists = yes }
			USS = { has_country_flag = second_great_war_loser }
		}
		every_state = {
			limit = {
				is_owned_by = USS
				state = 989
			}
			transfer_state_to = POL
		}
	}
	if = {
		limit = {
			SOV = { has_country_flag = second_great_war_winner }
			POL = {
				exists = yes
				has_country_flag = second_great_war_loser
			}
		}
		SOV = {
			if = {
				limit = {
					has_dlc = "Together for Victory"
				}
				set_autonomy = {
					target = POL
					autonomous_state = autonomy_puppet
					freedom_level = 0.5
				}
				else = {
					puppet = POL
				}
			}
		}
	}
	if = {
		limit = {
			SOV = { has_country_flag = second_great_war_winner }
			UBD = {
				exists = yes
				has_country_flag = second_great_war_loser
			}
		}
		SOV = {
			if = {
				limit = {
					has_dlc = "Together for Victory"
				}
				set_autonomy = {
					target = UBD
					autonomous_state = autonomy_puppet
					freedom_level = 0.5
				}
				else = {
					puppet = UBD
				}
			}
		}
	}
	if = {
		limit = {
			SOV = { has_country_flag = second_great_war_winner }
			EST = {
				exists = yes
				has_country_flag = puppet_to_sov_or_rus
			}
		}
		SOV = {
			if = {
				limit = {
					has_dlc = "Together for Victory"
				}
				set_autonomy = {
					target = EST
					autonomous_state = autonomy_puppet
					freedom_level = 0.5
				}
				else = {
					puppet = EST
				}
			}
		}
	}
	if = {
		limit = {
			SOV = { has_country_flag = second_great_war_winner }
			LAT = {
				exists = yes
				has_country_flag = puppet_to_sov_or_rus
			}
		}
		SOV = {
			if = {
				limit = {
					has_dlc = "Together for Victory"
				}
				set_autonomy = {
					target = LAT
					autonomous_state = autonomy_puppet
					freedom_level = 0.5
				}
				else = {
					puppet = LAT
				}
			}
		}
	}
	if = {
		limit = {
			SOV = { has_country_flag = second_great_war_winner }
			BLR = {
				exists = yes
				has_country_flag = second_great_war_loser
			}
		}
		SOV = {
			if = {
				limit = {
					has_dlc = "Together for Victory"
				}
				set_autonomy = {
					target = BLR
					autonomous_state = autonomy_puppet
					freedom_level = 0.5
				}
				else = {
					puppet = BLR
				}
			}
		}
	}
	if = {
		limit = {
			SOV = { has_country_flag = second_great_war_winner }
			LIT = {
				exists = yes
				has_country_flag = second_great_war_loser
			}
		}
		SOV = {
			if = {
				limit = {
					has_dlc = "Together for Victory"
				}
				set_autonomy = {
					target = LIT
					autonomous_state = autonomy_puppet
					freedom_level = 0.5
				}
				else = {
					puppet = LIT
				}
			}
		}
	}
	if = {
		limit = {
			SOV = { has_country_flag = second_great_war_winner }
			UKR = {
				exists = yes
				has_country_flag = second_great_war_loser
			}
		}
		SOV = {
			if = {
				limit = {
					has_dlc = "Together for Victory"
				}
				set_autonomy = {
					target = UKR
					autonomous_state = autonomy_puppet
					freedom_level = 0.5
				}
				else = {
					puppet = UKR
				}
			}
		}
	}
	if = {
		limit = {
			SOV = { has_country_flag = second_great_war_winner }
			USS = {
				exists = yes
				has_country_flag = second_great_war_loser
			}
		}
		SOV = {
			if = {
				limit = {
					has_dlc = "Together for Victory"
				}
				set_autonomy = {
					target = USS
					autonomous_state = autonomy_puppet
					freedom_level = 0.5
				}
				else = {
					puppet = USS
				}
			}
		}
	}
	if = {
		limit = {
			SOV = { has_country_flag = second_great_war_winner }
			UPR = {
				exists = yes
				has_country_flag = second_great_war_loser
			}
		}
		SOV = {
			if = {
				limit = {
					has_dlc = "Together for Victory"
				}
				set_autonomy = {
					target = UPR
					autonomous_state = autonomy_puppet
					freedom_level = 0.5
				}
				else = {
					puppet = UPR
				}
			}
		}
	}
	#to russia eastern puppets
	if = {
		limit = {
			RUS = { has_country_flag = second_great_war_winner }
			POL = {
				exists = yes
				has_country_flag = second_great_war_loser
			}
		}
		RUS = {
			if = {
				limit = {
					has_dlc = "Together for Victory"
				}
				set_autonomy = {
					target = POL
					autonomous_state = autonomy_puppet
					freedom_level = 0.5
				}
				else = {
					puppet = POL
				}
			}
		}
	}
	if = {
		limit = {
			RUS = { has_country_flag = second_great_war_winner }
			UBD = {
				exists = yes
				has_country_flag = second_great_war_loser
			}
		}
		RUS = {
			annex_country = {
				target = UBD transfer_troops = no
			}
		}
	}
	if = {
		limit = {
			RUS = { has_country_flag = second_great_war_winner }
			EST = {
				exists = yes
				has_country_flag = puppet_to_sov_or_rus
			}
		}
		RUS = {
			annex_country = {
				target = EST transfer_troops = no
			}
		}
	}
	if = {
		limit = {
			RUS = { has_country_flag = second_great_war_winner }
			LAT = {
				exists = yes
				has_country_flag = puppet_to_sov_or_rus
			}
		}
		RUS = {
			annex_country = {
				target = LAT transfer_troops = no
			}
		}
	}
	if = {
		limit = {
			RUS = { has_country_flag = second_great_war_winner }
			BLR = {
				exists = yes
				has_country_flag = second_great_war_loser
			}
		}
		RUS = {
			annex_country = {
				target = BLR transfer_troops = no
			}
		}
	}
	if = {
		limit = {
			RUS = { has_country_flag = second_great_war_winner }
			LIT = {
				exists = yes
				has_country_flag = second_great_war_loser
			}
		}
		RUS = {
			annex_country = {
				target = LIT transfer_troops = no
			}
		}
	}
	if = {
		limit = {
			RUS = { has_country_flag = second_great_war_winner }
			UKR = {
				exists = yes
				has_country_flag = second_great_war_loser
			}
		}
		RUS = {
			annex_country = {
				target = UKR transfer_troops = no
			}
		}
	}
	if = {
		limit = {
			RUS = { has_country_flag = second_great_war_winner }
			USS = {
				exists = yes
				has_country_flag = second_great_war_loser
			}
		}
		RUS = {
			annex_country = {
				target = USS transfer_troops = no
			}
		}
	}
	if = {
		limit = {
			RUS = { has_country_flag = second_great_war_winner }
			UPR = {
				exists = yes
				has_country_flag = second_great_war_loser
			}
		}
		RUS = {
			annex_country = {
				target = UPR transfer_troops = no
			}
		}
	}
	#free ins
	if = {
		limit = {
			any_country = { has_country_flag = second_great_war_loser }
			any_state = {
				is_core_of = INS
				is_owned_by = PREV
			}
		}
		every_state = {
			limit = {
				is_owned_by = PREV
				is_core_of = INS
			}
			transfer_state_to = INS
		}
	}
	if = {
		limit = {
			any_country = { has_country_flag = second_great_war_loser }
			INS = { is_subject_of = PREV }
		}
		PREV = { end_puppet = INS }
		INS = { leave_faction = yes }
	}
	#morocco
	if = {
		limit = {
			GER = { has_country_flag = second_great_war_loser }
			FRA = { has_country_flag = second_great_war_winner }
		}
		if = {
			limit = {
				has_dlc = "Together for Victory"
			}
			set_autonomy = {
				target = MOR
				autonomous_state = autonomy_puppet
				freedom_level = 0.5
			}
			else = {
				puppet = MOR
			}
		}
		every_state = {
			limit = {
				is_owned_by = GER
				is_core_of = MOR
			}
			transfer_state_to = MOR
		}
	}
	#mittel afrika
	if = {
		limit = {
			GER = { has_country_flag = second_great_war_loser }
			FRA = { has_country_flag = second_great_war_winner }
		}
		if = {
			limit = {
				FRA = { has_completed_focus = domination_Equatorial_Africa }
			}
			every_state = {
				limit = {
					is_owned_by = GER
					is_core_of = GHA
				}
				transfer_state_to = GHA
			}
			every_state = {
				limit = {
					is_owned_by = GER
					is_core_of = NGA
				}
				transfer_state_to = NGA
			}
			every_state = {
				limit = {
					is_owned_by = GER
					is_core_of = COG
				}
				transfer_state_to = COG
			}
			every_state = {
				limit = {
					is_owned_by = GER
					is_core_of = ANG
				}
				transfer_state_to = ANG
			}
			FRA = {
				if = {
					limit = {
						has_dlc = "Together for Victory"
						GHA = { exists = yes }
					}
					set_autonomy = {
						target = GHA
						autonomous_state = autonomy_puppet
						freedom_level = 0.5
					}
				}
				else_if = {
					limit = {
						GHA = { exists = yes }
					}
					puppet = GHA
				}
				if = {
					limit = {
						has_dlc = "Together for Victory"
						NGA = { exists = yes }
					}
					set_autonomy = {
						target = NGA
						autonomous_state = autonomy_puppet
						freedom_level = 0.5
					}
				}
				else_if = {
					limit = {
						NGA = { exists = yes }
					}
					puppet = NGA
				}
				if = {
					limit = {
						has_dlc = "Together for Victory"
						COG = { exists = yes }
					}
					set_autonomy = {
						target = COG
						autonomous_state = autonomy_puppet
						freedom_level = 0.5
					}
					else = {
						puppet = COG
					}
				}
				if = {
					limit = {
						has_dlc = "Together for Victory"
						ANG = { exists = yes }
					}
					set_autonomy = {
						target = ANG
						autonomous_state = autonomy_puppet
						freedom_level = 0.5
					}
				}
				else_if = {
					limit = {
						ANG = { exists = yes }
					}
					puppet = ANG
				}
			}
			else = {
				every_state = {
					limit = {
						is_owned_by = GER
						OR = {
							state = 274
							state = 777
							state = 776
							state = 902
							state = 558
							state = 901
							state = 900
							state = 773
							state = 774
							state = 660
							state = 772
							state = 539
							state = 538
							state = 295
							state = 718
							state = 890
							state = 888
							state = 889
							state = 796
						}
					}
					transfer_state_to = WAA
					add_core_of = WAA
				}
				FRA = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
							WAA = { exists = yes }
						}
						set_autonomy = {
							target = WAA
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
					}
					else_if = {
						limit = {
							WAA = { exists = yes }
						}
						puppet = WAA
					}
				}
			}
		}
		every_state = {
			limit = {
				is_owned_by = GER
				OR = {
					state = 893
					state = 541
					state = 894
					state = 895
					state = 891
					state = 892
					state = 540
					state = 771
				}
			}
			transfer_state_to = SAA
			add_core_of = SAA
		}
		FRA = {
			if = {
				limit = {
					has_dlc = "Together for Victory"
					SAA = { exists = yes }
				}
				set_autonomy = {
					target = SAA
					autonomous_state = autonomy_puppet
					freedom_level = 0.5
				}
			}
			else_if = {
				limit = {
					SAA = { exists = yes }
				}
				puppet = SAA
			}
		}
		if = {
			limit = {
				ENG = { has_country_flag = second_great_war_winner }
			}
			every_state = {
				limit = {
					is_owned_by = GER
					OR = {
						state = 770
						state = 546
						state = 768
						state = 548
						state = 904
						state = 769
						state = 905
						state = 547
						state = 903
						state = 844
						state = 708
						state = 543
						state = 706
						state = 713
						state = 268
					}
				}
				transfer_state_to = EAA
				add_core_of = EAA
			}
			ENG = {
				if = {
					limit = {
						has_dlc = "Together for Victory"
						EAA = { exists = yes }
					}
					set_autonomy = {
						target = EAA
						autonomous_state = autonomy_puppet
						freedom_level = 0.5
					}
				}
				else_if = {
					limit = {
						EAA = { exists = yes }
					}
					puppet = EAA
				}
			}
			else = {
				every_state = {
					limit = {
						is_owned_by = GER
						OR = {
							state = 770
							state = 546
							state = 768
							state = 548
							state = 904
							state = 769
							state = 905
							state = 547
							state = 903
							state = 844
							state = 708
							state = 543
							state = 706
							state = 713
							state = 268
						}
					}
					transfer_state_to = EAA
					add_core_of = EAA
				}
				FRA = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
							EAA = { exists = yes }
						}
						set_autonomy = {
							target = EAA
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
					}
					else_if = {
						limit = {
							EAA = { exists = yes }
						}
						puppet = EAA
					}
				}
			}
		}
	}
	#fall of german asia
	if = {
		limit = {
			OR = {
				GER = { has_country_flag = second_great_war_loser }
				GOA = { has_country_flag = second_great_war_loser }
			}
		}
		every_state = {
			limit = {
				OR = {
					is_owned_by = GOA
					is_owned_by = GER
				}
				is_core_of = FSM
			}
			transfer_state_to = FSM
		}
		every_state = {
			limit = {
				OR = {
					is_owned_by = GOA
					is_owned_by = GER
				}
				is_core_of = SAM
			}
			transfer_state_to = SAM
		}
		if = {
			limit = {
				USA = { has_country_flag = second_great_war_winner }
			}
			every_state = {
				limit = {
					OR = {
						is_owned_by = GOA
						is_owned_by = GER
					}
					is_core_of = GUM
				}
				transfer_state_to = FRA
			}
			else = {
				every_state = {
					limit = {
						OR = {
							is_owned_by = GOA
							is_owned_by = GER
						}
						is_core_of = GUM
					}
					transfer_state_to = GUM
				}
			}
		}
		every_state = {
			limit = {
				OR = {
					is_owned_by = GOA
					is_owned_by = GER
				}
				is_core_of = FIJ
			}
			transfer_state_to = FIJ
		}
		every_state = {
			limit = {
				OR = {
					is_owned_by = GOA
					is_owned_by = GER
				}
				is_core_of = PNG
			}
			transfer_state_to = PNG
		}
		every_state = {
			limit = {
				OR = {
					is_owned_by = GOA
					is_owned_by = GER
				}
				is_core_of = SOL
			}
			transfer_state_to = SOL
		}
		every_state = {
			limit = {
				OR = {
					is_owned_by = GOA
					is_owned_by = GER
				}
				is_core_of = TAH
			}
			transfer_state_to = TAH
		}
		GER = { end_puppet = CAM }
		every_state = {
			limit = {
				OR = {
					is_owned_by = GOA
					is_owned_by = GER
				}
				is_core_of = CAM
			}
			transfer_state_to = CAM
		}
		GER = { end_puppet = VIN }
		every_state = {
			limit = {
				OR = {
					is_owned_by = GOA
					is_owned_by = GER
				}
				is_core_of = VIN
			}
			transfer_state_to = VIN
		}
		GER = { end_puppet = LAO }
		every_state = {
			limit = {
				OR = {
					is_owned_by = GOA
					is_owned_by = GER
				}
				is_core_of = LAO
			}
			transfer_state_to = LAO
		}
		if = {
			limit = {
				JAP = { has_country_flag = second_great_war_winner }
			}
			every_state = {
				limit = {
					OR = {
						is_owned_by = GOA
						is_owned_by = GER
					}
					state = 743
				}
				transfer_state_to = JAP
			}
		}
		else_if = {
			limit = {
				FNG = { controls_state = 743 }
			}
			every_state = {
				limit = {
					OR = {
						is_owned_by = GOA
						is_owned_by = GER
					}
					state = 743
				}
				transfer_state_to = FNG
			}
		}
		else = {
			every_state = {
				limit = {
					OR = {
						is_owned_by = GOA
						is_owned_by = GER
					}
					state = 743
				}
				transfer_state_to = CHI
			}
		}
	}
	if = {
		limit = {
			GER = { has_country_flag = second_great_war_loser }
			RUS = { has_country_flag = second_great_war_winner }
		}
		RUS = {
			news_event = soviet_rework_white.065
			remove_ideas = country_isolation
		}
	}
	#if sov-rus was defeated before germany fall
	if = {
		limit = {
			GER = { has_country_flag = second_great_war_loser }
			SOV = { has_country_flag = anti_russia_war_loser }
			RUS = { exists = no }
			NOT = { has_global_flag = you_cant_stop_now_flag }
		}
		SOV = {
			country_event = soviet_rework_troika.061
			set_country_flag = stop_the_collapse_flag
			set_capital = {
			  state = 219
			  remember_old_capital = no
			}
		}
		if = {
			limit = {
				MOS = { exists = yes }
			}
			if = {
				limit = {
					SOV = { exists = yes }
				}
				every_state = {
					limit = {
						is_core_of = MOS
					}
					remove_core_of = MOS
					add_core_of = SOV
				}
				SOV = { annex_country = { target = MOS transfer_troops = no } }
			}
		}
		if = {
			limit = {
				WOL = { exists = yes }
			}
			if = {
				limit = {
					SOV = { exists = yes }
				}
				every_state = {
					limit = {
						is_core_of = WOL
					}
					remove_core_of = WOL
					add_core_of = SOV
				}
				SOV = { annex_country = { target = WOL transfer_troops = no } }
			}
		}
		if = {
			limit = {
				URL = { exists = yes }
			}
			if = {
				limit = {
					SOV = { exists = yes }
				}
				every_state = {
					limit = {
						is_core_of = URL
					}
					remove_core_of = URL
					add_core_of = SOV
				}
				SOV = { annex_country = { target = URL transfer_troops = no } }
			}
		}
		if = {
			limit = {
				FIN = {
					has_country_flag = second_great_war_loser
					exists = yes
				}
				SOV = { exists = yes }
			}
			every_state = {
				limit = {
					is_owned_by = FIN
					is_core_of = SOV
				}
				transfer_state_to = SOV
			}
		}
		if = {
			limit = {
				UBD = { exists = yes }
			}
			every_state = {
				limit = {
					is_core_of = EST
					is_owned_by = UBD
				}
				transfer_state_to = EST
			}
			LAT = { annex_country = { target = UBD transfer_troops = no } }
		}
	}
	if = {
		limit = {
			GER = { has_country_flag = second_great_war_loser }
			SOV = { has_country_flag = anti_russia_war_loser }
		}
		GER = { end_puppet = RUS }
		every_state = {
			limit = {
				is_core_of = RUS
			}
			transfer_state_to = RUS
		}
		if = {
			limit = {
				MOS = { exists = yes }
			}
			if = {
				limit = {
					RUS = { exists = yes }
				}
				every_state = {
					limit = {
						is_core_of = MOS
					}
					remove_core_of = MOS
					add_core_of = RUS
				}
				RUS = { annex_country = { target = MOS transfer_troops = no } }
			}
		}
		if = {
			limit = {
				WOL = { exists = yes }
			}
			if = {
				limit = {
					RUS = { exists = yes }
				}
				every_state = {
					limit = {
						is_core_of = WOL
					}
					remove_core_of = WOL
					add_core_of = RUS
				}
				RUS = { annex_country = { target = WOL transfer_troops = no } }
			}
		}
		if = {
			limit = {
				URL = { exists = yes }
			}
			if = {
				limit = {
					RUS = { exists = yes }
				}
				every_state = {
					limit = {
						is_core_of = URL
					}
					remove_core_of = URL
					add_core_of = RUS
				}
				RUS = { annex_country = { target = URL transfer_troops = no } }
			}
		}
		if = {
			limit = {
				FIN = {
					has_country_flag = second_great_war_loser
					exists = yes
				}
				RUS = { exists = yes }
			}
			every_state = {
				limit = {
					is_owned_by = FIN
					OR = {
						state = 216
						state = 215
						state = 213
					}
				}
				add_core_of = RUS
				transfer_state_to = RUS
			}
		}
		if = {
			limit = {
				UBD = { exists = yes }
			}
			every_state = {
				limit = {
					is_core_of = EST
					is_owned_by = UBD
				}
				transfer_state_to = EST
			}
			LAT = { annex_country = { target = UBD transfer_troops = no } }
		}
		if = {
			limit = {
				UKR = {
					has_country_flag = second_great_war_loser
					exists = yes
				}
				RUS = { exists = yes }
			}
			every_state = {
				limit = {
					is_owned_by = UKR
					OR = {
						state = 220
						state = 260
						state = 988
						state = 245
						state = 218
					}
				}
				add_core_of = RUS
				transfer_state_to = RUS
			}
		}
		if = {
			limit = {
				UPR = {
					has_country_flag = second_great_war_loser
					exists = yes
				}
				RUS = { exists = yes }
			}
			every_state = {
				limit = {
					is_owned_by = UPR
					OR = {
						state = 220
						state = 260
						state = 988
						state = 245
						state = 218
					}
				}
				add_core_of = RUS
				transfer_state_to = RUS
			}
		}
		if = {
			limit = {
				USS = {
					has_country_flag = second_great_war_loser
					exists = yes
				}
				RUS = { exists = yes }
			}
			every_state = {
				limit = {
					is_owned_by = USS
					OR = {
						state = 220
						state = 260
						state = 988
						state = 245
						state = 218
					}
				}
				add_core_of = RUS
				transfer_state_to = RUS
			}
		}
	}
}
peace_conference_effect_for_russia = {
	every_country = {
		limit = {
			has_country_flag = anti_russia_war_loser
		}
		every_state = {
			limit = {
				is_claimed_by = PREV
			}
			remove_claim_by = PREV
		}
		every_other_country = {
			diplomatic_relation = {
				country = PREV
				relation = guarantee
				active = no
			}
			diplomatic_relation = {
				country = PREV
				relation = military_access
				active = no
			}
			diplomatic_relation = {
				country = PREV
				relation = docking_rights
				active = no
			}
			PREV = {
				diplomatic_relation = {
					country = PREV
					relation = guarantee
					active = no
				}
				diplomatic_relation = {
					country = PREV
					relation = military_access
					active = no
				}
				diplomatic_relation = {
					country = PREV
					relation = docking_rights
					active = no
				}
			}
		}
	}
	hidden_effect = {
		every_country = {
			limit = {
				exists = yes
			}
			every_country = {
				limit = {
					has_country_flag = anti_russia_war_loser
				}
				remove_wargoal = {
					type = all
					target = PREV 
				}
			}
		}
		every_country = {
			limit = {
				OR = {
					is_in_faction_with = ROOT
					is_subject_of = ROOT
					has_country_flag = second_great_war_loser
				}
			}
			every_country = {
				limit = {
					has_country_flag = second_great_war_winner
				}
				remove_wargoal = {
					type = all
					target = PREV 
				}
			}
		}
	}
	every_country = {
		limit = {
			exists = yes
			has_country_flag = anti_russia_war_winner
		}
		every_other_country = {
			limit = { has_country_flag = anti_russia_war_loser }
			PREV = {
				every_state = {
					limit = {
						is_owned_by = PREV.PREV
						OR = {
							is_claimed_by = PREV
							is_core_of = PREV
						}
					}
					PREV = {
						transfer_state = PREV
					}
				}
			}
		}
	}
	if = {
		limit = {
			OR = {
				SOV = { has_country_flag = anti_russia_war_winner }
				RUS = { has_country_flag = anti_russia_war_winner }
			}
		}
		#GER = { dismantle_faction = yes }
		GER = { leave_faction = yes }
		every_country = {
			limit = {
				has_war_with = GER
			}
			white_peace = {
				tag = GER
				#message = unconditional_surrender_of_GER
			}
		}
		every_country = {
			limit = {
				is_subject_of = GER
				NOT = { original_tag = GOA }
			}
			clr_country_flag = protectorate
			GER = { end_puppet = PREV }
		}
		#transfer state to poland
		every_state = {
			limit = {
				is_owned_by = GER
				is_core_of = POL
			}
			transfer_state_to = POL
		}
		every_state = {
			limit = {
				is_owned_by = LIT
				state = 97
			}
			transfer_state_to = POL
		}
		#morocco
		every_state = {
			limit = {
				is_owned_by = GER
				is_core_of = MOR
			}
			transfer_state_to = MOR
		}
		#mittel afrika
		every_state = {
			limit = {
				is_owned_by = GER
				is_core_of = COG
			}
			transfer_state_to = COG
		}
		every_state = {
			limit = {
				is_owned_by = GER
				OR = {
					state = 274
					state = 777
					state = 776
					state = 902
					state = 558
					state = 901
					state = 900
					state = 773
					state = 774
					state = 660
					state = 772
					state = 539
					state = 538
					state = 295
					state = 718
					state = 890
					state = 888
					state = 889
					state = 796
				}
			}
			transfer_state_to = WAA
			add_core_of = WAA
		}
		every_state = {
			limit = {
				is_owned_by = GER
				OR = {
					state = 893
					state = 541
					state = 894
					state = 895
					state = 891
					state = 892
					state = 540
					state = 771
				}
			}
			transfer_state_to = SAA
			add_core_of = SAA
		}
		every_state = {
			limit = {
				is_owned_by = GER
				OR = {
					state = 770
					state = 546
					state = 768
					state = 548
					state = 904
					state = 769
					state = 905
					state = 547
					state = 903
					state = 844
					state = 708
					state = 543
					state = 706
					state = 713
					state = 268
				}
			}
			transfer_state_to = EAA
			add_core_of = EAA
		}
		#fall of german asia
		if = {
			limit = {
				OR = {
					GER = { has_country_flag = anti_russia_war_loser }
					GOA = { has_country_flag = anti_russia_war_loser }
				}
			}
			every_state = {
				limit = {
					OR = {
						is_owned_by = GOA
						is_owned_by = GER
					}
					is_core_of = FSM
				}
				transfer_state_to = FSM
			}
			every_state = {
				limit = {
					OR = {
						is_owned_by = GOA
						is_owned_by = GER
					}
					is_core_of = SAM
				}
				transfer_state_to = SAM
			}
			if = {
				limit = {
					USA = { has_country_flag = anti_russia_war_winner }
				}
				every_state = {
					limit = {
						OR = {
							is_owned_by = GOA
							is_owned_by = GER
						}
						is_core_of = GUM
					}
					transfer_state_to = FRA
				}
				else = {
					every_state = {
						limit = {
							OR = {
								is_owned_by = GOA
								is_owned_by = GER
							}
							is_core_of = GUM
						}
						transfer_state_to = GUM
					}
				}
			}
			every_state = {
				limit = {
					OR = {
						is_owned_by = GOA
						is_owned_by = GER
					}
					is_core_of = FIJ
				}
				transfer_state_to = FIJ
			}
			every_state = {
				limit = {
					OR = {
						is_owned_by = GOA
						is_owned_by = GER
					}
					is_core_of = PNG
				}
				transfer_state_to = PNG
			}
			every_state = {
				limit = {
					OR = {
						is_owned_by = GOA
						is_owned_by = GER
					}
					is_core_of = SOL
				}
				transfer_state_to = SOL
			}
			every_state = {
				limit = {
					OR = {
						is_owned_by = GOA
						is_owned_by = GER
					}
					is_core_of = TAH
				}
				transfer_state_to = TAH
			}
			every_state = {
				limit = {
					OR = {
						is_owned_by = GOA
						is_owned_by = GER
					}
					is_core_of = CAM
				}
				transfer_state_to = CAM
			}
			every_state = {
				limit = {
					OR = {
						is_owned_by = GOA
						is_owned_by = GER
					}
					is_core_of = VIN
				}
				transfer_state_to = VIN
			}
			every_state = {
				limit = {
					OR = {
						is_owned_by = GOA
						is_owned_by = GER
					}
					is_core_of = LAO
				}
				transfer_state_to = LAO
			}
			if = {
				limit = {
					JAP = { has_country_flag = anti_russia_war_winner }
				}
				every_state = {
					limit = {
						OR = {
							is_owned_by = GOA
							is_owned_by = GER
						}
						state = 743
					}
					transfer_state_to = JAP
				}
			}
			else_if = {
				limit = {
					FNG = { controls_state = 743 }
				}
				every_state = {
					limit = {
						OR = {
							is_owned_by = GOA
							is_owned_by = GER
						}
						state = 743
					}
					transfer_state_to = FNG
				}
			}
			else = {
				every_state = {
					limit = {
						OR = {
							is_owned_by = GOA
							is_owned_by = GER
						}
						state = 743
					}
					transfer_state_to = CHI
				}
			}
		}
		if = {
			limit = {
				SOV = { exists = yes }
			}
			SOV = {
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = {
						target = GER
						autonomous_state = autonomy_puppet
						freedom_level = 0.5
					}
					else = {
						puppet = GER
					}
				}
			}
			if = {
				limit = {
					WAA = { exists = yes }
				}
				SOV = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = WAA
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = WAA
						}
					}
				}
			}
			if = {
				limit = {
					SAA = { exists = yes }
				}
				SOV = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = SAA
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = SAA
						}
					}
				}
			}
			if = {
				limit = {
					EAA = { exists = yes }
				}
				SOV = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = EAA
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = EAA
						}
					}
				}
			}
			if = {
				limit = {
					COG = { exists = yes }
				}
				SOV = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = COG
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = COG
						}
					}
				}
			}
			#to soviet eastern puppets
			if = {
				limit = {
					SOV = { has_country_flag = anti_russia_war_winner }
					POL = {
						exists = yes
						has_country_flag = anti_russia_war_loser
					}
				}
				SOV = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = POL
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = POL
						}
					}
				}
			}
			if = {
				limit = {
					SOV = { has_country_flag = anti_russia_war_winner }
					UBD = {
						exists = yes
						has_country_flag = anti_russia_war_loser
					}
				}
				SOV = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = UBD
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = UBD
						}
					}
				}
			}
			if = {
				limit = {
					SOV = { has_country_flag = anti_russia_war_winner }
					EST = {
						exists = yes
						has_country_flag = puppet_to_sov_or_rus
					}
				}
				SOV = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = EST
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = EST
						}
					}
				}
			}
			if = {
				limit = {
					SOV = { has_country_flag = anti_russia_war_winner }
					LAT = {
						exists = yes
						has_country_flag = puppet_to_sov_or_rus
					}
				}
				SOV = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = LAT
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = LAT
						}
					}
				}
			}
			if = {
				limit = {
					SOV = { has_country_flag = anti_russia_war_winner }
					BLR = {
						exists = yes
						has_country_flag = anti_russia_war_loser
					}
				}
				SOV = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = BLR
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = BLR
						}
					}
				}
			}
			if = {
				limit = {
					SOV = { has_country_flag = anti_russia_war_winner }
					LIT = {
						exists = yes
						has_country_flag = anti_russia_war_loser
					}
				}
				SOV = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = LIT
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = LIT
						}
					}
				}
			}
			if = {
				limit = {
					SOV = { has_country_flag = anti_russia_war_winner }
					UKR = {
						exists = yes
						has_country_flag = anti_russia_war_loser
					}
				}
				SOV = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = UKR
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = UKR
						}
					}
				}
			}
			if = {
				limit = {
					SOV = { has_country_flag = anti_russia_war_winner }
					USS = {
						exists = yes
						has_country_flag = anti_russia_war_loser
					}
				}
				SOV = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = USS
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = USS
						}
					}
				}
			}
			if = {
				limit = {
					SOV = { has_country_flag = anti_russia_war_winner }
					UPR = {
						exists = yes
						has_country_flag = anti_russia_war_loser
					}
				}
				SOV = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = UPR
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = UPR
						}
					}
				}
			}
		}
		if = {
			limit = {
				RUS = { exists = yes }
			}
			RUS = {
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = {
						target = GER
						autonomous_state = autonomy_puppet
						freedom_level = 0.5
					}
					else = {
						puppet = GER
					}
				}
			}
			if = {
				limit = {
					WAA = { exists = yes }
				}
				RUS = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = WAA
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = WAA
						}
					}
				}
			}
			if = {
				limit = {
					SAA = { exists = yes }
				}
				RUS = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = SAA
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = SAA
						}
					}
				}
			}
			if = {
				limit = {
					EAA = { exists = yes }
				}
				RUS = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = EAA
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = EAA
						}
					}
				}
			}
			#to russia eastern puppets
			if = {
				limit = {
					RUS = { has_country_flag = anti_russia_war_winner }
					POL = {
						exists = yes
						has_country_flag = anti_russia_war_loser
					}
				}
				RUS = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = POL
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = POL
						}
					}
				}
			}
			if = {
				limit = {
					RUS = { has_country_flag = anti_russia_war_winner }
					UBD = {
						exists = yes
						has_country_flag = anti_russia_war_loser
					}
				}
				RUS = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = UBD
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = UBD
						}
					}
				}
			}
			if = {
				limit = {
					RUS = { has_country_flag = anti_russia_war_winner }
					EST = {
						exists = yes
						has_country_flag = puppet_to_sov_or_rus
					}
				}
				RUS = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = EST
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = EST
						}
					}
				}
			}
			if = {
				limit = {
					RUS = { has_country_flag = anti_russia_war_winner }
					LAT = {
						exists = yes
						has_country_flag = puppet_to_sov_or_rus
					}
				}
				RUS = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = LAT
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = LAT
						}
					}
				}
			}
			if = {
				limit = {
					RUS = { has_country_flag = anti_russia_war_winner }
					BLR = {
						exists = yes
						has_country_flag = anti_russia_war_loser
					}
				}
				RUS = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = BLR
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = BLR
						}
					}
				}
			}
			if = {
				limit = {
					RUS = { has_country_flag = anti_russia_war_winner }
					LIT = {
						exists = yes
						has_country_flag = anti_russia_war_loser
					}
				}
				RUS = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = LIT
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = LIT
						}
					}
				}
			}
			if = {
				limit = {
					RUS = { has_country_flag = anti_russia_war_winner }
					UKR = {
						exists = yes
						has_country_flag = anti_russia_war_loser
					}
				}
				RUS = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = UKR
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = UKR
						}
					}
				}
			}
			if = {
				limit = {
					RUS = { has_country_flag = anti_russia_war_winner }
					USS = {
						exists = yes
						has_country_flag = anti_russia_war_loser
					}
				}
				RUS = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = USS
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = USS
						}
					}
				}
			}
			if = {
				limit = {
					RUS = { has_country_flag = anti_russia_war_winner }
					UPR = {
						exists = yes
						has_country_flag = anti_russia_war_loser
					}
				}
				RUS = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = {
							target = UPR
							autonomous_state = autonomy_puppet
							freedom_level = 0.5
						}
						else = {
							puppet = UPR
						}
					}
				}
			}
		}
	}
}

#Divide Germany
doriot_deat_germany = {
	if = {
		limit = {
			NOT = { has_completed_focus = FRA_Dea_New_Order }
		}
		every_state = {
			limit = {
				is_owned_by = GER
				OR = {
					state = 959
					state = 50
					state = 52
					state = 53
					state = 54
				}
			}
			add_core_of = G02
			transfer_state_to = G02
		}
		G01 = {
			annex_country = { target = GER transfer_troops = yes }
		}
		every_state = {
			limit = {
				is_owned_by = G01
			}
			add_core_of = G01
		}
		G01 = {
			set_cosmetic_tag = NGR_doriot
			inherit_technology = GER
			add_timed_idea = { idea = war_reparations days = 700 }
			add_ideas = peace_treaty
			set_party_name = {
				ideology = democratic
				long_name = WR_Banned
				name = WR_Banned
			}
			set_party_name = {
				ideology = communism
				long_name = WR_Banned
				name = WR_Banned
			}
			set_party_name = {
				ideology = fascism
				long_name = Supreme_Council_for_National_Reconstruction_long
				name = Supreme_Council_for_National_Reconstruction
			}
			set_party_name = {
				ideology = neutrality
				long_name = WR_Banned
				name = WR_Banned
			}
			create_country_leader = {
				name = "GER_werner_von_fritsch"
				picture = "gfx/leaders/GER/GER_werner_von_fritsch.png"
				ideology = national_popular_socialism
			}
		}
		G02 = {
			set_cosmetic_tag = SGR_doriot
			inherit_technology = GER
			add_timed_idea = { idea = war_reparations days = 700 }
			add_ideas = peace_treaty
			set_party_name = {
				ideology = democratic
				long_name = WR_Banned
				name = WR_Banned
			}
			set_party_name = {
				ideology = communism
				long_name = WR_Banned
				name = WR_Banned
			}
			set_party_name = {
				ideology = fascism
				long_name = South_German_Peoples_Revolutionary_Party_long
				name = South_German_Peoples_Revolutionary_Party
			}
			set_party_name = {
				ideology = neutrality
				long_name = WR_Banned
				name = WR_Banned
			}
			create_country_leader = {
				name = "GER_ernst_rohm"
				picture = "gfx/leaders/GER/GER_ernst_rohm.png"
				ideology = national_popular_socialism
			}
		}
		FRA = {
			if = {
				limit = {
					has_dlc = "Together for Victory"
					G01 = { exists = yes }
				}
				set_autonomy = {
					target = G01
					autonomous_state = autonomy_cooperating_country
					freedom_level = 0.5
				}
				else = {
					puppet = G01
				}
			}
			if = {
				limit = {
					has_dlc = "Together for Victory"
					G01 = { exists = yes }
				}
				set_autonomy = {
					target = G02
					autonomous_state = autonomy_cooperating_country
					freedom_level = 0.5
				}
				else = {
					puppet = G02
				}
			}
		}
	}
	if = {
		limit = {
			has_completed_focus = FRA_Dea_New_Order
		}
		every_state = {
			limit = {
				is_owned_by = GER
				OR = {
					state = 959
					state = 50
					state = 52
					state = 53
					state = 54
				}
			}
			add_core_of = G02
			transfer_state_to = G02
		}
		G01 = {
			annex_country = { target = GER transfer_troops = yes }
		}
		every_state = {
			limit = {
				is_owned_by = G01
			}
			add_core_of = G01
		}
		G01 = {
			set_cosmetic_tag = NGR_deat
			inherit_technology = GER
			add_timed_idea = { idea = war_reparations days = 700 }
			add_ideas = peace_treaty
			set_party_name = {
				ideology = democratic
				long_name = WR_Banned
				name = WR_Banned
			}
			set_party_name = {
				ideology = communism
				long_name = WR_Banned
				name = WR_Banned
			}
			set_party_name = {
				ideology = fascism
				long_name = NGR_deat_party_long
				name = NGR_deat_party
			}
			set_party_name = {
				ideology = neutrality
				long_name = WR_Banned
				name = WR_Banned
			}
			create_country_leader = {
				name = "GER_martin_bormann"
				picture = GFX_portrait_GER_martin_bormann
				ideology = neo_socialism
			}
		}
		G02 = {
			set_cosmetic_tag = SGR_deat
			inherit_technology = GER
			add_timed_idea = { idea = war_reparations days = 700 }
			add_ideas = peace_treaty
			set_party_name = {
				ideology = democratic
				long_name = WR_Banned
				name = WR_Banned
			}
			set_party_name = {
				ideology = communism
				long_name = WR_Banned
				name = WR_Banned
			}
			set_party_name = {
				ideology = fascism
				long_name = SGR_deat_party_long
				name = SGR_deat_party
			}
			set_party_name = {
				ideology = neutrality
				long_name = WR_Banned
				name = WR_Banned
			}
			create_country_leader = {
				name = "GER_gregor_strasser"
				picture = "gfx/leaders/GER/GER_gregor_strasser.png"
				ideology = neo_socialism
			}
		}
		FRA = {
			if = {
				limit = {
					has_dlc = "Together for Victory"
					G01 = { exists = yes }
				}
				set_autonomy = {
					target = G01
					autonomous_state = autonomy_cooperating_country
					freedom_level = 0.5
				}
				else = {
					puppet = G01
				}
			}
			if = {
				limit = {
					has_dlc = "Together for Victory"
					G01 = { exists = yes }
				}
				set_autonomy = {
					target = G02
					autonomous_state = autonomy_cooperating_country
					freedom_level = 0.5
				}
				else = {
					puppet = G02
				}
			}
		}
	}
}

maurras_germany = {
	every_state = {
		limit = {
			is_owned_by = GER
			OR = {
				state = 42
				state = 51
			}
		}
		transfer_state_to = FRA
	}
	every_state = {
		limit = {
			is_owned_by = GER
			OR = {
				state = 943
				state = 959
				state = 50
				state = 52
				state = 53
				state = 55
				state = 54
				state = 57
				state = 56
				state = 942
				state = 60
				state = 59
				state = 65
				state = 957
			}
		}
		transfer_state_to = G01
	}
	every_state = {
		limit = {
			state = 55
		}
		add_core_of = G01
	}
	G01 = {
		set_cosmetic_tag = NGR_maurras
		inherit_technology = GER
		add_timed_idea = { idea = war_reparations days = 700 }
		add_ideas = peace_treaty
		set_party_name = {
			ideology = democratic
			long_name = WR_Banned
			name = WR_Banned
		}
		set_party_name = {
			ideology = communism
			long_name = WR_Banned
			name = WR_Banned
		}
		set_party_name = {
			ideology = fascism
			long_name = WR_Banned
			name = WR_Banned
		}
		set_party_name = {
			ideology = neutrality
			long_name = FRA_action_francaise
			name = FRA_action_francaise
		}
		create_country_leader = {
			name = "FRA_jacques_bainville"
			picture = "gfx/leaders/FRA/FRA_jacques_bainville.png"
			ideology = integral_nationalism
		}
		GER = { enable_country_integration_80_compliance = yes }
	}
	GER = {
		set_cosmetic_tag = GER_maurras
		set_party_name = {
			ideology = democratic
			long_name = WR_Banned
			name = WR_Banned
		}
		set_party_name = {
			ideology = communism
			long_name = WR_Banned
			name = WR_Banned
		}
		set_party_name = {
			ideology = fascism
			long_name = WR_Banned
			name = WR_Banned
		}
		set_party_name = {
			ideology = neutrality
			long_name = GER_neutrality_party_long
			name = GER_neutrality_party
		}
		create_country_leader = {
			name = "GER_friedrich_v"
			picture = "gfx/leaders/GER/GER_friedrich_v.png"
			ideology = autocracy
		}
	}
	FRA = {
		if = {
			limit = {
				has_dlc = "Together for Victory"
				G01 = { exists = yes }
			}
			set_autonomy = {
				target = G01
				autonomous_state = autonomy_province_government
				freedom_level = 0.5
			}
			else = {
				puppet = G01
			}
		}
		if = {
			limit = {
				has_dlc = "Together for Victory"
				GER = { exists = yes }
			}
			set_autonomy = {
				target = GER
				autonomous_state = autonomy_cooperating_country
				freedom_level = 0.5
			}
			else = {
				puppet = GER
			}
		}
	}
}

francois_de_la_rocque_germany = {
	G01 = {
		annex_country = { target = GER transfer_troops = yes }
	}
	every_state = {
		limit = {
			is_owned_by = G01
		}
		add_core_of = G01
	}
	G01 = {
		set_cosmetic_tag = NGR_rocque
		inherit_technology = GER
		add_timed_idea = { idea = war_reparations days = 700 }
		add_ideas = peace_treaty
		if = {
			limit = {
				FRA = { has_government = neutrality }
			}
			set_party_name = {
				ideology = democratic
				long_name = WR_Banned
				name = WR_Banned
			}
			set_party_name = {
				ideology = neutrality
				long_name = RECON_party_long
				name = RECON_party
			}
			create_country_leader = {
				name = "GER_Franz_Papen"
				picture = "gfx/leaders/GER/GER_Franz_Papen.png"
				ideology = oligarchism
			}
		}
		if = {
			limit = {
				FRA = { has_government = democratic }
			}
			set_party_name = {
				ideology = democratic
				long_name = RECON_party_long
				name = RECON_party
			}
			set_party_name = {
				ideology = neutrality
				long_name = WR_Banned
				name = WR_Banned
			}
			create_country_leader = {
				name = "GER_Franz_Papen"
				picture = "gfx/leaders/GER/GER_Franz_Papen.png"
				ideology = conservatism
			}
		}
		set_party_name = {
			ideology = communism
			long_name = WR_Banned
			name = WR_Banned
		}
		set_party_name = {
			ideology = fascism
			long_name = WR_Banned
			name = WR_Banned
		}
	}
	FRA = {
		if = {
			limit = {
				has_dlc = "Together for Victory"
				G01 = { exists = yes }
			}
			set_autonomy = {
				target = G01
				autonomous_state = autonomy_cooperating_country
				freedom_level = 0.5
			}
			else = {
				puppet = G01
			}
		}
	}
}

charles_de_gaulle_germany = {
	every_state = {
		limit = {
			is_owned_by = GER
			state = 943
		}
		transfer_state_to = FRA
	}
	G01 = {
		annex_country = { target = GER transfer_troops = yes }
	}
	every_state = {
		limit = {
			is_owned_by = G01
		}
		add_core_of = G01
	}
	G01 = {
		set_cosmetic_tag = GER_Confederation_of_the_Rhine
		inherit_technology = GER
		add_timed_idea = { idea = war_reparations days = 700 }
		add_ideas = peace_treaty
		set_party_name = {
			ideology = democratic
			long_name = WR_Banned
			name = WR_Banned
		}
		set_party_name = {
			ideology = communism
			long_name = WR_Banned
			name = WR_Banned
		}
		set_party_name = {
			ideology = fascism
			long_name = WR_Banned
			name = WR_Banned
		}
		set_party_name = {
			ideology = neutrality
			long_name = RECON_party_long
			name = RECON_party_long
		}
		create_country_leader = {
			name = "GER_Franz_Papen"
			picture = "gfx/leaders/GER/GER_Franz_Papen.png"
			ideology = oligarchism
		}
	}
	FRA = {
		943 = { enable_state_integration_80_compliance = yes }
		if = {
			limit = {
				has_dlc = "Together for Victory"
				G01 = { exists = yes }
			}
			set_autonomy = {
				target = G01
				autonomous_state = autonomy_cooperating_country
				freedom_level = 0.5
			}
			else = {
				puppet = G01
			}
		}
	}
}

marcel_bucard_germany = {
	every_state = {
		limit = {
			is_owned_by = GER
			OR = {
				state = 42
				state = 51
				state = 55
				state = 943
				state = 57
				state = 56
				state = 942
				state = 59
				state = 58
				state = 911
			}
		}
		add_core_of = G01
		transfer_state_to = G01
	}
	every_state = {
		limit = {
			is_owned_by = GER
			OR = {
				state = 959
				state = 50
				state = 52
				state = 53
				state = 54
			}
		}
		add_core_of = G02
		transfer_state_to = G02
	}
	G03 = {
		annex_country = { target = GER transfer_troops = yes }
	}
	every_state = {
		limit = {
			is_owned_by = G03
		}
		add_core_of = G03
	}
	G01 = {
		set_cosmetic_tag = WGR_bucard
		inherit_technology = GER
		add_timed_idea = { idea = war_reparations days = 700 }
		add_ideas = peace_treaty
		set_party_name = {
			ideology = democratic
			long_name = WR_Banned
			name = WR_Banned
		}
		set_party_name = {
			ideology = communism
			long_name = WR_Banned
			name = WR_Banned
		}
		set_party_name = {
			ideology = fascism
			long_name = GER_military_government
			name = GER_military_government
		}
		set_party_name = {
			ideology = neutrality
			long_name = WR_Banned
			name = WR_Banned
		}
		create_country_leader = {
			name = "FRA_WGR_bucard"
			picture = "gfx/leaders/FRA/FRA_WGR_bucard.png"
			ideology = fascism_ideology
		}
	}
	G02 = {
		set_cosmetic_tag = SGR_bucard
		inherit_technology = GER
		add_timed_idea = { idea = war_reparations days = 700 }
		add_ideas = peace_treaty
		set_party_name = {
			ideology = democratic
			long_name = WR_Banned
			name = WR_Banned
		}
		set_party_name = {
			ideology = communism
			long_name = WR_Banned
			name = WR_Banned
		}
		set_party_name = {
			ideology = fascism
			long_name = GER_military_government
			name = GER_military_government
		}
		set_party_name = {
			ideology = neutrality
			long_name = WR_Banned
			name = WR_Banned
		}
		create_country_leader = {
			name = "FRA_SGR_bucard"
			picture = "gfx/leaders/FRA/FRA_SGR_bucard.png"
			ideology = fascism_ideology
		}
	}
	G03 = {
		set_cosmetic_tag = EGR_bucard
		inherit_technology = GER
		add_timed_idea = { idea = war_reparations days = 700 }
		add_ideas = peace_treaty
		set_party_name = {
			ideology = democratic
			long_name = WR_Banned
			name = WR_Banned
		}
		set_party_name = {
			ideology = communism
			long_name = WR_Banned
			name = WR_Banned
		}
		set_party_name = {
			ideology = fascism
			long_name = GER_military_government
			name = GER_military_government
		}
		set_party_name = {
			ideology = neutrality
			long_name = WR_Banned
			name = WR_Banned
		}
		create_country_leader = {
			name = "FRA_EGR_bucard"
			picture = "gfx/leaders/FRA/FRA_EGR_bucard.png"
			ideology = fascism_ideology
		}
	}
	FRA = {
		if = {
			limit = {
				has_dlc = "Together for Victory"
				G01 = { exists = yes }
			}
			set_autonomy = {
				target = G01
				autonomous_state = autonomy_puppet
				freedom_level = 0.5
			}
			else = {
				puppet = G01
			}
		}
		if = {
			limit = {
				has_dlc = "Together for Victory"
				G02 = { exists = yes }
			}
			set_autonomy = {
				target = G02
				autonomous_state = autonomy_puppet
				freedom_level = 0.5
			}
			else = {
				puppet = G02
			}
		}
		if = {
			limit = {
				has_dlc = "Together for Victory"
				G03 = { exists = yes }
			}
			set_autonomy = {
				target = G03
				autonomous_state = autonomy_puppet
				freedom_level = 0.5
			}
			else = {
				puppet = G03
			}
		}
	}
}

pierre_monatte_germany = {
	G01 = {
		annex_country = { target = GER transfer_troops = yes }
	}
	every_state = {
		limit = {
			is_owned_by = G01
		}
		add_core_of = G01
	}
	G01 = {
		set_cosmetic_tag = NGR_monatte
		inherit_technology = GER
		add_ideas = peace_treaty
		set_party_name = {
			ideology = democratic
			long_name = WR_Banned
			name = WR_Banned
		}
		set_party_name = {
			ideology = communism
			long_name = GER_anarcho_syndicalist_party_long
			name = GER_anarcho_syndicalist_party
		}
		set_party_name = {
			ideology = fascism
			long_name = WR_Banned
			name = WR_Banned
		}
		set_party_name = {
			ideology = neutrality
			long_name = WR_Banned
			name = WR_Banned
		}
		create_country_leader = {
			name = "GER_rudolf_rocker"
			picture = "gfx/leaders/GER/GER_rudolf_rocker.png"
			ideology = syndicalism
		}
	}
	FRA = {
		if = {
			limit = {
				has_dlc = "Together for Victory"
				G01 = { exists = yes }
			}
			set_autonomy = {
				target = G01
				autonomous_state = autonomy_cooperating_country
				freedom_level = 0.5
			}
			else = {
				puppet = G01
			}
		}
	}
}

democratic_germany = {
	G01 = {
		annex_country = { target = GER transfer_troops = yes }
	}
	every_state = {
		limit = {
			is_owned_by = G01
		}
		add_core_of = G01
	}
	G01 = {
		set_cosmetic_tag = NGR_ger_democratic
		inherit_technology = GER
		add_timed_idea = { idea = war_reparations days = 700 }
		add_ideas = peace_treaty
		set_party_name = {
			ideology = democratic
			long_name = GER_free_democratic_party_long
			name = GER_free_democratic_party
		}
		set_party_name = {
			ideology = communism
			long_name = GER_communism_party
			name = GER_communism_party
		}
		set_party_name = {
			ideology = fascism
			long_name = GER_fdap_party_long
			name = GER_fdap_party
		}
		set_party_name = {
			ideology = neutrality
			long_name = GER_nvp_party_long
			name = GER_nvp_party
		}
		create_country_leader = {
			name = "GER_theodor_heuss"
			picture = "gfx/leaders/GER/GER_theodor_heuss.png"
			ideology = liberalism
		}
		create_country_leader = {
			name = "GER_ernst_thalmann"
			picture = GFX_portrait_GER_ernst_thalmann
			ideology = marxism
		}
		create_country_leader = {
			name = "GER_gregor_strasser"
			picture = "gfx/leaders/GER/GER_gregor_strasser.png"
			ideology = ethnic_nationalism
		}
		create_country_leader = {
			name = "GER_otto_schmidt_hannover"
			picture = "gfx/leaders/GER/GER_otto_schmidt_hannover.png"
			ideology = oligarchism
		}
	}
	FRA = {
		if = {
			limit = {
				has_dlc = "Together for Victory"
				G01 = { exists = yes }
			}
			set_autonomy = {
				target = G01
				autonomous_state = autonomy_cooperating_country
				freedom_level = 0.5
			}
			else = {
				puppet = G01
			}
		}
		country_event = { id = france_wr.232 days = 10 }
	}
}