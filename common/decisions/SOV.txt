#peace_deal = {
#	peace_for_ger_SOV = {
#		icon = peace
#		allowed = {
#			OR = {
#				original_tag = SOV
#				original_tag = RUS
#			}
#		}
#		available = {
#			surrender_progress > 0.8
#		}
#		visible = {
#			has_war_with = GER
#			surrender_progress > 0.8
#		}
#		days_remove = 7
#		fire_only_once = yes
#		remove_effect = {
#			if = {
#				limit = { original_tag = SOV }
#				GER = { country_event = Germany.69 }
#			}
#			if = {
#				limit = { original_tag = RUS }
#				GER = { country_event = Germany.86 }
#			}
#		}
#		fire_only_once = yes
#		ai_will_do = { 
#			base = 4000
#		}
#	}
#}

#Rework - Troika
SOV_comintern_decision = {
	SOV_raise_funds = {
		icon = GFX_decision_generic_fundraising
		ai_will_do = {
			base = 1
			modifier = {
				add = 50
				check_variable = { SOV_money_for_comintern < 1000 }
			}
		}
		visible = {
			is_faction_leader = yes
			NOT = { has_completed_focus = SOV_permanent_revolution }
		}
		days_remove = 30
		cost = 30
		modifier = {
			political_power_factor = -0.025
			consumer_goods_factor = 0.05
		}
		remove_effect = {
			custom_effect_tooltip = SOV_raise_funds_tt
			add_to_variable = { SOV_money_for_comintern = 200 }
		}
	}
	SOV_raise_funds_1 = {
		icon = GFX_decision_generic_fundraising
		ai_will_do = {
			base = 1
			modifier = {
				add = 50
				check_variable = { SOV_money_for_comintern < 1000 }
			}
		}
		visible = {
			is_faction_leader = yes
			has_completed_focus = SOV_permanent_revolution
			OR = {
				has_country_flag = sov_europe_decisions_open
				is_ai = yes
			}
		}
		days_remove = 20
		cost = 20
		modifier = {
			political_power_factor = -0.025
			consumer_goods_factor = 0.05
		}
		remove_effect = {
			custom_effect_tooltip = SOV_raise_funds_tt
			add_to_variable = { SOV_money_for_comintern = 200 }
		}
	}
	SOV_Intervention_in_the_Ukrainian_Civil_War = {
		icon = GFX_decision_generic_protection
		ai_will_do = {
			base = 4000
		}
		custom_cost_trigger = {
			has_political_power > 14
			check_variable = { SOV_money_for_comintern > 299 }
		}
		custom_cost_text = SOV_need_300_tt
		visible = {
			USS = { exists = yes }
			OR = {
				USS = { has_war_with = UKR }
				USS = { has_war_with = UPR }
			}
		}
		days_remove = 100
		modifier = {
				send_volunteer_size = 5
				air_volunteer_cap = 50
		}
	}
	SOV_spread_the_revolution_to_eastern_europe_decision = {
		icon = GFX_decision_SWI_consolidate_council_power
		target_trigger = {
			FROM = {
				NOT = { has_government = communism }
				NOT = { has_idea = SOV_Soviet_support_for_Italian_communists }
				NOT = { has_country_flag = already_revolution_flag }
				exists = yes
				OR = {
					original_tag = UKR
					original_tag = UPR
					original_tag = LIT
					original_tag = BLR
					original_tag = POL
					original_tag = UBD
					original_tag = EST
					original_tag = LAT
				}
			}
		}
		visible = {
			has_completed_focus = SOV_spread_the_revolution_to_eastern_europe
			OR = {
				has_country_flag = sov_europe_decisions_open
				is_ai = yes
			}
		}
		custom_cost_trigger = {
			has_political_power > 14
			check_variable = { SOV_money_for_comintern > 299 }
		}
		custom_cost_text = SOV_need_300_tt
		complete_effect = {
			FROM = { add_timed_idea = { idea = SOV_Soviet_support_for_Italian_communists days = 100 } }
			add_to_variable = { SOV_money_for_comintern = -300 }
			custom_effect_tooltip = days_re_enable_100
			add_political_power = -15
		}
		ai_will_do = {
			base = 10
			modifier = {
				add = 200
				has_political_power > 100
			}
		}
	}
	SOV_revolution_in_eastern_europe = {
		icon = GFX_decision_SWI_consolidate_council_power
		visible = {
			has_completed_focus = SOV_spread_the_revolution_to_eastern_europe
			OR = {
				has_country_flag = sov_europe_decisions_open
				is_ai = yes
			}
		}
		allowed = {
			original_tag = SOV
		}
		target_trigger = {
			FROM = {
				NOT = { has_government = communism }
				NOT = { has_country_flag = already_revolution_flag }
				exists = yes
				OR = {
					original_tag = UKR
					original_tag = UPR
					original_tag = LIT
					original_tag = BLR
					original_tag = POL
					original_tag = UBD
					original_tag = EST
					original_tag = LAT
				}
			}
		}
		available = {
			FROM = { communism > 0.5 }
		}
		custom_cost_trigger = {
			has_political_power > 29
			check_variable = { SOV_money_for_comintern > 499 }
		}
		fire_only_once = yes
		custom_cost_text = SOV_need_500_tt
		complete_effect = {
			FROM = {
				country_event = soviet_rework_revolution.1
				set_country_flag = already_revolution_flag
			}
			add_to_variable = { SOV_money_for_comintern = -500 }
			add_political_power = -30
		}
		ai_will_do = {
			base = 0
			modifier = {
				FROM = { communism > 0.7 }
				add = 50
			}
		}
	}
	SOV_spread_the_revolution_to_europe = {
		icon = GFX_decision_SWI_consolidate_council_power
		target_trigger = {
			FROM = {
				NOT = { has_government = communism }
				NOT = { has_idea = SOV_Soviet_support_for_Italian_communists }
				NOT = { has_country_flag = already_revolution_flag }
				is_in_faction = no
				exists = yes
				OR = {
					original_tag = CZE
					original_tag = FIN
					original_tag = SLO
					original_tag = HUN
					original_tag = AUS
					original_tag = ROM
					original_tag = SER
					original_tag = GRE
					original_tag = BUL
				}
			}
		}
		visible = {
			has_completed_focus = SOV_focus_on_spreading_the_revolution
			OR = {
				has_country_flag = sov_europe_decisions_open
				is_ai = yes
			}
		}
		custom_cost_trigger = {
			has_political_power > 14
			check_variable = { SOV_money_for_comintern > 299 }
		}
		custom_cost_text = SOV_need_300_tt
		complete_effect = {
			FROM = { add_timed_idea = { idea = SOV_Soviet_support_for_Italian_communists days = 100 } }
			add_to_variable = { SOV_money_for_comintern = -300 }
			custom_effect_tooltip = days_re_enable_100
			add_political_power = -15
		}
		ai_will_do = {
			base = 10
			modifier = {
				add = 200
				has_political_power > 100
			}
		}
	}
	SOV_revolution_in_europe = {
		icon = GFX_decision_SWI_consolidate_council_power
		visible = {
			has_completed_focus = SOV_focus_on_spreading_the_revolution
			OR = {
				has_country_flag = sov_europe_decisions_open
				is_ai = yes
			}
		}
		allowed = {
			original_tag = SOV
		}
		target_trigger = {
			FROM = {
				NOT = { has_government = communism }
				NOT = { has_country_flag = already_revolution_flag }
				is_in_faction = no
				exists = yes
				OR = {
					original_tag = CZE
					original_tag = FIN
					original_tag = SLO
					original_tag = HUN
					original_tag = AUS
					original_tag = ROM
					original_tag = SER
					original_tag = GRE
					original_tag = BUL
				}
			}
		}
		available = {
			FROM = { communism > 0.5 }
		}
		custom_cost_trigger = {
			has_political_power > 29
			check_variable = { SOV_money_for_comintern > 499 }
		}
		fire_only_once = yes
		custom_cost_text = SOV_need_500_tt
		complete_effect = {
			FROM = {
				country_event = soviet_rework_revolution.1
				set_country_flag = already_revolution_flag
			}
			add_to_variable = { SOV_money_for_comintern = -500 }
			add_political_power = -30
		}
		ai_will_do = {
			base = 0
			modifier = {
				FROM = { communism > 0.7 }
				add = 50
			}
		}
	}
	SOV_SOV_Middle_East_Revolution_decision = {
		icon = GFX_decision_SWI_consolidate_council_power
		target_trigger = {
			FROM = {
				NOT = { has_government = communism }
				NOT = { has_idea = SOV_Soviet_support_for_Italian_communists }
				NOT = { has_country_flag = already_revolution_flag }
				exists = yes
				OR = {
					original_tag = PER
					original_tag = AFG
					original_tag = TUR
					original_tag = IRQ
					original_tag = SYR
				}
			}
		}
		visible = {
			has_completed_focus = SOV_Middle_East_Revolution
			OR = {
				has_country_flag = sov_asia_decisions_open
				is_ai = yes
			}
		}
		custom_cost_trigger = {
			has_political_power > 14
			check_variable = { SOV_money_for_comintern > 299 }
		}
		custom_cost_text = SOV_need_300_tt
		complete_effect = {
			FROM = { add_timed_idea = { idea = SOV_Soviet_support_for_Italian_communists days = 100 } }
			add_to_variable = { SOV_money_for_comintern = -300 }
			custom_effect_tooltip = days_re_enable_100
			add_political_power = -15
		}
		ai_will_do = {
			base = 10
			modifier = {
				add = 200
				has_political_power > 100
			}
		}
	}
	SOV_revolution_in_middle_east = {
		icon = GFX_decision_SWI_consolidate_council_power
		visible = {
			has_completed_focus = SOV_Middle_East_Revolution
			OR = {
				has_country_flag = sov_asia_decisions_open
				is_ai = yes
			}
		}
		allowed = {
			original_tag = SOV
		}
		target_trigger = {
			FROM = {
				NOT = { has_country_flag = already_revolution_flag }
				NOT = { has_government = communism }
				exists = yes
				OR = {
					original_tag = PER
					original_tag = AFG
					original_tag = TUR
					original_tag = IRQ
					original_tag = SYR
				}
			}
		}
		available = {
			FROM = { communism > 0.5 }
		}
		custom_cost_trigger = {
			has_political_power > 29
			check_variable = { SOV_money_for_comintern > 499 }
		}
		fire_only_once = yes
		custom_cost_text = SOV_need_500_tt
		complete_effect = {
			FROM = {
				country_event = soviet_rework_revolution.1
				set_country_flag = already_revolution_flag
			}
			add_to_variable = { SOV_money_for_comintern = -500 }
			add_political_power = -30
		}
		ai_will_do = {
			base = 0
			modifier = {
				FROM = { communism > 0.7 }
				add = 50
			}
		}
	}
	SOV_Approach_Africa_decision = {
		icon = GFX_decision_SWI_consolidate_council_power
		target_trigger = {
			FROM = {
				NOT = { has_government = communism }
				NOT = { has_idea = SOV_Soviet_support_for_Italian_communists }
				NOT = { has_country_flag = already_revolution_flag }
				exists = yes
				OR = {
					original_tag = ETH
					original_tag = EGY
					original_tag = SAF
					original_tag = LIB
					original_tag = SOM
				}
			}
		}
		visible = {
			has_completed_focus = SOV_Middle_East_Revolution
			OR = {
				has_country_flag = sov_africa_decisions_open
				is_ai = yes
			}
		}
		custom_cost_trigger = {
			has_political_power > 14
			check_variable = { SOV_money_for_comintern > 299 }
		}
		custom_cost_text = SOV_need_300_tt
		complete_effect = {
			FROM = { add_timed_idea = { idea = SOV_Soviet_support_for_Italian_communists days = 100 } }
			add_to_variable = { SOV_money_for_comintern = -300 }
			custom_effect_tooltip = days_re_enable_100
			add_political_power = -15
		}
		ai_will_do = {
			base = 10
			modifier = {
				add = 200
				has_political_power > 100
			}
		}
	}
	SOV_revolution_in_africa = {
		icon = GFX_decision_SWI_consolidate_council_power
		visible = {
			has_completed_focus = SOV_Middle_East_Revolution
			OR = {
				has_country_flag = sov_africa_decisions_open
				is_ai = yes
			}
		}
		allowed = {
			original_tag = SOV
		}
		target_trigger = {
			FROM = {
				NOT = { has_government = communism }
				NOT = { has_country_flag = already_revolution_flag }
				exists = yes
				OR = {
					original_tag = ETH
					original_tag = EGY
					original_tag = SAF
					original_tag = LIB
					original_tag = SOM
				}
			}
		}
		available = {
			FROM = { communism > 0.5 }
		}
		custom_cost_trigger = {
			has_political_power > 29
			check_variable = { SOV_money_for_comintern > 499 }
		}
		fire_only_once = yes
		custom_cost_text = SOV_need_500_tt
		complete_effect = {
			FROM = {
				country_event = soviet_rework_revolution.1
				set_country_flag = already_revolution_flag
			}
			add_to_variable = { SOV_money_for_comintern = -500 }
			add_political_power = -30
		}
		ai_will_do = {
			base = 0
			modifier = {
				FROM = { communism > 0.7 }
				add = 50
			}
		}
	}
	SOV_eastern_revolution = {
		icon = GFX_decision_SOV_the_stalin_constitution
		target_trigger = {
			FROM = {
				NOT = { has_government = communism }
				exists = yes
				OR = {
					original_tag = UKR
					original_tag = UPR
					original_tag = LIT
					original_tag = BLR
					original_tag = POL
					original_tag = UBD
					original_tag = EST
					original_tag = LAT
				}
			}
		}
		visible = {
			is_subject = no
			has_completed_focus = SOV_agitate_for_revolutions_in_eastern_europe
			OR = {
				has_country_flag = sov_europe_decisions_open
				is_ai = yes
			}
		}
		fire_only_once = yes
		cost = 20
		days_remove = 20
		remove_effect = {
			FROM = { country_event = Soviet.68 }
		}
		ai_will_do = {
			base = 100
		}
	}
	SOV_promote_ideology_rallies_europe = {
		icon = hol_attract_foreign_investors
		ai_will_do = {
			base = 1
			modifier = {
				factor = 2
				has_political_power > 160
			}
		}
		target_trigger = {
			FROM = {
				is_subject = no
				OR = {
					original_tag = ITA
					original_tag = FIN
					original_tag = SWE
					original_tag = NOR
				}
			}
		}

		allowed = {
			original_tag = SOV
		}

		visible = {
			has_completed_focus = SOV_the_section_of_the_3rd_international
			OR = {
				has_country_flag = sov_europe_decisions_open
				is_ai = yes
			}
		}

		days_remove = 100

		fire_only_once = yes

		cost = 20

		modifier = {
			political_power_gain = -0.25
		}

		remove_effect = {
			FROM = {
				country_event = { id = Soviet.80 hours = 4 random_hours = 2 }
			}
			custom_effect_tooltip = SOV_promote_rallies_effects_tt
			custom_effect_tooltip = SOV_promote_ideological_rallies_cd_tt
		}
	}
	SOV_promote_ideology_rallies_asia = {
		icon = hol_attract_foreign_investors
		ai_will_do = {
			base = 1
			modifier = {
				factor = 2
				has_political_power > 160
			}
		}
		target_trigger = {
			FROM = {
				is_subject = no
				OR = {
					original_tag = CHI
					original_tag = SIK
					original_tag = AFG
					original_tag = PER
					original_tag = GEO
					original_tag = ARM
					original_tag = AZR
				}
			}
		}

		allowed = {
			original_tag = SOV
		}

		visible = {
			has_completed_focus = SOV_the_section_of_the_3rd_international
			OR = {
				has_country_flag = sov_asia_decisions_open
				is_ai = yes
			}
		}

		days_remove = 100

		fire_only_once = yes

		cost = 20

		modifier = {
			political_power_gain = -0.25
		}

		remove_effect = {
			FROM = {
				country_event = { id = Soviet.80 hours = 4 random_hours = 2 }
			}
			custom_effect_tooltip = SOV_promote_rallies_effects_tt
			custom_effect_tooltip = SOV_promote_ideological_rallies_cd_tt
		}
	}
	SOV_Supporting_the_Italian_Revolution = {
		icon = GFX_decision_SWI_consolidate_council_power
		visible = {
			has_completed_focus = SOV_support_gramsci_and_bordiga
			NOT = { ITA = { has_country_flag = already_revolution_flag } }
			NOT = { ITA = { has_idea = SOV_Soviet_support_for_Italian_communists } }
			OR = {
				has_country_flag = sov_europe_decisions_open
				is_ai = yes
			}
		}
		allowed = {
			original_tag = SOV
		}
		available = {
			NOT = { ITA = { has_government = communism } }
		}
		custom_cost_trigger = {
			has_political_power > 14
			check_variable = { SOV_money_for_comintern > 299 }
		}
		custom_cost_text = SOV_need_300_tt
		complete_effect = {
			ITA = { add_timed_idea = { idea = SOV_Soviet_support_for_Italian_communists days = 100 } }
			add_to_variable = { SOV_money_for_comintern = -300 }
			custom_effect_tooltip = days_re_enable_100
			add_political_power = -15
		}
		ai_will_do = {
			base = 10
		}
	}
	SOV_revolution_in_italy = {
		icon = GFX_decision_SWI_consolidate_council_power
		visible = {
			has_completed_focus = SOV_support_gramsci_and_bordiga
			OR = {
				has_country_flag = sov_europe_decisions_open
				is_ai = yes
			}
		}
		allowed = {
			original_tag = SOV
		}
		available = {
			NOT = { ITA = { has_government = communism } }
			ITA = { communism > 0.5 }
		}
		custom_cost_trigger = {
			has_political_power > 29
			check_variable = { SOV_money_for_comintern > 499 }
		}
		fire_only_once = yes
		custom_cost_text = SOV_need_500_tt
		complete_effect = {
			ITA = {
				country_event = soviet_rework_revolution.1
				set_country_flag = already_revolution_flag
			}
			add_to_variable = { SOV_money_for_comintern = -500 }
			add_political_power = -30
		}
		ai_will_do = {
			base = 0
			modifier = {
				ITA = { communism > 0.7 }
				add = 50
			}
		}
	}
	SOV_communism_in_CZE_and_SLO_and_HUN_and_ROM = {
		icon = GFX_decision_SWI_consolidate_council_power
		target_trigger = {
			FROM = {
				NOT = { has_government = communism }
				NOT = { has_idea = SOV_Soviet_support_for_Italian_communists }
				NOT = { has_country_flag = already_toggle_flag }
				exists = yes
				OR = {
					original_tag = CZE
					original_tag = SLO
					original_tag = HUN
					original_tag = ROM
				}
			}
		}
		visible = {
			has_completed_focus = SOV_Iron_Curtain
			OR = {
				has_country_flag = sov_africa_decisions_open
				is_ai = yes
			}
		}
		custom_cost_trigger = {
			has_political_power > 14
			check_variable = { SOV_money_for_comintern > 299 }
		}
		custom_cost_text = SOV_need_300_tt
		complete_effect = {
			FROM = { add_timed_idea = { idea = SOV_Soviet_support_for_Italian_communists days = 100 } }
			add_to_variable = { SOV_money_for_comintern = -300 }
			custom_effect_tooltip = days_re_enable_100
			add_political_power = -15
		}
		ai_will_do = {
			base = 10
			modifier = {
				add = 200
				has_political_power > 100
			}
		}
	}
	SOV_toggle_CZE_and_SLO_and_HUN_and_ROM = {
		icon = GFX_decision_SWI_consolidate_council_power
		visible = {
			has_completed_focus = SOV_Iron_Curtain
			OR = {
				has_country_flag = sov_africa_decisions_open
				is_ai = yes
			}
		}
		allowed = {
			original_tag = SOV
		}
		target_trigger = {
			FROM = {
				NOT = { has_government = communism }
				NOT = { has_country_flag = already_toggle_flag }
				exists = yes
				OR = {
					original_tag = CZE
					original_tag = SLO
					original_tag = HUN
					original_tag = ROM
				}
			}
		}
		available = {
			FROM = { communism > 0.75 }
		}
		custom_cost_trigger = {
			has_political_power > 29
			check_variable = { SOV_money_for_comintern > 499 }
		}
		fire_only_once = yes
		custom_cost_text = SOV_need_500_tt
		complete_effect = {
			FROM = {
				country_event = soviet_rework_revolution.2
				set_country_flag = already_toggle_flag
			}
			add_to_variable = { SOV_money_for_comintern = -500 }
			add_political_power = -30
		}
		ai_will_do = {
			base = 50
		}
	}
}

SOV_new_industrial_programme = {
	SOV_expand_infrastructure = {
		icon = GFX_decision_generic_nationalism
		visible = {
			has_completed_focus = SOV_new_industrial_programme
		}
		allowed = {
			original_tag = SOV
		}
		cost = 60
		ai_will_do = {
			base = 4000
			modifier = {
				factor = 0
			}
		}
		days_remove = 14
		complete_effect = {
			consumer_goods_factor = 0.2
			political_power_gain = -0.1
		}
		remove_effect = {
		    random_state = {
                limit = {
				    is_owned_and_controlled_by = SOV
					limit = { 
				        num_of_infrastructure < 10
				    }
				    set_building_level = {
                        type = infrastructure
                        level = 10
                        instant_build = yes
                    }
				}
			}
			random_state = {
                limit = {
				    is_owned_and_controlled_by = SOV
					limit = { 
				        num_of_infrastructure < 10
				    }
				    set_building_level = {
                        type = infrastructure
                        level = 10
                        instant_build = yes
                    }
				}
			}
			random_state = {
                limit = {
				    is_owned_and_controlled_by = SOV
					limit = { 
				        num_of_infrastructure < 10
				    }
				    set_building_level = {
                        type = infrastructure
                        level = 10
                        instant_build = yes
                    }
				}
			}
        }
	}
}

SOV_wartime_propaganda_campaigns = {
	SOV_propaganda_defened_your_motherland = { # ID = 2
		priority = 2
		icon = eng_propaganda_campaigns
		ai_will_do = {
			base = 0
			modifier = {
				add = 30
				surrender_progress > 0.3
			}
			modifier = {
				add = 50
				surrender_progress > 0.5
			}
		}
		allowed = { original_tag = SOV }
		available = {
			has_war_with_major = yes
			SOV_wartime_propaganda_poster_slot_available = yes
		}
		visible = {
			has_war_with_major = yes
		}
		days_remove = 180
		days_re_enable = 100
		cost = 30
		modifier = {
			weekly_manpower = 500
			army_defence_factor = 0.05
			dig_in_speed_factor = 0.05
		}
		complete_effect = {
			set_variable = { SOV_new_wartime_propaganda_campaign = 2 }
			SOV_pick_wartime_propaganda_campaign_slot_effect = yes
		}
		remove_effect = {
			set_variable = { SOV_wartime_propaganda_campaign_to_remove = 2 }
			SOV_reset_wartime_propaganda_campaign_slot_effect = yes
		}
	}
	SOV_propaganda_wartime_production_increase = { # ID = 3
		priority = 3
		icon = eng_propaganda_campaigns
		ai_will_do = {
			base = 0
			modifier = {
				add = 30
				has_equipment = {
					infantry_equipment < -1000
				}
			}
			modifier = {
				add = 40
				has_equipment = {
					infantry_equipment < -2000
				}
			}
		}
		allowed = { original_tag = SOV }
		available = {
			has_war_with_major = yes
			SOV_wartime_propaganda_poster_slot_available = yes
		}
		visible = {
			has_war_with_major = yes
		}
		days_remove = 180
		days_re_enable = 100
		cost = 30
		modifier = {
			industrial_capacity_factory = 0.05
			industrial_capacity_dockyard = 0.05
		}
		complete_effect = {
			set_variable = { SOV_new_wartime_propaganda_campaign = 3 }
			SOV_pick_wartime_propaganda_campaign_slot_effect = yes
		}
		remove_effect = {
			set_variable = { SOV_wartime_propaganda_campaign_to_remove = 3 }
			SOV_reset_wartime_propaganda_campaign_slot_effect = yes
		}
	}
	SOV_propaganda_wartime_construction_mobilization = { # ID = 4
		priority = 4
		icon = eng_propaganda_campaigns
		ai_will_do = {
			base = 0
			modifier = {
				add = 30
				has_equipment = {
					num_of_factories < 80
				}
			}
			modifier = {
				add = 40
				has_equipment = {
					num_of_factories < 50
				}
			}
		}
		allowed = { original_tag = SOV }
		available = {
			has_war_with_major = yes
			SOV_wartime_propaganda_poster_slot_available = yes
		}
		visible = {
			has_war_with_major = yes
		}
		days_remove = 180
		days_re_enable = 100
		cost = 30
		modifier = {
			production_speed_buildings_factor = 0.05
		}
		complete_effect = {
			set_variable = { SOV_new_wartime_propaganda_campaign = 4 }
			SOV_pick_wartime_propaganda_campaign_slot_effect = yes
		}
		remove_effect = {
			set_variable = { SOV_wartime_propaganda_campaign_to_remove = 4 }
			SOV_reset_wartime_propaganda_campaign_slot_effect = yes
		}
	}
	SOV_propaganda_liberate_eastern_europe = { # ID = 5
		priority = 5
		icon = eng_propaganda_campaigns
		ai_will_do = {
			base = 0
			modifier = {
				add = 30
				surrender_progress < 0.1
			}
			modifier = {
				add = 40
				surrender_progress < 0
			}
		}
		allowed = { original_tag = SOV }
		available = {
			has_war_with_major = yes
			SOV_wartime_propaganda_poster_slot_available = yes
		}
		visible = {
			has_war_with_major = yes
		}
		days_remove = 180
		days_re_enable = 100
		cost = 30
		modifier = {
			breakthrough_factor = 0.05
			army_attack_factor = 0.05
		}
		complete_effect = {
			set_variable = { SOV_new_wartime_propaganda_campaign = 5 }
			SOV_pick_wartime_propaganda_campaign_slot_effect = yes
		}
		remove_effect = {
			set_variable = { SOV_wartime_propaganda_campaign_to_remove = 5 }
			SOV_reset_wartime_propaganda_campaign_slot_effect = yes
		}
	}
	SOV_propaganda_wartime_conscripting_materials = { # ID = 6
		priority = 6
		icon = eng_propaganda_campaigns
		ai_will_do = {
			base = 0
		}
		allowed = { original_tag = SOV }
		available = {
			has_war_with_major = yes
			SOV_wartime_propaganda_poster_slot_available = yes
		}
		visible = {
			has_war_with_major = yes
		}
		days_remove = 180
		days_re_enable = 100
		cost = 30
		modifier = {
			consumer_goods_factor = -0.05
			supply_consumption_factor = -0.025
		}
		complete_effect = {
			set_variable = { SOV_new_wartime_propaganda_campaign = 6 }
			SOV_pick_wartime_propaganda_campaign_slot_effect = yes
		}
		remove_effect = {
			set_variable = { SOV_wartime_propaganda_campaign_to_remove = 6 }
			SOV_reset_wartime_propaganda_campaign_slot_effect = yes
		}
	}
	SOV_propaganda_increase_grain_production = { # ID = 7
		priority = 7
		icon = eng_propaganda_campaigns
		ai_will_do = {
			base = 0
		}
		allowed = { original_tag = SOV }
		available = {
			has_war_with_major = yes
			SOV_wartime_propaganda_poster_slot_available = yes
		}
		visible = {
			has_war_with_major = yes
		}
		days_remove = 180
		days_re_enable = 100
		cost = 30
		modifier = {
			monthly_population = 0.5
			stability_weekly = 0.001
		}
		complete_effect = {
			set_variable = { SOV_new_wartime_propaganda_campaign = 7 }
			SOV_pick_wartime_propaganda_campaign_slot_effect = yes
		}
		remove_effect = {
			set_variable = { SOV_wartime_propaganda_campaign_to_remove = 7 }
			SOV_reset_wartime_propaganda_campaign_slot_effect = yes
		}
	}
}

#Rework
SOV_the_red_army = {
	#Army
	SOV_battle_drill = {
		icon = GFX_decision_FIN_weapon_caches
		visible = { 
			OR = {
				is_ai = yes
				has_country_flag = sov_army_decisions_open
			}
		}
		days_remove = 14
		cost = 15
		ai_will_do = {
			base = 0
			modifier = {
				add = 10
				NOT = { check_variable = { SOV_army_professionalism_var > 60 } }
			}
			modifier = {
				add = 30
				NOT = { check_variable = { SOV_army_professionalism_var > 40 } }
			}
		}
		remove_effect = {
			add_2_5_army_professionalism_effect = yes
		}
	}
	SOV_appoint_entry_level_officers = {
		icon = GFX_decision_generic_army_support
		visible = { 
			OR = {
				is_ai = yes
				has_country_flag = sov_army_decisions_open
			}
		}
		days_remove = 14
		cost = 15
		ai_will_do = {
			base = 0
			modifier = {
				add = 5
				check_variable = { SOV_army_professionalism_var > 75 }
			}
		}
		remove_effect = {
			remove_2_5_army_professionalism_effect = yes
		}
	}
	SOV_separate_military_from_the_politics = {
		icon = GFX_decision_generic_police_action
		visible = { 
			OR = {
				is_ai = yes
				has_country_flag = sov_army_decisions_open
			}
		}
		days_remove = 14
		cost = 15
		ai_will_do = {
			base = 0
			modifier = {
				add = 10
				NOT = { check_variable = { SOV_army_influence_var > 60 } }
			}
			modifier = {
				add = 30
				NOT = { check_variable = { SOV_army_influence_var > 40 } }
			}
		}
		remove_effect = {
			add_2_5_army_influence_effect = yes
		}
	}
	SOV_strengthening_ties_with_the_military = {
		icon = GFX_decision_generic_political_discourse
		visible = { 
			OR = {
				is_ai = yes
				has_country_flag = sov_army_decisions_open
			}
		}
		days_remove = 14
		cost = 15
		ai_will_do = {
			base = 0
			modifier = {
				add = 5
				check_variable = { SOV_army_influence_var > 75 }
			}
		}
		remove_effect = {
			remove_2_5_army_influence_effect = yes
		}
	}
	SOV_destroying_factions = {
		icon = GFX_decision_FIN_stop_motti_tactics
		visible = { 
			OR = {
				is_ai = yes
				has_country_flag = sov_army_decisions_open
			}
		}
		days_remove = 14
		cost = 15
		ai_will_do = {
			base = 0
			modifier = {
				add = 10
				NOT = { check_variable = { SOV_army_factionalism_var < 40 } }
			}
			modifier = {
				add = 30
				NOT = { check_variable = { SOV_army_factionalism_var < 60 } }
			}
		}
		remove_effect = {
			remove_2_5_army_factionalism_effect = yes
		}
	}
	SOV_army_factionalize = {
		icon = GFX_decision_generic_civil_support
		visible = { 
			OR = {
				is_ai = yes
				has_country_flag = sov_army_decisions_open
			}
		}
		days_remove = 14
		cost = 15
		ai_will_do = {
			base = 0
			modifier = {
				add = 5
				check_variable = { SOV_army_factionalism_var < 25 }
			}
		}
		remove_effect = {
			add_2_5_army_factionalism_effect = yes
		}
	}
	#Navy
	SOV_cruise_training = {
		icon = GFX_decision_generic_naval
		visible = { 
			OR = {
				is_ai = yes
				has_country_flag = sov_navy_decisions_open
			}
		}
		days_remove = 14
		cost = 15
		ai_will_do = {
			base = 0
			modifier = {
				add = 5
				NOT = { check_variable = { SOV_navy_professionalism_var > 55 } }
			}
		}
		remove_effect = {
			add_2_5_navy_professionalism_effect = yes
		}
	}
	SOV_appoint_entry_level_officers_navy = {
		icon = GFX_decision_generic_army_support
		visible = { 
			OR = {
				is_ai = yes
				has_country_flag = sov_navy_decisions_open
			}
		}
		days_remove = 14
		cost = 15
		ai_will_do = {
			base = 0
			modifier = {
				add = 5
				check_variable = { SOV_navy_professionalism_var > 75 }
			}
		}
		remove_effect = {
			remove_2_5_navy_professionalism_effect = yes
		}
	}
	SOV_study_naval_ships = {
		icon = GFX_decision_generic_merge_plant_ship
		visible = { 
			OR = {
				is_ai = yes
				has_country_flag = sov_navy_decisions_open
			}
		}
		days_remove = 14
		cost = 15
		ai_will_do = {
			base = 0
			modifier = {
				add = 5
				NOT = { check_variable = { SOV_navy_technological_innovation_var > 55 } }
			}
		}
		remove_effect = {
			add_2_5_navy_influence_effect = yes
		}
	}
	SOV_hire_early_stage_engineer = {
		icon = GFX_decision_SWE_set_navy_budget
		visible = { 
			OR = {
				is_ai = yes
				has_country_flag = sov_navy_decisions_open
			}
		}
		days_remove = 14
		cost = 15
		ai_will_do = {
			base = 0
			modifier = {
				add = 5
				check_variable = { SOV_navy_technological_innovation_var > 75 }
			}
		}
		remove_effect = {
			remove_2_5_navy_influence_effect = yes
		}
	}
	SOV_destroying_factions_navy = {
		icon = GFX_decision_FIN_stop_motti_tactics
		visible = { 
			OR = {
				is_ai = yes
				has_country_flag = sov_navy_decisions_open
			}
		}
		days_remove = 14
		cost = 15
		ai_will_do = {
			base = 0
			modifier = {
				add = 5
				NOT = { check_variable = { SOV_navy_factionalism_var < 45 } }
			}
		}
		remove_effect = {
			remove_2_5_navy_factionalism_effect = yes
		}
	}
	SOV_navy_factionalize = {
		icon = GFX_decision_generic_civil_support
		visible = { 
			OR = {
				is_ai = yes
				has_country_flag = sov_navy_decisions_open
			}
		}
		days_remove = 14
		cost = 15
		ai_will_do = {
			base = 0
			modifier = {
				add = 5
				check_variable = { SOV_navy_factionalism_var < 25 }
			}
		}
		remove_effect = {
			add_2_5_navy_factionalism_effect = yes
		}
	}
	#Air
	SOV_pilot_training = {
		icon = GFX_decision_generic_air
		visible = { 
			OR = {
				is_ai = yes
				has_country_flag = sov_airforce_decisions_open
			}
		}
		days_remove = 14
		cost = 15
		ai_will_do = {
			base = 0
			modifier = {
				add = 10
				NOT = { check_variable = { SOV_airforce_pilot_training_var > 60 } }
			}
			modifier = {
				add = 30
				NOT = { check_variable = { SOV_airforce_pilot_training_var > 40 } }
			}
		}
		remove_effect = {
			add_2_5_airforce_professionalism_effect = yes
		}
	}
	SOV_appoint_entry_level_pilots = {
		icon = GFX_decision_generic_army_support
		visible = { 
			OR = {
				is_ai = yes
				has_country_flag = sov_airforce_decisions_open
			}
		}
		days_remove = 14
		cost = 15
		ai_will_do = {
			base = 0
			modifier = {
				add = 5
				check_variable = { SOV_airforce_pilot_training_var > 75 }
			}
		}
		remove_effect = {
			remove_2_5_airforce_professionalism_effect = yes
		}
	}
	SOV_study_planes = {
		icon = GFX_decision_generic_merge_plant_aircraft
		visible = { 
			OR = {
				is_ai = yes
				has_country_flag = sov_airforce_decisions_open
			}
		}
		days_remove = 14
		cost = 15
		ai_will_do = {
			base = 0
			modifier = {
				add = 10
				NOT = { check_variable = { SOV_airforce_technological_innovation_var > 60 } }
			}
			modifier = {
				add = 30
				NOT = { check_variable = { SOV_airforce_technological_innovation_var > 40 } }
			}
		}
		remove_effect = {
			add_2_5_airforce_influence_effect = yes
		}
	}
	SOV_hire_early_stage_engineer_air = {
		icon = GFX_decision_SWE_set_navy_budget
		visible = { 
			OR = {
				is_ai = yes
				has_country_flag = sov_airforce_decisions_open
			}
		}
		days_remove = 14
		cost = 15
		ai_will_do = {
			base = 0
			modifier = {
				add = 5
				check_variable = { SOV_airforce_technological_innovation_var > 75 }
			}
		}
		remove_effect = {
			remove_2_5_airforce_influence_effect = yes
		}
	}
	SOV_destroying_factions_air = {
		icon = GFX_decision_FIN_stop_motti_tactics
		visible = { 
			OR = {
				is_ai = yes
				has_country_flag = sov_airforce_decisions_open
			}
		}
		days_remove = 14
		cost = 15
		ai_will_do = {
			base = 0
			modifier = {
				add = 10
				NOT = { check_variable = { SOV_airforce_factionalism_var < 40 } }
			}
			modifier = {
				add = 30
				NOT = { check_variable = { SOV_airforce_factionalism_var < 60 } }
			}
		}
		remove_effect = {
			remove_2_5_airforce_factionalism_effect = yes
		}
	}
	SOV_airforce_factionalize = {
		icon = GFX_decision_generic_civil_support
		visible = { 
			OR = {
				is_ai = yes
				has_country_flag = sov_airforce_decisions_open
			}
		}
		days_remove = 14
		cost = 15
		ai_will_do = {
			base = 0
			modifier = {
				add = 5
				check_variable = { SOV_airforce_factionalism_var < 25 }
			}
		}
		remove_effect = {
			add_2_5_airforce_factionalism_effect = yes
		}
	}
}
SOV_tukachevsky_coup = {
	
	SOV_set_coup_var = {
		icon = GFX_decision_generic_ignite_civil_war
		
		allowed = {
			original_tag = SOV
		}
		visible = {
			is_debug = yes
		}
		available = {
			
		}
		complete_effect = {
			
			set_variable = {
				var = SOV_tukachevsky_coup_progress_var
				value = 80
				tooltip = set_tukachevsky_coup_progress_to_100
			}
			
			add_2_5_tukachevsky_coup_progress_effect = yes
			remove_2_5_tukachevsky_coup_progress_effect = yes
			
			add_5_tukachevsky_coup_progress_effect = yes
			remove_5_tukachevsky_coup_progress_effect = yes
			
			add_10_tukachevsky_coup_progress_effect = yes
			remove_10_tukachevsky_coup_progress_effect = yes
			
			add_15_tukachevsky_coup_progress_effect = yes
			remove_15_tukachevsky_coup_progress_effect = yes
			
		}	
	}	
	SOV_days_to_go_until_the_coup = {
		icon = GFX_decision_revolt
		activation = {
			has_country_flag = SOV_tukachevsky_coup_start_flag
			original_tag = SOV
		}
		days_mission_timeout = 100
		allowed = {
			original_tag = SOV
		}
		available = {
			always = no
		}
		visible = { 
			has_country_flag = SOV_tukachevsky_coup_start_flag
		}
		priority = 150
		fire_only_once = yes
		timeout_effect = {
			clr_country_flag = SOV_tukachevsky_coup_start_flag
			hidden_effect = {
				if = {
					limit = {
						check_variable = { SOV_tukachevsky_coup_progress_var = 100 }
					}
					random_list = {
						100 = {
							set_country_flag = SOV_Tukhachevsky_victory
						}
						0 = {
							set_country_flag = SOV_Tukhachevsky_fail
						}
					}
				}
				else_if = {
					limit = {
						check_variable = { SOV_tukachevsky_coup_progress_var > 80 }
					}
					random_list = {
						90 = {
							set_country_flag = SOV_Tukhachevsky_victory
						}
						10 = {
							set_country_flag = SOV_Tukhachevsky_fail
						}
					}
				}
				else_if = {
					limit = {
						check_variable = { SOV_tukachevsky_coup_progress_var > 60 }
					}
					random_list = {
						70 = {
							set_country_flag = SOV_Tukhachevsky_victory
						}
						30 = {
							set_country_flag = SOV_Tukhachevsky_fail
						}
					}
				}
				else_if = {
					limit = {
						check_variable = { SOV_tukachevsky_coup_progress_var > 40 }
					}
					random_list = {
						50 = {
							set_country_flag = SOV_Tukhachevsky_victory
						}
						50 = {
							set_country_flag = SOV_Tukhachevsky_fail
						}
					}
				}
				else_if = {
					limit = {
						check_variable = { SOV_tukachevsky_coup_progress_var > 20 }
					}
					random_list = {
						30 = {
							set_country_flag = SOV_Tukhachevsky_victory
						}
						70 = {
							set_country_flag = SOV_Tukhachevsky_fail
						}
					}
				}
				else_if = {
					limit = {
						check_variable = { SOV_tukachevsky_coup_progress_var > 0 }
					}
					random_list = {
						10 = {
							set_country_flag = SOV_Tukhachevsky_victory
						}
						90 = {
							set_country_flag = SOV_Tukhachevsky_fail
						}
					}
				}
				else = {
					random_list = {
						0 = {
							set_country_flag = SOV_Tukhachevsky_victory
						}
						100 = {
							set_country_flag = SOV_Tukhachevsky_fail
						}
					}
				}
			}
			country_event = Soviet.72
		}
	}
	#no coup
	SOV_Rallying_the_anti_Tuchachevsky_generals = {
		icon = GFX_decision_generic_military
		priority = 50
		visible = { 
			has_country_flag = SOV_tukachevsky_coup_start_flag
		}
		days_remove = 7
		cost = 10
		ai_will_do = {
			base = 0
			modifier = {
				add = 4000
				has_completed_focus = SOV_keep_tukachevsky_in_check
			}
		}
		remove_effect = {
			remove_2_5_tukachevsky_coup_progress_effect = yes
		}
	}
	SOV_army_general_reshuffle = {
		icon = GFX_decision_generic_operation
		priority = 50
		visible = { 
			has_country_flag = SOV_tukachevsky_coup_start_flag
		}
		days_remove = 7
		cost = 10
		ai_will_do = {
			base = 0
			modifier = {
				add = 4000
				has_completed_focus = SOV_keep_tukachevsky_in_check
			}
		}
		remove_effect = {
			remove_2_5_tukachevsky_coup_progress_effect = yes
		}
	}
	SOV_Increase_Kremlin_Guard = {
		icon = GFX_decision_generic_industry
		priority = 50
		visible = { 
			has_country_flag = SOV_tukachevsky_coup_start_flag
		}
		days_remove = 7
		cost = 10
		ai_will_do = {
			base = 0
			modifier = {
				add = 4000
				has_completed_focus = SOV_keep_tukachevsky_in_check
			}
		}
		remove_effect = {
			remove_2_5_tukachevsky_coup_progress_effect = yes
		}
	}
	#for coup
	SOV_Attack_the_generals_who_follow_Bukharin = {
		icon = GFX_decision_generic_independence
		priority = 20
		visible = { 
			has_country_flag = SOV_tukachevsky_coup_start_flag
		}
		days_remove = 7
		cost = 10
		ai_will_do = {
			base = 0
			modifier = {
				add = 4000
				has_completed_focus = SOV_for_coup
			}
		}
		remove_effect = {
			add_2_5_tukachevsky_coup_progress_effect = yes
		}
	}
	SOV_Plan_a_thorough_coup = {
		icon = GFX_decision_SOV_place_hq
		priority = 20
		visible = { 
			has_country_flag = SOV_tukachevsky_coup_start_flag
		}
		days_remove = 7
		cost = 10
		ai_will_do = {
			base = 0
			modifier = {
				add = 4000
				has_completed_focus = SOV_for_coup
			}
		}
		remove_effect = {
			add_2_5_tukachevsky_coup_progress_effect = yes
		}
	}
	SOV_Criticizing_Bukharins_political_ideas = {
		icon = GFX_decision_generic_speech
		priority = 20
		visible = { 
			has_country_flag = SOV_tukachevsky_coup_start_flag
		}
		days_remove = 7
		cost = 10
		ai_will_do = {
			base = 0
			modifier = {
				add = 4000
				has_completed_focus = SOV_for_coup
			}
		}
		remove_effect = {
			add_2_5_tukachevsky_coup_progress_effect = yes
		}
	}
}

SOV_Troika_Opposition_power_struggle_decisions = {
	SOV_recall_the_ideals_of_revolution_high = {
		icon = GFX_decision_generic_nationalism
		visible = {
			has_completed_focus = SOV_the_works_want_liberation
			NOT = { has_completed_focus = SOV_The_Writings_of_Marx }
			NOT = { has_completed_focus = SOV_The_Spirit_of_Lenin }
			NOT = { has_completed_focus = SOV_The_Tactics_of_Engels }
		}
		allowed = {
			original_tag = SOV
		}
		cost = 60
		ai_will_do = {
			base = 4000
			modifier = {
				factor = 0
				power_balance_value = {
					id = SOV_Troika_Opposition_power_struggle
					value < -0.85
				}
			}
		}
		days_remove = 14
		complete_effect = {
			add_power_balance_value = {
				id = SOV_Troika_Opposition_power_struggle
				value = -0.05
			}
		}
	}
	SOV_recall_the_ideals_of_revolution_medium = {
		icon = GFX_decision_generic_nationalism
		visible = {
			has_completed_focus = SOV_the_works_want_liberation
			OR = {
				AND = {
					has_completed_focus = SOV_The_Writings_of_Marx
					NOT = { has_completed_focus = SOV_The_Spirit_of_Lenin }
				}
				AND = {
					has_completed_focus = SOV_The_Spirit_of_Lenin
					NOT = { has_completed_focus = SOV_The_Writings_of_Marx }
				}
			}
			NOT = { has_completed_focus = SOV_The_Tactics_of_Engels }
		}
		allowed = {
			original_tag = SOV
		}
		cost = 40
		ai_will_do = {
			base = 4000
			modifier = {
				factor = 0
				power_balance_value = {
					id = SOV_Troika_Opposition_power_struggle
					value < -0.85
				}
			}
		}
		days_remove = 14
		complete_effect = {
			add_power_balance_value = {
				id = SOV_Troika_Opposition_power_struggle
				value = -0.05
			}
		}
	}
	SOV_recall_the_ideals_of_revolution_low = {
		icon = GFX_decision_generic_nationalism
		visible = {
			has_completed_focus = SOV_the_works_want_liberation
			has_completed_focus = SOV_The_Writings_of_Marx
			has_completed_focus = SOV_The_Spirit_of_Lenin
			NOT = { has_completed_focus = SOV_The_Tactics_of_Engels }
		}
		allowed = {
			original_tag = SOV
		}
		cost = 20
		ai_will_do = {
			base = 4000
			modifier = {
				factor = 0
				power_balance_value = {
					id = SOV_Troika_Opposition_power_struggle
					value < -0.85
				}
			}
		}
		days_remove = 14
		complete_effect = {
			add_power_balance_value = {
				id = SOV_Troika_Opposition_power_struggle
				value = -0.05
			}
		}
	}
	SOV_recall_the_ideals_of_revolution_no = {
		icon = GFX_decision_generic_nationalism
		visible = {
			has_completed_focus = SOV_the_works_want_liberation
			has_completed_focus = SOV_The_Tactics_of_Engels
		}
		allowed = {
			original_tag = SOV
		}
		cost = 20
		ai_will_do = {
			base = 4000
			modifier = {
				factor = 0
				power_balance_value = {
					id = SOV_Troika_Opposition_power_struggle
					value < -0.85
				}
			}
		}
		days_remove = 14
		complete_effect = {
			add_power_balance_value = {
				id = SOV_Troika_Opposition_power_struggle
				value = -0.05
			}
		}
	}
	SOV_a_step_toward_freedom_high = {
		icon = GFX_decision_SWI_swiss_democratic_tradition_campaign
		visible = {
			has_completed_focus = SOV_the_works_want_liberation
			NOT = { has_completed_focus = SOV_The_Writings_of_Marx }
			NOT = { has_completed_focus = SOV_The_Spirit_of_Lenin }
			NOT = { has_completed_focus = SOV_The_Tactics_of_Engels }
		}
		allowed = {
			original_tag = SOV
		}
		cost = 60
		ai_will_do = {
			base = 4000
			modifier = {
				factor = 0
				power_balance_value = {
					id = SOV_Troika_Opposition_power_struggle
					value < -0.85
				}
			}
		}
		days_remove = 14
		complete_effect = {
			add_power_balance_value = {
				id = SOV_Troika_Opposition_power_struggle
				value = -0.05
			}
		}
	}
	SOV_a_step_toward_freedom_medium = {
		icon = GFX_decision_SWI_swiss_democratic_tradition_campaign
		visible = {
			has_completed_focus = SOV_the_works_want_liberation
			OR = {
				AND = {
					has_completed_focus = SOV_The_Writings_of_Marx
					NOT = { has_completed_focus = SOV_The_Spirit_of_Lenin }
				}
				AND = {
					has_completed_focus = SOV_The_Spirit_of_Lenin
					NOT = { has_completed_focus = SOV_The_Writings_of_Marx }
				}
			}
			NOT = { has_completed_focus = SOV_The_Tactics_of_Engels }
		}
		allowed = {
			original_tag = SOV
		}
		cost = 40
		ai_will_do = {
			base = 4000
			modifier = {
				factor = 0
				power_balance_value = {
					id = SOV_Troika_Opposition_power_struggle
					value < -0.85
				}
			}
		}
		days_remove = 14
		complete_effect = {
			add_power_balance_value = {
				id = SOV_Troika_Opposition_power_struggle
				value = -0.05
			}
		}
	}
	SOV_a_step_toward_freedom_low = {
		icon = GFX_decision_SWI_swiss_democratic_tradition_campaign
		visible = {
			has_completed_focus = SOV_the_works_want_liberation
			has_completed_focus = SOV_The_Writings_of_Marx
			has_completed_focus = SOV_The_Spirit_of_Lenin
			NOT = { has_completed_focus = SOV_The_Tactics_of_Engels }
		}
		allowed = {
			original_tag = SOV
		}
		cost = 20
		ai_will_do = {
			base = 4000
			modifier = {
				factor = 0
				power_balance_value = {
					id = SOV_Troika_Opposition_power_struggle
					value < -0.85
				}
			}
		}
		days_remove = 14
		complete_effect = {
			add_power_balance_value = {
				id = SOV_Troika_Opposition_power_struggle
				value = -0.05
			}
		}
	}
	SOV_a_step_toward_freedom_no = {
		icon = GFX_decision_SWI_swiss_democratic_tradition_campaign
		visible = {
			has_completed_focus = SOV_the_works_want_liberation
			has_completed_focus = SOV_The_Tactics_of_Engels
		}
		allowed = {
			original_tag = SOV
		}
		cost = 20
		ai_will_do = {
			base = 4000
			modifier = {
				factor = 0
				power_balance_value = {
					id = SOV_Troika_Opposition_power_struggle
					value < -0.85
				}
			}
		}
		days_remove = 14
		complete_effect = {
			add_power_balance_value = {
				id = SOV_Troika_Opposition_power_struggle
				value = -0.05
			}
		}
	}
	SOV_criticize_New_Economic_Policy_high = {
		icon = GFX_decision_generic_wreckers
		visible = {
			has_completed_focus = SOV_the_works_want_liberation
			NOT = { has_completed_focus = SOV_The_Writings_of_Marx }
			NOT = { has_completed_focus = SOV_The_Spirit_of_Lenin }
			NOT = { has_completed_focus = SOV_The_Tactics_of_Engels }
		}
		allowed = {
			original_tag = SOV
		}
		cost = 60
		ai_will_do = {
			base = 4000
			modifier = {
				factor = 0
				power_balance_value = {
					id = SOV_Troika_Opposition_power_struggle
					value < -0.85
				}
			}
		}
		days_remove = 14
		complete_effect = {
			add_power_balance_value = {
				id = SOV_Troika_Opposition_power_struggle
				value = -0.05
			}
		}
	}
	SOV_criticize_New_Economic_Policy_medium = {
		icon = GFX_decision_generic_wreckers
		visible = {
			has_completed_focus = SOV_the_works_want_liberation
			OR = {
				AND = {
					has_completed_focus = SOV_The_Writings_of_Marx
					NOT = { has_completed_focus = SOV_The_Spirit_of_Lenin }
				}
				AND = {
					has_completed_focus = SOV_The_Spirit_of_Lenin
					NOT = { has_completed_focus = SOV_The_Writings_of_Marx }
				}
			}
			NOT = { has_completed_focus = SOV_The_Tactics_of_Engels }
		}
		allowed = {
			original_tag = SOV
		}
		cost = 40
		ai_will_do = {
			base = 4000
			modifier = {
				factor = 0
				power_balance_value = {
					id = SOV_Troika_Opposition_power_struggle
					value < -0.85
				}
			}
		}
		days_remove = 14
		complete_effect = {
			add_power_balance_value = {
				id = SOV_Troika_Opposition_power_struggle
				value = -0.05
			}
		}
	}
	SOV_criticize_New_Economic_Policy_low = {
		icon = GFX_decision_generic_wreckers
		visible = {
			has_completed_focus = SOV_the_works_want_liberation
			has_completed_focus = SOV_The_Writings_of_Marx
			has_completed_focus = SOV_The_Spirit_of_Lenin
			NOT = { has_completed_focus = SOV_The_Tactics_of_Engels }
		}
		allowed = {
			original_tag = SOV
		}
		cost = 20
		ai_will_do = {
			base = 4000
			modifier = {
				factor = 0
				power_balance_value = {
					id = SOV_Troika_Opposition_power_struggle
					value < -0.85
				}
			}
		}
		days_remove = 14
		complete_effect = {
			add_power_balance_value = {
				id = SOV_Troika_Opposition_power_struggle
				value = -0.05
			}
		}
	}
	SOV_criticize_New_Economic_Policy_no = {
		icon = GFX_decision_generic_wreckers
		visible = {
			has_completed_focus = SOV_the_works_want_liberation
			has_completed_focus = SOV_The_Tactics_of_Engels
		}
		allowed = {
			original_tag = SOV
		}
		cost = 20
		ai_will_do = {
			base = 4000
			modifier = {
				factor = 0
				power_balance_value = {
					id = SOV_Troika_Opposition_power_struggle
					value < -0.85
				}
			}
		}
		days_remove = 14
		complete_effect = {
			add_power_balance_value = {
				id = SOV_Troika_Opposition_power_struggle
				value = -0.05
			}
		}
	}
	SOV_rally_the_opposition_high = {
		icon = GFX_decision_generic_speech
		visible = {
			has_completed_focus = SOV_the_works_want_liberation
			NOT = { has_completed_focus = SOV_The_Writings_of_Marx }
			NOT = { has_completed_focus = SOV_The_Spirit_of_Lenin }
			NOT = { has_completed_focus = SOV_The_Tactics_of_Engels }
		}
		allowed = {
			original_tag = SOV
		}
		cost = 60
		ai_will_do = {
			base = 4000
			modifier = {
				factor = 0
				power_balance_value = {
					id = SOV_Troika_Opposition_power_struggle
					value < -0.85
				}
			}
		}
		days_remove = 14
		complete_effect = {
			add_power_balance_value = {
				id = SOV_Troika_Opposition_power_struggle
				value = -0.05
			}
		}
	}
	SOV_rally_the_opposition_medium = {
		icon = GFX_decision_generic_speech
		visible = {
			has_completed_focus = SOV_the_works_want_liberation
			OR = {
				AND = {
					has_completed_focus = SOV_The_Writings_of_Marx
					NOT = { has_completed_focus = SOV_The_Spirit_of_Lenin }
				}
				AND = {
					has_completed_focus = SOV_The_Spirit_of_Lenin
					NOT = { has_completed_focus = SOV_The_Writings_of_Marx }
				}
			}
			NOT = { has_completed_focus = SOV_The_Tactics_of_Engels }
		}
		allowed = {
			original_tag = SOV
		}
		cost = 40
		ai_will_do = {
			base = 4000
			modifier = {
				factor = 0
				power_balance_value = {
					id = SOV_Troika_Opposition_power_struggle
					value < -0.85
				}
			}
		}
		days_remove = 14
		complete_effect = {
			add_power_balance_value = {
				id = SOV_Troika_Opposition_power_struggle
				value = -0.05
			}
		}
	}
	SOV_rally_the_opposition_low = {
		icon = GFX_decision_generic_speech
		visible = {
			has_completed_focus = SOV_the_works_want_liberation
			has_completed_focus = SOV_The_Writings_of_Marx
			has_completed_focus = SOV_The_Spirit_of_Lenin
			NOT = { has_completed_focus = SOV_The_Tactics_of_Engels }
		}
		allowed = {
			original_tag = SOV
		}
		cost = 20
		ai_will_do = {
			base = 4000
			modifier = {
				factor = 0
				power_balance_value = {
					id = SOV_Troika_Opposition_power_struggle
					value < -0.85
				}
			}
		}
		days_remove = 14
		complete_effect = {
			add_power_balance_value = {
				id = SOV_Troika_Opposition_power_struggle
				value = -0.05
			}
		}
	}
	SOV_rally_the_opposition_no = {
		icon = GFX_decision_generic_speech
		visible = {
			has_completed_focus = SOV_the_works_want_liberation
			has_completed_focus = SOV_The_Tactics_of_Engels
		}
		allowed = {
			original_tag = SOV
		}
		cost = 20
		ai_will_do = {
			base = 4000
			modifier = {
				factor = 0
				power_balance_value = {
					id = SOV_Troika_Opposition_power_struggle
					value < -0.85
				}
			}
		}
		days_remove = 14
		complete_effect = {
			add_power_balance_value = {
				id = SOV_Troika_Opposition_power_struggle
				value = -0.05
			}
		}
	}
}

SOV_Operation_Bagration = {
	SOV_kiev_offensive = {
		icon = GFX_decision_hol_draw_up_staff_plans
		days_remove = 70
		visible = {
			has_completed_focus = SOV_first_kiev
		}
		allowed = {
			OR = {
				has_war_with = UKR
				has_war_with = UPR
				has_war_with = USS
			}
			OR = {
				any_neighbor_country = UKR
				any_neighbor_country = UPR
				any_neighbor_country = USS
			}
			NOT = { set_country_flag = other_offensive_active_flag }
		}
		fire_only_once = yes
		custom_cost_trigger = {
			command_power > 29
		}
		custom_cost_text = decision_cost_CP_30
		complete_effect = {
			add_ideas = SOV_kiev_offensive
			set_country_flag = other_offensive_active_flag
		}
		remove_effect = {
			remove_ideas = SOV_kiev_offensive
			clr_country_flag = other_offensive_active_flag
		}
	}
	SOV_minsk_offensive = {
		icon = GFX_decision_hol_draw_up_staff_plans
		days_remove = 70
		visible = {
			has_completed_focus = SOV_then_minsk
		}
		allowed = {
			has_war_with = BLR
			any_neighbor_country = BLR
			NOT = { set_country_flag = other_offensive_active_flag }
		}
		fire_only_once = yes
		custom_cost_trigger = {
			command_power > 29
		}
		custom_cost_text = decision_cost_CP_30
		complete_effect = {
			add_ideas = SOV_minsk_offensive
			set_country_flag = other_offensive_active_flag
		}
		remove_effect = {
			remove_ideas = SOV_minsk_offensive
			clr_country_flag = other_offensive_active_flag
		}
	}
	SOV_warsaw_offensive = {
		icon = GFX_decision_hol_draw_up_staff_plans
		days_remove = 70
		visible = {
			has_completed_focus = SOV_now_warsaw
		}
		allowed = {
			has_war_with = POL
			any_neighbor_country = POL
			NOT = { set_country_flag = other_offensive_active_flag }
		}
		custom_cost_trigger = {
			command_power > 29
		}
		fire_only_once = yes
		custom_cost_text = decision_cost_CP_30
		complete_effect = {
			add_ideas = SOV_warsaw_offensive
			set_country_flag = other_offensive_active_flag
		}
		remove_effect = {
			remove_ideas = SOV_warsaw_offensive
			clr_country_flag = other_offensive_active_flag
		}
	}
}

SOV_The_Inevitable_Civil_War = {
	#SOV_until_the_last_day = {
		#days_mission_timeout = 200
		#activation = {
		#	original_tag = SOV
		#	has_completed_focus = SOV_The_Line_Corrected
		#}
		#allowed = {
		#	original_tag = SOV
		#}
		#available = {
		#	always = no
		#}
		#fire_only_once = yes
		#timeout_effect = {
		#	bukharin_civilwar_decision = yes
		#	complete_national_focus = SOV_the_second_october_revolution
		#	set_country_flag = SOV_opposition_civil_war
		#}
	#}
}

#Old

SOV_Soviet_Union_decision = {
	SOV_Form_soviet_union = {
		icon = GFX_decision_SOV_socialism_in_one_country
		visible = {
			137 = {	is_owned_by = SOV }
			196 = {	is_owned_by = SOV }
			200 = {	is_owned_by = SOV }
			227 = {	is_owned_by = SOV }
			228 = {	is_owned_by = SOV }
			240 = {	is_owned_by = SOV }
			221 = {	is_owned_by = SOV }
			226 = {	is_owned_by = SOV }
			259 = {	is_owned_by = SOV }
			225 = {	is_owned_by = SOV }
			193 = {	is_owned_by = SOV }
			197 = {	is_owned_by = SOV }
			203 = {	is_owned_by = SOV }
			192 = {	is_owned_by = SOV }
			834 = {	is_owned_by = SOV }
			198 = {	is_owned_by = SOV }
			202 = {	is_owned_by = SOV }
			977 = {	is_owned_by = SOV }
			978 = {	is_owned_by = SOV }
			201 = {	is_owned_by = SOV }
			241 = {	is_owned_by = SOV }
			194 = {	is_owned_by = SOV }
			199 = {	is_owned_by = SOV }
			204 = {	is_owned_by = SOV }
			206 = {	is_owned_by = SOV }
		}
		allowed = {
			original_tag = SOV
		}
		fire_only_once = yes
		complete_effect = {
			news_event = Soviet.61
			set_cosmetic_tag = SOV_Union
			every_state = {
				limit = {
					is_owned_by = SOV
					OR = {
						is_core_of = UKR
						is_core_of = BLR
						is_core_of = LIT
						is_core_of = POL
						is_core_of = EST
						is_core_of = LAT
						is_core_of = ROM
						is_core_of = GER
					}
				}
				add_core_of = SOV
			}
		}
		ai_will_do = {
			base = 4000
		}
	}
	SOV_annex_ukraine = {
		icon = GFX_decision_FIN_stop_motti_tactics
		visible = {
			OR = {
				UKR = { is_subject_of = SOV }
				UPR = { is_subject_of = SOV }
				USS = { is_subject_of = SOV }
			}
		}
		visible = {
			OR = {
				has_country_flag = second_great_war_winner
				has_country_flag = anti_russia_war_winner
			}
		}
		allowed = {
			original_tag = SOV
		}
		complete_effect = {
			if = {
				limit  ={
					UKR = { is_subject_of = SOV }
				}
				SOV = { annex_country = { target = UKR transfer_troops = yes } }
			}
			if = {
				limit  ={
					UPR = { is_subject_of = SOV }
				}
				SOV = { annex_country = { target = UPR transfer_troops = yes } }
			}
			if = {
				limit  ={
					USS = { is_subject_of = SOV }
				}
				SOV = { annex_country = { target = USS transfer_troops = yes } }
			}
		}
		ai_will_do = {
			base = 4000
		}
	}
	SOV_annex_belarus = {
		icon = GFX_decision_FIN_stop_motti_tactics
		visible = {
			BLR = { is_subject_of = SOV }
		}
		visible = {
			OR = {
				has_country_flag = second_great_war_winner
				has_country_flag = anti_russia_war_winner
			}
		}
		allowed = {
			original_tag = SOV
		}
		complete_effect = {
			SOV = { annex_country = { target = BLR transfer_troops = yes } }
		}
		ai_will_do = {
			base = 4000
		}
	}
}

the_great_struggle = {
###Stalin
	uncovering_Buharins_bad_behavior = {
		icon = decision_generic_decision
		visible = {
			has_completed_focus = SOV_the_secretary_compromise
			NOT = { has_country_flag = end_of_political_struggle }
		}
		allowed = {
			original_tag = SOV
		}
		cost = 15
		days_re_enable = 20
		complete_effect = {
			custom_effect_tooltip = you_can_choose_again_after_20_days
			SOV_stalins_influence_two_increase = yes
			SOV_zinoviev_influence_five_decrease = yes
			hidden_effect = {
				country_event = { id = Soviet.100 days = 20 }
			}
			set_country_flag = political_decision
		}
		available = {
			NOT = {
				has_country_flag = political_decision
			}
			check_variable = { SOV_zinoviev_influence > 0 }
		}
		ai_will_do = {
			base = 0
			modifier = {
				add = 1000
				check_variable = {
					SOV_zinoviev_influence > 0.05
				}
			}
		}
	}
	investigating_factions_within_the_party = {
		icon = decision_generic_decision
		visible = {
			has_completed_focus = SOV_the_secretary_compromise
			NOT = { has_country_flag = end_of_political_struggle }
		}
		allowed = {
			original_tag = SOV
		}
		cost = 15
		days_re_enable = 20
		complete_effect = {
			custom_effect_tooltip = you_can_choose_again_after_20_days
			SOV_stalins_influence_six_increase = yes
			hidden_effect = {
				country_event = { id = Soviet.100 days = 20 }
			}
			set_country_flag = political_decision
		}
		available = {
			NOT = {
				has_country_flag = political_decision
			}
			check_variable = { SOV_stalins_influence < 1 }
		}
		ai_will_do = {
			base = 0
		}
	}
	reject_trotskism = {
		icon = decision_generic_decision
		visible = {
			has_completed_focus = SOV_the_secretary_compromise
			NOT = { has_country_flag = end_of_political_struggle }
		}
		allowed = {
			original_tag = SOV
		}
		cost = 20
		days_re_enable = 20
		complete_effect = {
			custom_effect_tooltip = you_can_choose_again_after_20_days
			SOV_stalins_influence_two_increase = yes
			SOV_trotskys_influence_five_decrease = yes
			hidden_effect = {
				country_event = { id = Soviet.100 days = 20 }
			}
			set_country_flag = political_decision
		}
		available = {
			NOT = {
				has_country_flag = political_decision
			}
			check_variable = { SOV_trotskys_influence > 0 }
		}
		ai_will_do = {
			base = 0
			modifier = {
				add = 1000
				check_variable = {
					SOV_trotskys_influence > 0.05
				}
			}
		}
	}
	movement_of_bukharin_stalin = {
		days_mission_timeout = 25
		activation = {
			has_completed_focus = SOV_the_secretary_compromise
			NOT = {
				has_country_flag = end_of_political_struggle
				has_country_flag = no_zinoviev_flag
			}
		}
		allowed = {
			original_tag = SOV
		}
		available = {
			OR = {
				has_country_flag = end_of_political_struggle
				has_country_flag = no_zinoviev_flag
			}
		}
		timeout_effect = {
			SOV_zinoviev_influence_two_increase = yes
		}
	}
	movement_of_trotsky_stalin = {
		days_mission_timeout = 25
		activation = {
			has_completed_focus = SOV_the_secretary_compromise
			NOT = {
				has_country_flag = end_of_political_struggle
				has_country_flag = no_trotsky_flag
			}
		}
		allowed = {
			original_tag = SOV
		}
		available = {
			OR = {
				has_country_flag = end_of_political_struggle
				has_country_flag = no_trotsky_flag
			}
		}
		timeout_effect = {
			SOV_trotskys_influence_two_increase = yes
		}
	}
###Zinoviev (Original was Bukharin)
	attack_the_center = {
		icon = decision_generic_decision
		visible = {
			has_completed_focus = SOV_the_president_internationalize
			NOT = { has_country_flag = end_of_political_struggle }
		}
		allowed = {
			original_tag = SOV
		}
		cost = 20
		days_re_enable = 20
		complete_effect = {
			custom_effect_tooltip = you_can_choose_again_after_20_days
			SOV_zinoviev_influence_two_increase = yes
			SOV_stalins_influence_five_decrease = yes
			hidden_effect = {
				country_event = { id = Soviet.100 days = 20 }
			}
			set_country_flag = political_decision
		}
		available = {
			NOT = {
				has_country_flag = political_decision
			}
			check_variable = { SOV_stalins_influence > 0 }
		}
		ai_will_do = {
			base = 0
			modifier = {
				add = 1000
				check_variable = {
					SOV_trotskys_influence < 0.1
				}
				check_variable = {
					SOV_stalins_influence > 0.05
				}
			}
		}
	}
	conciliating_senior_bolshevik_officials = {
		icon = decision_generic_decision
		visible = {
			has_completed_focus = SOV_the_president_internationalize
			NOT = { has_country_flag = end_of_political_struggle }
		}
		allowed = {
			original_tag = SOV
		}
		cost = 20
		days_re_enable = 20
		complete_effect = {
			custom_effect_tooltip = you_can_choose_again_after_20_days
			SOV_zinoviev_influence_six_increase = yes
			hidden_effect = {
				country_event = { id = Soviet.100 days = 20 }
			}
			set_country_flag = political_decision
		}
		available = {
			NOT = {
				has_country_flag = political_decision
			}
			check_variable = { SOV_zinoviev_influence < 1 }
		}
		ai_will_do = {
			base = 0
		}
	}
	pointing_out_the_dogmatic_aspect_of_Trotsky = {
		icon = decision_generic_decision
		visible = {
			has_completed_focus = SOV_the_president_internationalize
			NOT = { has_country_flag = end_of_political_struggle }
		}
		allowed = {
			original_tag = SOV
		}
		cost = 20
		days_re_enable = 20
		complete_effect = {
			custom_effect_tooltip = you_can_choose_again_after_20_days
			SOV_zinoviev_influence_two_increase = yes
			SOV_trotskys_influence_five_decrease = yes
			hidden_effect = {
				country_event = { id = Soviet.100 days = 20 }
			}
			set_country_flag = political_decision
		}
		available = {
			NOT = {
				has_country_flag = political_decision
			}
			check_variable = { SOV_trotskys_influence > 0 }
		}
		ai_will_do = {
			base = 0
			modifier = {
				add = 1000
				check_variable = {
					SOV_trotskys_influence > 0.05
				}
			}
		}
	}
	movement_of_stalin_bukharin = {
		days_mission_timeout = 25
		activation = {
			has_completed_focus = SOV_the_president_internationalize
			NOT = {
				has_country_flag = end_of_political_struggle
				has_country_flag = no_stalin_flag
			}
		}
		allowed = {
			original_tag = SOV
		}
		available = {
			OR = {
				has_country_flag = end_of_political_struggle
				has_country_flag = no_stalin_flag
			}
		}
		timeout_effect = {
			SOV_stalins_influence_two_increase = yes
		}
	}
	movement_of_trotsky_bukharin = {
		days_mission_timeout = 25
		activation = {
			has_completed_focus = SOV_the_president_internationalize
			NOT = {
				has_country_flag = end_of_political_struggle
				has_country_flag = no_trotsky_flag
			}
		}
		allowed = {
			original_tag = SOV
		}
		available = {
			OR = {
				has_country_flag = end_of_political_struggle
				has_country_flag = no_trotsky_flag
			}
		}
		timeout_effect = {
			SOV_trotskys_influence_two_increase = yes
		}
	}
###Trotsky
	highlighting_brutal_appearance_of_stalin = {
		icon = decision_generic_decision
		visible = {
			has_completed_focus = SOV_the_admiral_militarization
			NOT = { has_country_flag = end_of_political_struggle }
		}
		allowed = {
			original_tag = SOV
		}
		cost = 20
		days_re_enable = 20
		complete_effect = {
			custom_effect_tooltip = you_can_choose_again_after_20_days
			SOV_trotskys_influence_two_increase = yes
			SOV_stalins_influence_five_decrease = yes
			hidden_effect = {
				country_event = { id = Soviet.100 days = 20 }
			}
			set_country_flag = political_decision
		}
		available = {
			NOT = {
				has_country_flag = political_decision
			}
			check_variable = { SOV_stalins_influence > 0 }
		}
		ai_will_do = {
			base = 0
			modifier = {
				add = 1000
				check_variable = {
					SOV_zinoviev_influence < 0.1
				}
				check_variable = {
					SOV_stalins_influence > 0.05
				}
			}
		}
	}
	claim_lenins_ideals = {
		icon = decision_generic_decision
		visible = {
			has_completed_focus = SOV_the_admiral_militarization
			NOT = { has_country_flag = end_of_political_struggle }
		}
		allowed = {
			original_tag = SOV
		}
		cost = 20
		days_re_enable = 20
		complete_effect = {
			custom_effect_tooltip = you_can_choose_again_after_20_days
			SOV_trotskys_influence_six_increase = yes
			hidden_effect = {
				country_event = { id = Soviet.100 days = 20 }
			}
			set_country_flag = political_decision
		}
		available = {
			NOT = {
				has_country_flag = political_decision
			}
			check_variable = { SOV_trotskys_influence < 1 }
		}
		ai_will_do = {
			base = 0
		}
	}
	pressing_hard_bukharinists = {
		icon = decision_generic_decision
		visible = {
			has_completed_focus = SOV_the_admiral_militarization
			NOT = { has_country_flag = end_of_political_struggle }
		}
		allowed = {
			original_tag = SOV
		}
		cost = 20
		days_re_enable = 20
		complete_effect = {
			custom_effect_tooltip = you_can_choose_again_after_20_days
			SOV_trotskys_influence_two_increase = yes
			SOV_zinoviev_influence_five_decrease = yes
			hidden_effect = {
				country_event = { id = Soviet.100 days = 20 }
			}
			set_country_flag = political_decision
		}
		available = {
			NOT = {
				has_country_flag = political_decision
			}
			check_variable = { SOV_zinoviev_influence > 0 }
		}
		ai_will_do = {
			base = 0
			modifier = {
				add = 1000
				check_variable = {
					SOV_zinoviev_influence > 0.05
				}
			}
		}
	}
	movement_of_stalin_trotsky = {
		days_mission_timeout = 25
		activation = {
			has_completed_focus = SOV_the_admiral_militarization
			NOT = {
				has_country_flag = end_of_political_struggle
				has_country_flag = no_stalin_flag
			}
		}
		allowed = {
			original_tag = SOV
		}
		available = {
			OR = {
				has_country_flag = end_of_political_struggle
				has_country_flag = no_stalin_flag
			}
		}
		timeout_effect = {
			SOV_stalins_influence_two_increase = yes
		}
	}
	movement_of_bukharin_trotsky = {
		days_mission_timeout = 25
		activation = {
			has_completed_focus = SOV_the_admiral_militarization
			NOT = {
				has_country_flag = end_of_political_struggle
				has_country_flag = no_zinoviev_flag
			}
		}
		allowed = {
			original_tag = SOV
		}
		available = {
			OR = {
				has_country_flag = end_of_political_struggle
				has_country_flag = no_zinoviev_flag
			}
		}
		timeout_effect = {
			SOV_zinoviev_influence_two_increase = yes
		}
	}
}

SOV_military_conciliation_decision = {
	SOV_zhukov_conciliation = {
		icon = GFX_decision_generic_army_support
		visible = {
			has_completed_focus = SOV_contacting_senior_officers
			NOT = { has_completed_focus = SOV_attack_stalin }
		}
		allowed = {
			original_tag = SOV
		}
		cost = 10
		fire_only_once = yes
		complete_effect = {
			custom_effect_tooltip = SOV_conciliation_effect
			SOV_georgy_zhukov = {
				set_character_flag = trotsky_conciliation
			}
		}
		ai_will_do = {
			base = 100
		}
	}
	SOV_rokossovsky_conciliation = {
		icon = GFX_decision_generic_army_support
		visible = {
			has_completed_focus = SOV_contacting_senior_officers
			NOT = { has_completed_focus = SOV_attack_stalin }
		}
		allowed = {
			original_tag = SOV
		}
		cost = 10
		fire_only_once = yes
		complete_effect = {
			custom_effect_tooltip = SOV_conciliation_effect
			SOV_konstantin_rokossovsky = {
				set_character_flag = trotsky_conciliation
			}
		}
		ai_will_do = {
			base = 100
		}
	}
	SOV_vasilevsky_conciliation = {
		icon = GFX_decision_generic_army_support
		visible = {
			has_completed_focus = SOV_contacting_senior_officers
			NOT = { has_completed_focus = SOV_attack_stalin }
		}
		allowed = {
			original_tag = SOV
		}
		cost = 10
		fire_only_once = yes
		complete_effect = {
			custom_effect_tooltip = SOV_conciliation_effect
			SOV_aleksandr_vasilevsky = {
				set_character_flag = trotsky_conciliation
			}
		}
		ai_will_do = {
			base = 100
		}
	}
	SOV_shaposhnikov_conciliation = {
		icon = GFX_decision_generic_army_support
		visible = {
			has_completed_focus = SOV_contacting_senior_officers
			NOT = { has_completed_focus = SOV_attack_stalin }
		}
		allowed = {
			original_tag = SOV
		}
		cost = 10
		fire_only_once = yes
		complete_effect = {
			custom_effect_tooltip = SOV_conciliation_effect
			SOV_boris_shaposhnikov = {
				set_character_flag = trotsky_conciliation
			}
		}
		ai_will_do = {
			base = 100
		}
	}
	SOV_vatutin_conciliation = {
		icon = GFX_decision_generic_army_support
		visible = {
			has_completed_focus = SOV_contacting_senior_officers
			NOT = { has_completed_focus = SOV_attack_stalin }
		}
		allowed = {
			original_tag = SOV
		}
		cost = 10
		fire_only_once = yes
		complete_effect = {
			custom_effect_tooltip = SOV_conciliation_effect
			SOV_nikolay_vatutin = {
				set_character_flag = trotsky_conciliation
			}
		}
		ai_will_do = {
			base = 100
		}
	}
	SOV_timoshenko_conciliation = {
		icon = GFX_decision_generic_army_support
		visible = {
			has_completed_focus = SOV_contacting_senior_officers
			NOT = { has_completed_focus = SOV_attack_stalin }
		}
		allowed = {
			original_tag = SOV
		}
		cost = 10
		fire_only_once = yes
		complete_effect = {
			custom_effect_tooltip = SOV_conciliation_effect
			SOV_semyon_timoshenko = {
				set_character_flag = trotsky_conciliation
			}
		}
		ai_will_do = {
			base = 100
		}
	}
	SOV_voroshilov_conciliation = {
		icon = GFX_decision_generic_army_support
		visible = {
			has_completed_focus = SOV_contacting_senior_officers
			NOT = { has_completed_focus = SOV_attack_stalin }
		}
		allowed = {
			original_tag = SOV
		}
		cost = 10
		fire_only_once = yes
		complete_effect = {
			custom_effect_tooltip = SOV_conciliation_effect
			SOV_kliment_voroshilov = {
				set_character_flag = trotsky_conciliation
			}
		}
		ai_will_do = {
			base = 100
		}
	}
}

SOV_preparations_for_a_coup_decision = {
	sov_to_conciliate_military_command = {
		icon = GFX_decision_generic_army_support
		visible = {
			has_completed_focus = SOV_preparations_for_a_coup
			check_variable = { SOV_bukharin_coup_preparation_progress < 1 }
		}
		allowed = {
			original_tag = SOV
		}
		cost = 30
		days_remove = 40
		complete_effect = {
			add_to_variable = { SOV_bukharin_prepare_coup_main_bar = 1 }
			add_to_variable = { SOV_bukharin_coup_preparation_progress = 0.05 }
			custom_effect_tooltip = SOV_bukharin_coup_preparation_progress_5
		}
		ai_will_do = {
			base = 4000
		}
	}
	sov_funding_to_high_ranking_politicians = {
		icon = GFX_decision_generic_political_discourse
		visible = {
			has_completed_focus = SOV_preparations_for_a_coup
			check_variable = { SOV_bukharin_coup_preparation_progress < 1 }
		}
		allowed = {
			original_tag = SOV
		}
		cost = 30
		days_remove = 40
		complete_effect = {
			add_to_variable = { SOV_bukharin_prepare_coup_main_bar = 1 }
			add_to_variable = { SOV_bukharin_coup_preparation_progress = 0.05 }
			custom_effect_tooltip = SOV_bukharin_coup_preparation_progress_5
		}
		ai_will_do = {
			base = 4000
		}
	}
	sov_cover_stalins_eyes_and_ears = {
		icon = GFX_decision_SWI_expand_covert_operations
		visible = {
			has_completed_focus = SOV_preparations_for_a_coup
			check_variable = { SOV_bukharin_coup_preparation_progress < 1 }
		}
		allowed = {
			original_tag = SOV
		}
		cost = 30
		days_remove = 40
		complete_effect = {
			add_to_variable = { SOV_bukharin_prepare_coup_main_bar = 1 }
			add_to_variable = { SOV_bukharin_coup_preparation_progress = 0.05 }
			custom_effect_tooltip = SOV_bukharin_coup_preparation_progress_5
		}
		ai_will_do = {
			base = 4000
		}
	}
}

SOV_additional_divisions = {
	recruitment_of_additional_divisions_in_eastern_russia = {
		icon = GFX_decision_eng_blackshirt_march
		visible = {
			has_completed_focus = SOV_additional_divisions
			NOT = { has_completed_focus = SOV_attack_stalin }
		}
		cost = 30
		days_remove = 50
		fire_only_once = yes
		remove_effect = {
			set_country_flag = additional_divisions_in_eastern_russia
			custom_effect_tooltip = will_get_2_division
		}
		ai_will_do = {
			base = 4000
		}
	}
	recruitment_of_additional_divisions_in_western_russia = {
		icon = GFX_decision_eng_blackshirt_march
		visible = {
			has_completed_focus = SOV_additional_divisions
			NOT = { has_completed_focus = SOV_attack_stalin }
		}
		cost = 30
		days_remove = 50
		fire_only_once = yes
		remove_effect = {
			set_country_flag = additional_divisions_in_western_russia
			custom_effect_tooltip = will_get_2_division
		}
		ai_will_do = {
			base = 4000
		}
	}
	recruitment_of_additional_divisions_in_middle_russia = {
		icon = GFX_decision_eng_blackshirt_march
		visible = {
			has_completed_focus = SOV_additional_divisions
			NOT = { has_completed_focus = SOV_attack_stalin }
		}
		cost = 30
		days_remove = 50
		fire_only_once = yes
		remove_effect = {
			set_country_flag = additional_divisions_in_middle_russia
			custom_effect_tooltip = will_get_2_division
		}
		ai_will_do = {
			base = 4000
		}
	}
	recruitment_of_additional_divisions_in_middle_asia = {
		icon = GFX_decision_eng_blackshirt_march
		visible = {
			has_completed_focus = SOV_additional_divisions
			NOT = { has_completed_focus = SOV_attack_stalin }
		}
		cost = 30
		days_remove = 50
		fire_only_once = yes
		remove_effect = {
			set_country_flag = additional_divisions_in_middle_asia
			custom_effect_tooltip = will_get_2_division
		}
		ai_will_do = {
			base = 4000
		}
	}
}

the_threat_of_a_coup_by_the_Bukharin_Clique = {
	remaining_time_until_breake_bukharin_clique_civilwar = {
		days_mission_timeout = 300
		icon = GFX_decision_revolt
		activation = {
			has_country_flag = bukharins_coup_prepare
		}
		allowed = {
			tag = SOV
		}
		fire_only_once = yes
		available = {
			OR = {
				has_completed_focus = SOV_Integration_of_Trotskyism_and_Buharinism
				has_completed_focus = SOV_the_rule_of_Trotsky
			}
		}
		timeout_effect = {
			hidden_effect = {
				bukharin_civilwar_focus = yes
			}
			set_country_flag = war_with_bukharin
			custom_effect_tooltip = bukharin_civilwar_focus
		}
	}
}
Trotsky_Bukharin_Struggle_decisions = {
	International_Socialist_Congress = {
		allowed = {
			original_tag = SOV
		}
		available = {
			has_completed_focus = SOV_the_end_of_civil_war
		}
		visible = {
			has_country_flag = Trotsky_Bukharin_Struggle_flag
			NOT = {
				has_completed_focus = SOV_ousting_Bukharin
			}
		}
		days_remove = 10
		cost = 15
		complete_effect = {
			add_power_balance_value = {
				id = Trotsky_Bukharin_Struggle
				value = -0.05
			}
		}
		ai_will_do = {
			base = 4000
			modifier = {
				factor = 0
				power_balance_value = {
					id = Trotsky_Bukharin_Struggle
					value < -0.9
				}
			}
		}
	}
	Bukharin_revisionist_criticism = {
		allowed = {
			original_tag = SOV
		}
		available = {
			has_completed_focus = SOV_the_end_of_civil_war
		}
		visible = {
			has_country_flag = Trotsky_Bukharin_Struggle_flag
			NOT = {
				has_completed_focus = SOV_ousting_Bukharin
			}
		}
		days_remove = 10
		cost = 15
		complete_effect = {
			add_power_balance_value = {
				id = Trotsky_Bukharin_Struggle
				value = -0.05
			}
		}
		ai_will_do = {
			base = 4000
			modifier = {
				factor = 0
				power_balance_value = {
					id = Trotsky_Bukharin_Struggle
					value < -0.9
				}
			}
		}
	}
	the_revelation_of_Bukharins_connection_with_Germany = {
		allowed = {
			original_tag = SOV
		}
		available = {
			has_completed_focus = SOV_the_end_of_civil_war
		}
		visible = {
			has_country_flag = Trotsky_Bukharin_Struggle_flag
			NOT = {
				has_completed_focus = SOV_ousting_Bukharin
			}
		}
		days_remove = 20
		cost = 25
		complete_effect = {
			add_power_balance_value = {
				id = Trotsky_Bukharin_Struggle
				value = -0.1
			}
		}
		ai_will_do = {
			base = 4000
			modifier = {
				factor = 0
				power_balance_value = {
					id = Trotsky_Bukharin_Struggle
					value < -0.9
				}
			}
		}
	}
	remind_Trotskys_Genius = {
		allowed = {
			original_tag = SOV
		}
		available = {
			has_completed_focus = SOV_the_end_of_civil_war
		}
		visible = {
			has_country_flag = Trotsky_Bukharin_Struggle_flag
			NOT = {
				has_completed_focus = SOV_ousting_Bukharin
			}
		}
		days_remove = 20
		cost = 25
		complete_effect = {
			add_power_balance_value = {
				id = Trotsky_Bukharin_Struggle
				value = -0.1
			}
		}
		ai_will_do = {
			base = 4000
			modifier = {
				factor = 0
				power_balance_value = {
					id = Trotsky_Bukharin_Struggle
					value < -0.9
				}
			}
		}
	}
	incitement_the_anti_Trotskists = {
		days_mission_timeout = 30
		activation = {
			has_country_flag = Trotsky_Bukharin_Struggle_flag
			NOT = { has_completed_focus = SOV_ousting_Bukharin }
		}
		allowed = {
			original_tag = SOV
		}
		available = {
			has_completed_focus = SOV_ousting_Bukharin
		}
		timeout_effect = {
			add_power_balance_value = {
				id = Trotsky_Bukharin_Struggle
				value = 0.03
			}
		}
	}
	Emphasizing_the_Unrealities_of_the_World_Revolution = {
		days_mission_timeout = 40
		activation = {
			has_country_flag = Trotsky_Bukharin_Struggle_flag
			NOT = { has_completed_focus = SOV_ousting_Bukharin }
		}
		allowed = {
			original_tag = SOV
		}
		available = {
			has_completed_focus = SOV_ousting_Bukharin
		}
		timeout_effect = {
			add_power_balance_value = {
				id = Trotsky_Bukharin_Struggle
				value = 0.05
			}
		}
	}
}

SOV_Operation_of_penal_battalions_decision = {
	SOV_219_penal_battalions_conscription = {
		icon = GFX_decision_generic_arrest
		allowed = {
			original_tag = SOV
		}
		visible = {
			has_completed_focus = SOV_Operation_of_penal_battalions
		}
		available = {
			controls_state = 219
		}
		fire_only_once = yes
		complete_effect = {
			219 = {
				create_unit = {
					division = "division_template = \"Shtrafnaya Chast\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
					owner = ROOT
					count = 4
				}
			}
		}
		highlight_states = {
			highlight_state_targets = {
				state = 219
			}
		}
		ai_will_do = {
			base = 4000
		}
	}
	SOV_195_penal_battalions_conscription = {
		icon = GFX_decision_generic_arrest
		allowed = {
			original_tag = SOV
		}
		visible = {
			has_completed_focus = SOV_Operation_of_penal_battalions
		}
		available = {
			controls_state = 195
		}
		fire_only_once = yes
		complete_effect = {
			195 = {
				create_unit = {
					division = "division_template = \"Shtrafnaya Chast\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
					owner = ROOT
					count = 4
				}
			}
		}
		highlight_states = {
			highlight_state_targets = {
				state = 195
			}
		}
		ai_will_do = {
			base = 4000
		}
	}
	SOV_217_penal_battalions_conscription = {
		icon = GFX_decision_generic_arrest
		allowed = {
			original_tag = SOV
		}
		visible = {
			has_completed_focus = SOV_Operation_of_penal_battalions
		}
		available = {
			controls_state = 217
		}
		fire_only_once = yes
		complete_effect = {
			217 = {
				create_unit = {
					division = "division_template = \"Shtrafnaya Chast\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
					owner = ROOT
					count = 4
				}
			}
		}
		highlight_states = {
			highlight_state_targets = {
				state = 217
			}
		}
		ai_will_do = {
			base = 4000
		}
	}
	SOV_249_penal_battalions_conscription = {
		icon = GFX_decision_generic_arrest
		allowed = {
			original_tag = SOV
		}
		visible = {
			has_completed_focus = SOV_Operation_of_penal_battalions
		}
		available = {
			controls_state = 249
		}
		fire_only_once = yes
		complete_effect = {
			249 = {
				create_unit = {
					division = "division_template = \"Shtrafnaya Chast\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
					owner = ROOT
					count = 4
				}
			}
		}
		highlight_states = {
			highlight_state_targets = {
				state = 249
			}
		}
		ai_will_do = {
			base = 4000
		}
	}
	SOV_408_penal_battalions_conscription = {
		icon = GFX_decision_generic_arrest
		allowed = {
			original_tag = SOV
		}
		visible = {
			has_completed_focus = SOV_Operation_of_penal_battalions
		}
		available = {
			controls_state = 408
		}
		fire_only_once = yes
		complete_effect = {
			408 = {
				create_unit = {
					division = "division_template = \"Shtrafnaya Chast\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
					owner = ROOT
					count = 4
				}
			}
		}
		highlight_states = {
			highlight_state_targets = {
				state = 408
			}
		}
		ai_will_do = {
			base = 4000
		}
	}
	SOV_566_penal_battalions_conscription = {
		icon = GFX_decision_generic_arrest
		allowed = {
			original_tag = SOV
		}
		visible = {
			has_completed_focus = SOV_Operation_of_penal_battalions
		}
		available = {
			controls_state = 566
		}
		fire_only_once = yes
		complete_effect = {
			566 = {
				create_unit = {
					division = "division_template = \"Shtrafnaya Chast\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
					owner = ROOT
					count = 4
				}
			}
		}
		highlight_states = {
			highlight_state_targets = {
				state = 566
			}
		}
		ai_will_do = {
			base = 4000
		}
	}
}
SOV_wartime_mobilization = {
	SOV_219_wartime_mobilization = {
		icon = GFX_decision_generic_civil_support
		allowed = {
			original_tag = SOV
		}
		visible = {
			has_global_flag = soviet_civilwar_focus
		}
		available = {
			ROOT = { controls_state = 219 }
		}
		cost = 50
		fire_only_once = yes
		highlight_states = {
			highlight_state_targets = {
				state = 219
			}
		}
		complete_effect = {
			219 = {
				create_unit = {
					division = "name = \"1. Extrany Diviziya\" division_template = \"Extrany Diviziya\" start_experience_factor = 0.1"
					owner = ROOT
					count = 4
				}
			}
		}
		ai_will_do = {
			base = 4000
		}
	}
	SOV_217_wartime_mobilization = {
		icon = GFX_decision_generic_civil_support
		allowed = {
			original_tag = SOV
		}
		visible = {
			has_global_flag = soviet_civilwar_focus
		}
		available = {
			ROOT = { controls_state = 217 }
		}
		cost = 50
		fire_only_once = yes
		highlight_states = {
			highlight_state_targets = {
				state = 217
			}
		}
		complete_effect = {
			217 = {
				create_unit = {
					division = "name = \"1. Extrany Diviziya\" division_template = \"Extrany Diviziya\" start_experience_factor = 0.1"
					owner = ROOT
					count = 4
				}
			}
		}
		ai_will_do = {
			base = 4000
		}
	}
	SOV_195_wartime_mobilization = {
		icon = GFX_decision_generic_civil_support
		allowed = {
			original_tag = SOV
		}
		visible = {
			has_global_flag = soviet_civilwar_focus
		}
		available = {
			ROOT = { controls_state = 195 }
		}
		cost = 50
		fire_only_once = yes
		highlight_states = {
			highlight_state_targets = {
				state = 195
			}
		}
		complete_effect = {
			195 = {
				create_unit = {
					division = "name = \"1. Extrany Diviziya\" division_template = \"Extrany Diviziya\" start_experience_factor = 0.1"
					owner = ROOT
					count = 4
				}
			}
		}
		ai_will_do = {
			base = 4000
		}
	}
	SOV_810_wartime_mobilization = {
		icon = GFX_decision_generic_civil_support
		allowed = {
			original_tag = SOV
		}
		visible = {
			has_global_flag = soviet_civilwar_focus
		}
		available = {
			ROOT = { controls_state = 810 }
		}
		cost = 50
		fire_only_once = yes
		highlight_states = {
			highlight_state_targets = {
				state = 810
			}
		}
		complete_effect = {
			810 = {
				create_unit = {
					division = "name = \"1. Extrany Diviziya\" division_template = \"Extrany Diviziya\" start_experience_factor = 0.1"
					owner = ROOT
					count = 4
				}
			}
		}
		ai_will_do = {
			base = 4000
		}
	}
	SOV_931_wartime_mobilization = {
		icon = GFX_decision_generic_civil_support
		allowed = {
			original_tag = SOV
		}
		visible = {
			has_global_flag = soviet_civilwar_focus
		}
		available = {
			ROOT = { controls_state = 931 }
		}
		cost = 50
		fire_only_once = yes
		highlight_states = {
			highlight_state_targets = {
				state = 931
			}
		}
		complete_effect = {
			931 = {
				create_unit = {
					division = "name = \"1. Extrany Diviziya\" division_template = \"Extrany Diviziya\" start_experience_factor = 0.1"
					owner = ROOT
					count = 4
				}
			}
		}
		ai_will_do = {
			base = 4000
		}
	}
	SOV_232_wartime_mobilization = {
		icon = GFX_decision_generic_civil_support
		allowed = {
			original_tag = SOV
		}
		visible = {
			has_global_flag = soviet_civilwar_focus
		}
		available = {
			ROOT = { controls_state = 232 }
		}
		cost = 50
		fire_only_once = yes
		highlight_states = {
			highlight_state_targets = {
				state = 232
			}
		}
		complete_effect = {
			232 = {
				create_unit = {
					division = "name = \"1. Extrany Diviziya\" division_template = \"Extrany Diviziya\" start_experience_factor = 0.1"
					owner = ROOT
					count = 4
				}
			}
		}
		ai_will_do = {
			base = 4000
		}
	}
	SOV_398_wartime_mobilization = {
		icon = GFX_decision_generic_civil_support
		allowed = {
			original_tag = SOV
		}
		visible = {
			has_global_flag = soviet_civilwar_focus
		}
		available = {
			ROOT = { controls_state = 398 }
		}
		cost = 50
		fire_only_once = yes
		highlight_states = {
			highlight_state_targets = {
				state = 398
			}
		}
		complete_effect = {
			398 = {
				create_unit = {
					division = "name = \"1. Extrany Diviziya\" division_template = \"Extrany Diviziya\" start_experience_factor = 0.1"
					owner = ROOT
					count = 4
				}
			}
		}
		ai_will_do = {
			base = 4000
		}
	}
	SOV_590_wartime_mobilization = {
		icon = GFX_decision_generic_civil_support
		allowed = {
			original_tag = SOV
		}
		visible = {
			has_global_flag = soviet_civilwar_focus
		}
		available = {
			ROOT = { controls_state = 590 }
		}
		cost = 50
		fire_only_once = yes
		highlight_states = {
			highlight_state_targets = {
				state = 590
			}
		}
		complete_effect = {
			590 = {
				create_unit = {
					division = "name = \"1. Extrany Diviziya\" division_template = \"Extrany Diviziya\" start_experience_factor = 0.1"
					owner = ROOT
					count = 4
				}
			}
		}
		ai_will_do = {
			base = 4000
		}
	}
	SOV_566_wartime_mobilization = {
		icon = GFX_decision_generic_civil_support
		allowed = {
			original_tag = SOV
		}
		visible = {
			has_global_flag = soviet_civilwar_focus
		}
		available = {
			ROOT = { controls_state = 566 }
		}
		cost = 50
		fire_only_once = yes
		highlight_states = {
			highlight_state_targets = {
				state = 566
			}
		}
		complete_effect = {
			566 = {
				create_unit = {
					division = "name = \"1. Extrany Diviziya\" division_template = \"Extrany Diviziya\" start_experience_factor = 0.1"
					owner = ROOT
					count = 4
				}
			}
		}
		ai_will_do = {
			base = 4000
		}
	}
	SOV_408_wartime_mobilization = {
		icon = GFX_decision_generic_civil_support
		allowed = {
			original_tag = SOV
		}
		visible = {
			has_global_flag = soviet_civilwar_focus
		}
		available = {
			ROOT = { controls_state = 408 }
		}
		cost = 50
		fire_only_once = yes
		highlight_states = {
			highlight_state_targets = {
				state = 408
			}
		}
		complete_effect = {
			408 = {
				create_unit = {
					division = "name = \"1. Extrany Diviziya\" division_template = \"Extrany Diviziya\" start_experience_factor = 0.1"
					owner = ROOT
					count = 4
				}
			}
		}
		ai_will_do = {
			base = 4000
		}
	}
	SOV_874_wartime_mobilization = {
		icon = GFX_decision_generic_civil_support
		allowed = {
			original_tag = SOV
		}
		visible = {
			has_global_flag = soviet_civilwar_focus
		}
		available = {
			ROOT = { controls_state = 874 }
		}
		cost = 50
		fire_only_once = yes
		highlight_states = {
			highlight_state_targets = {
				state = 874
			}
		}
		complete_effect = {
			874 = {
				create_unit = {
					division = "name = \"1. Extrany Diviziya\" division_template = \"Extrany Diviziya\" start_experience_factor = 0.1"
					owner = ROOT
					count = 4
				}
			}
		}
		ai_will_do = {
			base = 4000
		}
	}
	SOV_214_wartime_mobilization = {
		icon = GFX_decision_generic_civil_support
		allowed = {
			original_tag = SOV
		}
		visible = {
			has_global_flag = soviet_civilwar_focus
		}
		available = {
			ROOT = { controls_state = 214 }
		}
		cost = 50
		fire_only_once = yes
		highlight_states = {
			highlight_state_targets = {
				state = 214
			}
		}
		complete_effect = {
			214 = {
				create_unit = {
					division = "name = \"1. Extrany Diviziya\" division_template = \"Extrany Diviziya\" start_experience_factor = 0.1"
					owner = ROOT
					count = 4
				}
			}
		}
		ai_will_do = {
			base = 4000
		}
	}
	SOV_260_wartime_mobilization = {
		icon = GFX_decision_generic_civil_support
		allowed = {
			original_tag = SOV
		}
		visible = {
			has_global_flag = soviet_civilwar_focus
		}
		available = {
			ROOT = { controls_state = 260 }
		}
		cost = 50
		fire_only_once = yes
		highlight_states = {
			highlight_state_targets = {
				state = 260
			}
		}
		complete_effect = {
			260 = {
				create_unit = {
					division = "name = \"1. Extrany Diviziya\" division_template = \"Extrany Diviziya\" start_experience_factor = 0.1"
					owner = ROOT
					count = 4
				}
			}
		}
		ai_will_do = {
			base = 4000
		}
	}
	SOV_833_wartime_mobilization = {
		icon = GFX_decision_generic_civil_support
		allowed = {
			original_tag = SOV
		}
		visible = {
			has_global_flag = soviet_civilwar_focus
		}
		available = {
			ROOT = { controls_state = 833 }
		}
		cost = 50
		fire_only_once = yes
		highlight_states = {
			highlight_state_targets = {
				state = 833
			}
		}
		complete_effect = {
			833 = {
				create_unit = {
					division = "name = \"1. Extrany Diviziya\" division_template = \"Extrany Diviziya\" start_experience_factor = 0.1"
					owner = ROOT
					count = 4
				}
			}
		}
		ai_will_do = {
			base = 4000
		}
	}
	SOV_832_wartime_mobilization = {
		icon = GFX_decision_generic_civil_support
		allowed = {
			original_tag = SOV
		}
		visible = {
			has_global_flag = soviet_civilwar_focus
		}
		available = {
			ROOT = { controls_state = 832 }
		}
		cost = 50
		fire_only_once = yes
		highlight_states = {
			highlight_state_targets = {
				state = 832
			}
		}
		complete_effect = {
			832 = {
				create_unit = {
					division = "name = \"1. Extrany Diviziya\" division_template = \"Extrany Diviziya\" start_experience_factor = 0.1"
					owner = ROOT
					count = 4
				}
			}
		}
		ai_will_do = {
			base = 4000
		}
	}
	SOV_564_wartime_mobilization = {
		icon = GFX_decision_generic_civil_support
		allowed = {
			original_tag = SOV
		}
		visible = {
			has_global_flag = soviet_civilwar_focus
		}
		available = {
			ROOT = { controls_state = 564 }
		}
		cost = 50
		fire_only_once = yes
		highlight_states = {
			highlight_state_targets = {
				state = 564
			}
		}
		complete_effect = {
			564 = {
				create_unit = {
					division = "name = \"1. Extrany Diviziya\" division_template = \"Extrany Diviziya\" start_experience_factor = 0.1"
					owner = ROOT
					count = 4
				}
			}
		}
		ai_will_do = {
			base = 4000
		}
	}
}

###Russia
RUS_regional_stabilization = {
	RUS_complete_of_stabilization = {
		icon = GFX_decision_generic_civil_support
		allowed = {
			original_tag = RUS
		}
		days_mission_timeout = 5
		activation = {
			original_tag = RUS
			has_idea = RUS_Remnants_of_Communism
			has_country_flag = kill_communists_flag
			AND = {
				OR = {
					AND = {
						check_variable = { 213:RUS_stabilization_var = 100 }
						check_variable = { 213:gui_display_frame_rus = 1000 }
					}
					check_variable = { 213:gui_display_frame_rus = 6000 }
				}
				OR = {
					AND = {
						check_variable = { 214:RUS_stabilization_var = 100 }
						check_variable = { 214:gui_display_frame_rus = 1000 }
					}
					check_variable = { 214:gui_display_frame_rus = 6000 }
				}
				OR = {
					AND = {
						check_variable = { 195:RUS_stabilization_var = 100 }
						check_variable = { 195:gui_display_frame_rus = 1000 }
					}
					check_variable = { 195:gui_display_frame_rus = 6000 }
				}
				OR = {
					AND = {
						check_variable = { 219:RUS_stabilization_var = 100 }
						check_variable = { 219:gui_display_frame_rus = 1000 }
					}
					check_variable = { 219:gui_display_frame_rus = 6000 }
				}
				OR = {
					AND = {
						check_variable = { 829:RUS_stabilization_var = 100 }
						check_variable = { 829:gui_display_frame_rus = 1000 }
					}
					check_variable = { 829:gui_display_frame_rus = 6000 }
				}
				OR = {
					AND = {
						check_variable = { 249:RUS_stabilization_var = 100 }
						check_variable = { 249:gui_display_frame_rus = 1000 }
					}
					check_variable = { 249:gui_display_frame_rus = 6000 }
				}
				OR = {
					AND = {
						check_variable = { 825:RUS_stabilization_var = 100 }
						check_variable = { 825:gui_display_frame_rus = 1000 }
					}
					check_variable = { 825:gui_display_frame_rus = 6000 }
				}
			}
		}
		allowed = {
			original_tag = RUS
		}
		available = {
			ROOT = { exists = no }
		}
		timeout_effect = {
			remove_ideas = RUS_Remnants_of_Communism
		}
	}

	RUS_regional_stabilization_debug = {
		icon = GFX_decision_eng_trade_unions_support
		allowed = {
			original_tag = RUS
		}
		available = {
			
		}
		visible = {
			is_debug = yes
		}

		cost = 0
		days_remove = 0

		fire_only_once = no

		complete_effect = {
			set_variable = { 213:RUS_stabilization_var = 100 }
			set_variable = { 214:RUS_stabilization_var = 100 }
			set_variable = { 195:RUS_stabilization_var = 100 }
			set_variable = { 219:RUS_stabilization_var = 100 }
			set_variable = { 829:RUS_stabilization_var = 100 }
			set_variable = { 249:RUS_stabilization_var = 100 }
			set_variable = { 825:RUS_stabilization_var = 100 }
			stabilization_map_calculate_frame = yes
		}
	}

	RUS_regional_stabilization_debug_2 = {
		icon = GFX_decision_eng_trade_unions_support
		allowed = {
			original_tag = RUS
		}
		available = {
			
		}
		visible = {
			is_debug = yes
		}

		cost = 0
		days_remove = 0

		fire_only_once = no

		complete_effect = {
			set_variable = { 213:RUS_stabilization_var = 0 }
			set_variable = { 214:RUS_stabilization_var = 0 }
			set_variable = { 195:RUS_stabilization_var = 0 }
			set_variable = { 219:RUS_stabilization_var = 0 }
			set_variable = { 829:RUS_stabilization_var = 0 }
			set_variable = { 249:RUS_stabilization_var = 0 }
			set_variable = { 825:RUS_stabilization_var = 0 }
			stabilization_map_calculate_frame = yes
		}
	}

	RUS_regional_stabilization_debug_3 = {
		icon = GFX_decision_eng_trade_unions_support
		allowed = {
			original_tag = RUS
		}
		available = {
			
		}
		visible = {
			is_debug = yes
		}

		cost = 0
		days_remove = 0

		fire_only_once = no

		complete_effect = {
			for_each_loop = {
				array = TUR_central_map_array
				var:v = {
					set_variable = { gui_display_frame_tur = 6000 }
				}
			}
		}
	}

	RUS_regional_stabilization_debug_4 = {
		icon = GFX_decision_eng_trade_unions_support
		allowed = {
			original_tag = RUS
		}
		available = {
			
		}
		visible = {
			is_debug = yes
		}

		cost = 0
		days_remove = 0

		fire_only_once = no

		complete_effect = {
			setup_rus_stabilization_map = yes
		}
	}
}

RUS_influence_of_germany = {
	RUS_adjusting_autonomy = {
		icon = GFX_decision_generic_police_action
		allowed = {
			original_tag = RUS
		}
		days_mission_timeout = 10
		activation = {
			original_tag = RUS
			is_subject_of = GER
			compare_autonomy_progress_ratio > 0.75
		}
		allowed = {
			original_tag = RUS
		}
		available = {
			compare_autonomy_progress_ratio < 0.75
			NOT = { is_subject_of = GER }
		}
		timeout_effect = {
			add_autonomy_ratio = {
				value = -0.25
				localization = adjusting_autonomy_tt
			}
		}
	}
	Receive_financial_assistance_from_Germany = {
		icon = GFX_decision_generic_welfare
		allowed = {
			original_tag = RUS
		}
		visible = {
			is_subject_of = GER
		}
		cost = 30
		days_remove = 50
		modifier = {
			consumer_goods_factor = -0.05
		}
		ai_will_do = {
			base = 0
			modifier = {
				add = 4000
				check_variable = { RUS_influence_of_germany_progress_var < 30 }
			}
		}
		remove_effect = {
			German_influence_add_2_5 = yes
		}
	}
	Receive_technical_assistance_from_Germany = {
		icon = GFX_decision_generic_wreckers
		allowed = {
			original_tag = RUS
		}
		visible = {
			is_subject_of = GER
		}
		cost = 30
		days_remove = 50
		modifier = {
			production_factory_efficiency_gain_factor = 0.05
			production_factory_max_efficiency_factor = 0.05
			production_factory_start_efficiency_factor = 0.05
		}
		ai_will_do = {
			base = 0
			modifier = {
				add = 4000
				check_variable = { RUS_influence_of_germany_progress_var < 30 }
			}
		}
		remove_effect = {
			German_influence_add_2_5 = yes
		}
	}
	request_german_equipment = {
		icon = GFX_decision_generic_industry
		allowed = {
			original_tag = RUS
		}
		visible = {
			is_subject_of = GER
			has_completed_focus = RUS_support_from_germany
		}
		cost = 50
		days_remove = 15
		remove_effect = {
			GER = { country_event = soviet_rework_white.002 }
		}
	}
	RUS_write_own_constitution = {
		icon = GFX_decision_generic_decision
		allowed = {
			original_tag = RUS
		}
		visible = {
			is_subject_of = GER
			OR = {
				has_completed_focus = RUS_Independent_Russia
				NOT = { has_war_with = SOV }
			}
		}
		available = {
			OR = {
				has_completed_focus = RUS_consolidate_power
				has_completed_focus = RUS_country_of_tsar
			}
			custom_trigger_tooltip = {
				tooltip = RUS_influence_of_germany_progress_var_over_50_tt		
				check_variable = { RUS_influence_of_germany_progress_var > 50 }
			}
		}
		ai_will_do = {
			base = 0
			modifier = {
				add = 4000
				check_variable = { RUS_influence_of_germany_progress_var > 70 }
			}
		}
		cost = 25
		days_remove = 30
		remove_effect = {
			German_influence_remove_2_5 = yes
		}
	}
	RUS_Rising_Russian_Nationalism = {
		icon = GFX_decision_SWI_no_elected_president
		allowed = {
			original_tag = RUS
		}
		visible = {
			is_subject_of = GER
			OR = {
				has_completed_focus = RUS_Independent_Russia
				NOT = { has_war_with = SOV }
			}
		}
		available = {
			OR = {
				NOT = { has_war_with = SOV }
				AND = {
					has_war_with = SOV
					custom_trigger_tooltip = {
						tooltip = RUS_influence_of_germany_progress_var_over_50_tt		
						check_variable = { RUS_influence_of_germany_progress_var > 50 }
					}
				}
			}
		}
		cost = 25
		days_remove = 30
		remove_effect = {
			German_influence_remove_2_5 = yes
		}
	}
	RUS_too_high_influence = {
		icon = GFX_decision_generic_political_discourse
		allowed = {
			original_tag = RUS
		}
		days_mission_timeout = 10
		activation = {
			original_tag = RUS
			is_subject_of = GER
			NOT = { has_idea = slave_of_germanians }
			check_variable = { RUS_influence_of_germany_progress_var > 79 }
		}
		allowed = {
			original_tag = RUS
		}
		available = {
			check_variable = { RUS_influence_of_germany_progress_var < 80 }
			NOT = { is_subject_of = GER }
		}
		timeout_effect = {
			GER = { country_event = soviet_rework_white.032 }
		}
	}
	RUS_middle_influence = {
		icon = GFX_decision_generic_political_discourse
		allowed = {
			original_tag = RUS
		}
		days_mission_timeout = 10
		activation = {
			original_tag = RUS
			is_subject_of = GER
			has_idea = slave_of_germanians
			check_variable = { RUS_influence_of_germany_progress_var < 80 }
		}
		allowed = {
			original_tag = RUS
		}
		available = {
			check_variable = { RUS_influence_of_germany_progress_var > 79 }
		}
		timeout_effect = {
			GER = { country_event = soviet_rework_white.033 }
		}
	}
	RUS_too_low_influence = {
		icon = GFX_decision_generic_political_discourse
		allowed = {
			original_tag = RUS
		}
		days_mission_timeout = 10
		activation = {
			original_tag = RUS
			is_subject_of = GER
			NOT = { has_country_flag = flag_for_decision }
			check_variable = { RUS_influence_of_germany_progress_var < 21 }
		}
		allowed = {
			original_tag = RUS
		}
		available = {
			check_variable = { RUS_influence_of_germany_progress_var > 20 }
			NOT = { is_subject_of = GER }
		}
		timeout_effect = {
			GER = { country_event = soviet_rework_white.007 }
			set_country_flag = flag_for_decision
		}
	}
}
RUS_contorl_the_state = {
	RUS_take_our_land = {
		icon = GFX_decision_hol_draw_up_staff_plans
		allowed = {
			original_tag = RUS
		}
		state_target = yes
		target_trigger = {
			FROM = {
				is_russian_land = yes
				NOT = { is_controlled_by = RUS }
			}
		}
		available = {
			any_other_country = {
				is_in_faction_with = RUS
				has_full_control_of_state = FROM
			}
		}
		visible = {
			has_war_with = SOV
			NOT = {
				every_state = {
					is_core_of = RUS
					is_controlled_by = RUS
				}
			}
			FROM = {
				NOT = { is_controlled_by = RUS }
			}
		}
		complete_effect = {
			RUS = { set_state_controller = FROM }
		}
		ai_will_do = {
			base = 4000
		}
	}
}
collect_the_legacy_of_the_White_Army = {
	to_contact_Krasnov = {
		icon = GFX_decision_generic_army_support
		allowed = {
			original_tag = RUS
		}
		visible = {
			has_completed_focus = SOV_Dream_of_the_Russian_Republic
		}
		fire_only_once = yes
		cost = 10
		complete_effect = {
			custom_effect_tooltip = set_character_flag_RUS
			RUS = {
				RUS_pyotr_krasnov = {
					set_character_flag = RUS_civilwar
				}
			}
		}
		ai_will_do = {
			base = 4000
		}
	}
	to_contact_miller = {
		icon = GFX_decision_generic_army_support
		allowed = {
			original_tag = RUS
		}
		visible = {
			has_completed_focus = SOV_Dream_of_the_Russian_Republic
		}
		fire_only_once = yes
		cost = 10
		complete_effect = {
			custom_effect_tooltip = set_character_flag_RUS
			RUS = {
				RUS_yevgenyludvig_karlovich_miller = {
					set_character_flag = RUS_civilwar
				}
			}
		}
		ai_will_do = {
			base = 4000
		}
	}
	to_contact_bermondtavalov = {
		icon = GFX_decision_generic_army_support
		allowed = {
			original_tag = RUS
		}
		visible = {
			has_completed_focus = SOV_Dream_of_the_Russian_Republic
		}
		fire_only_once = yes
		cost = 10
		complete_effect = {
			custom_effect_tooltip = set_character_flag_RUS
			RUS = {
				RUS_pavel_rafalovich_bermondtavalov = {
					set_character_flag = RUS_civilwar
				}
			}
		}
		ai_will_do = {
			base = 4000
		}
	}
	to_contact_flug = {
		icon = GFX_decision_generic_army_support
		allowed = {
			original_tag = RUS
		}
		visible = {
			has_completed_focus = SOV_Dream_of_the_Russian_Republic
		}
		fire_only_once = yes
		cost = 10
		complete_effect = {
			custom_effect_tooltip = set_character_flag_RUS
			RUS = {
				RUS_vasily_flug = {
					set_character_flag = RUS_civilwar
				}
			}
		}
		ai_will_do = {
			base = 4000
		}
	}
	to_contact_kappel = {
		icon = GFX_decision_generic_army_support
		allowed = {
			original_tag = RUS
		}
		visible = {
			has_completed_focus = SOV_Dream_of_the_Russian_Republic
		}
		fire_only_once = yes
		cost = 10
		complete_effect = {
			custom_effect_tooltip = set_character_flag_RUS
			RUS = {
				RUS_vladimir_kappel = {
					set_character_flag = RUS_civilwar
				}
			}
		}
		ai_will_do = {
			base = 4000
		}
	}
	to_contact_glazenap = {
		icon = GFX_decision_generic_army_support
		allowed = {
			original_tag = RUS
		}
		visible = {
			has_completed_focus = SOV_Dream_of_the_Russian_Republic
		}
		fire_only_once = yes
		cost = 10
		complete_effect = {
			custom_effect_tooltip = set_character_flag_RUS
			RUS = {
				RUS_pyotr_fon_glazenap = {
					set_character_flag = RUS_civilwar
				}
			}
		}
		ai_will_do = {
			base = 4000
		}
	}
	to_contact_vitkovsky = {
		icon = GFX_decision_generic_army_support
		allowed = {
			original_tag = RUS
		}
		visible = {
			has_completed_focus = SOV_Dream_of_the_Russian_Republic
		}
		fire_only_once = yes
		cost = 10
		complete_effect = {
			custom_effect_tooltip = set_character_flag_RUS
			RUS = {
				RUS_vladimir_vitkovsky = {
					set_character_flag = RUS_civilwar
				}
			}
		}
		ai_will_do = {
			base = 4000
		}
	}
	to_contact_rodzyanko = {
		icon = GFX_decision_generic_army_support
		allowed = {
			original_tag = RUS
		}
		visible = {
			has_completed_focus = SOV_Dream_of_the_Russian_Republic
		}
		fire_only_once = yes
		cost = 10
		complete_effect = {
			custom_effect_tooltip = set_character_flag_RUS
			RUS = {
				RUS_alexandr_rodzyanko = {
					set_character_flag = RUS_civilwar
				}
			}
		}
		ai_will_do = {
			base = 4000
		}
	}
	to_contact_kutepov = {
		icon = GFX_decision_generic_army_support
		allowed = {
			original_tag = RUS
		}
		visible = {
			has_completed_focus = SOV_Dream_of_the_Russian_Republic
		}
		fire_only_once = yes
		cost = 10
		complete_effect = {
			custom_effect_tooltip = set_character_flag_RUS
			RUS = {
				RUS_aleksandr_kutepov = {
					set_character_flag = RUS_civilwar
				}
			}
		}
		ai_will_do = {
			base = 4000
		}
	}
	to_contact_dragomirov = {
		icon = GFX_decision_generic_army_support
		allowed = {
			original_tag = RUS
		}
		visible = {
			has_completed_focus = SOV_Dream_of_the_Russian_Republic
		}
		fire_only_once = yes
		cost = 10
		complete_effect = {
			custom_effect_tooltip = set_character_flag_RUS
			RUS = {
				RUS_abram_dragomirov = {
					set_character_flag = RUS_civilwar
				}
			}
		}
		ai_will_do = {
			base = 4000
		}
	}
	to_contact_barbovitch = {
		icon = GFX_decision_generic_army_support
		allowed = {
			original_tag = RUS
		}
		visible = {
			has_completed_focus = SOV_Dream_of_the_Russian_Republic
		}
		fire_only_once = yes
		cost = 10
		complete_effect = {
			custom_effect_tooltip = set_character_flag_RUS
			RUS = {
				RUS_ivan_barbovitch = {
					set_character_flag = RUS_civilwar
				}
			}
		}
		ai_will_do = {
			base = 4000
		}
	}
	to_contact_kharzhevsky = {
		icon = GFX_decision_generic_army_support
		allowed = {
			original_tag = RUS
		}
		visible = {
			has_completed_focus = SOV_Dream_of_the_Russian_Republic
		}
		fire_only_once = yes
		cost = 10
		complete_effect = {
			custom_effect_tooltip = set_character_flag_RUS
			RUS = {
				RUS_vladimir_kharzhevsky = {
					set_character_flag = RUS_civilwar
				}
			}
		}
		ai_will_do = {
			base = 4000
		}
	}
}

RUS_wartime_mobilization = {
	RUS_public_conscription = {
		icon = GFX_decision_generic_civil_support
		allowed = {
			original_tag = RUS
		}
		visible = {
			has_war_with = SOV
			check_variable = { count_conscription < 6 }
		}
		available = {
			check_variable = { count_conscription < 6 }
		}
		cost = 50
		days_remove = 30
		remove_effect = {
			random_owned_controlled_state = {
				limit = {
					NOT = { has_state_flag = already_conscription }
					is_controlled_by = RUS
				}
				create_unit = {
					division = "name = \"1. White Guard Corps\" division_template = \"White Guard Corps\" start_experience_factor = 0.1"
					owner = ROOT
					count = 3
				}
				create_unit = {
					division = "name = \"1. White Guard Cavalry\" division_template = \"White Guard Cavalry\" start_experience_factor = 0.1"
					owner = ROOT
					count = 1
				}
				set_state_flag = already_conscription
			}
			add_to_variable = { count_conscription = 1 }
		}
		ai_will_do = {
			base = 4000
		}
	}
}

RUS_wartime_mobilization_against_ger = {
	RUS_ger_rus_war = {
		icon = GFX_decision_generic_ignite_civil_war
		allowed = {
			OR = {
				original_tag = RUS
				original_tag = GER
			}
		}
		priority = 100
		visible = {
			OR = {
				has_war_with = GER
				has_war_with = RUS
			}
		}
		activation = {
			OR = {
				has_war_with = GER
				has_war_with = RUS
			}
		}
		available = {
			NOT = {
				OR = {
					has_war_with = GER
					has_war_with = RUS
				}
			}
		}
		days_mission_timeout = 365
		remove_effect = {
			GER = {
				add_stability = -0.05
				add_war_support = -0.05
			}
			news_event = soviet_rework_white.064
		}
	}
	RUS_public_conscription_against_ger = {
		icon = GFX_decision_generic_civil_support
		allowed = {
			original_tag = RUS
		}
		visible = {
			has_war_with = GER
			check_variable = { count_conscription_AG < 6 }
		}
		available = {
			check_variable = { count_conscription_AG < 6 }
		}
		cost = 50
		days_remove = 30
		remove_effect = {
			random_owned_controlled_state = {
				limit = {
					NOT = { has_state_flag = already_conscription_AG }
					is_controlled_by = RUS
				}
				create_unit = {
					division = "name = \"1. White Guard Corps\" division_template = \"White Guard Corps\" start_experience_factor = 0.1"
					owner = ROOT
					count = 3
				}
				create_unit = {
					division = "name = \"1. White Guard Cavalry\" division_template = \"White Guard Cavalry\" start_experience_factor = 0.1"
					owner = ROOT
					count = 1
				}
				set_state_flag = already_conscription_AG
			}
			add_to_variable = { count_conscription = 1 }
		}
		ai_will_do = {
			base = 4000
		}
	}
	RUS_focus_on_defence = {
		icon = GFX_decision_generic_belgian_colonial_helmet
		allowed = {
			original_tag = RUS
		}
		visible = {
			has_war_with = GER
		}
		available = {
			NOT = { has_country_flag = doing_operation_rus_flag }
		}
		custom_cost_trigger = {
			command_power > 9
		}
		custom_cost_text = RUS_focus_on_oper_tt
		days_remove = 80
		modifier = {
			targeted_modifier = {
				tag = GER
				army_defence_factor = 0.1
			}
			army_org_factor = 0.1
			dig_in_speed_factor = 0.1
		}
		complete_effect = {
			set_country_flag = doing_operation_rus_flag
		}
		remove_effect = {
			clr_country_flag = doing_operation_rus_flag
		}
		ai_will_do = {
			base = 0
			modifier = {
				add = 4000
				surrender_progress > 0
			}
		}
	}
	RUS_focus_on_attack = {
		icon = GFX_decision_generic_belgian_colonial_helmet
		allowed = {
			original_tag = RUS
		}
		visible = {
			has_war_with = GER
		}
		available = {
			NOT = { has_country_flag = doing_operation_rus_flag }
		}
		custom_cost_trigger = {
			command_power > 9
		}
		custom_cost_text = RUS_focus_on_oper_tt
		days_remove = 80
		modifier = {
			targeted_modifier = {
				tag = GER
				army_attack_factor = 0.1
			}
			land_night_attack = 0.1
			max_planning_factor = 0.1
		}
		complete_effect = {
			set_country_flag = doing_operation_rus_flag
		}
		remove_effect = {
			clr_country_flag = doing_operation_rus_flag
		}
		ai_will_do = {
			base = 0
			modifier = {
				add = 4000
				surrender_progress < 0
			}
		}
	}
}

RUS_equipment_support = {
	RUS_equipment_support_about_russia = {
		icon = GFX_decision_generic_industry
		allowed = {
			ROOT = { is_major = yes }
		}
		visible = {
			has_global_flag = second_russian_civilwar
			RUS = { exists = yes }
			ROOT = { is_major = yes NOT = { has_government = communism } }
		}
		available = {
			ROOT = { is_major = yes NOT = { has_government = communism } }
			has_equipment = {
				infantry_equipment > 1999
			}
		}
		fire_only_once = yes
		complete_effect = {
			send_equipment = {
				target = RUS
				type = infantry_equipment
				amount = 2000
			}
			RUS = { country_event = Soviet.48 }
		}
		ai_will_do = {
			base = 4000
		}
	}
}

SOV_military_crisis = {
	SOV_collapsing_army_decision = {
		icon = GFX_decision_generic_ignite_civil_war
		days_mission_timeout = 200
		activation = {
			original_tag = SOV
			has_idea = SOV_army_in_confusion
		}
		allowed = {
			original_tag = SOV
		}
		available = {
			NOT = { has_idea = SOV_army_in_confusion }
		}
		timeout_effect = {
			swap_ideas = {
				remove_idea = SOV_army_in_confusion
				add_idea = SOV_collapsing_army
			}
		}
	} 
}

RUS_Propaganda = {
	RUS_propaganda_construction_mobilization = { # ID = 2
		priority = 2
		icon = eng_propaganda_campaigns
		ai_will_do = {
			base = 0
			modifier = {
				add = 30
				has_equipment = {
					num_of_factories < 80
				}
			}
			modifier = {
				add = 40
				has_equipment = {
					num_of_factories < 50
				}
			}
		}
		allowed = { original_tag = RUS }
		available = {
			RUS_wartime_propaganda_poster_slot_available = yes
		}
		visible = {
			OR = {
				has_completed_focus = RUS_rebuilding_the_ruins
				NOT = { has_war_with = SOV }
			}
		}
		days_remove = 180
		days_re_enable = 100
		cost = 30
		modifier = {
			production_speed_buildings_factor = 0.05
		}
		complete_effect = {
			set_variable = { RUS_new_wartime_propaganda_campaign = 2 }
			RUS_pick_wartime_propaganda_campaign_slot_effect = yes
		}
		remove_effect = {
			set_variable = { RUS_wartime_propaganda_campaign_to_remove = 2 }
			RUS_reset_wartime_propaganda_campaign_slot_effect = yes
		}
	}
	RUS_propaganda_production_increase = { # ID = 3
		priority = 3
		icon = eng_propaganda_campaigns
		ai_will_do = {
			base = 0
			modifier = {
				add = 30
				has_equipment = {
					infantry_equipment < -1000
				}
			}
			modifier = {
				add = 40
				has_equipment = {
					infantry_equipment < -2000
				}
			}
		}
		allowed = { original_tag = RUS }
		available = {
			RUS_wartime_propaganda_poster_slot_available = yes
		}
		visible = {
			OR = {
				has_completed_focus = RUS_rebuilding_the_ruins
				NOT = { has_war_with = SOV }
			}
		}
		days_remove = 180
		days_re_enable = 100
		cost = 30
		modifier = {
			industrial_capacity_factory = 0.05
			industrial_capacity_dockyard = 0.05
		}
		complete_effect = {
			set_variable = { RUS_new_wartime_propaganda_campaign = 3 }
			RUS_pick_wartime_propaganda_campaign_slot_effect = yes
		}
		remove_effect = {
			set_variable = { RUS_wartime_propaganda_campaign_to_remove = 3 }
			RUS_reset_wartime_propaganda_campaign_slot_effect = yes
		}
	}
	RUS_propaganda_liberate_russia = { # ID = 4
		priority = 4
		icon = eng_propaganda_campaigns
		ai_will_do = {
			base = 0
			modifier = {
				add = 30
				surrender_progress < 0.1
			}
			modifier = {
				add = 40
				surrender_progress < 0
			}
		}
		allowed = { original_tag = RUS }
		available = {
			RUS_wartime_propaganda_poster_slot_available = yes
			has_war_with = SOV
		}
		visible = {
			has_completed_focus = RUS_rebuilding_the_ruins
			has_war_with = SOV
		}
		days_remove = 180
		days_re_enable = 100
		cost = 30
		modifier = {
			breakthrough_factor = 0.05
			army_attack_factor = 0.05
		}
		complete_effect = {
			set_variable = { RUS_new_wartime_propaganda_campaign = 4 }
			RUS_pick_wartime_propaganda_campaign_slot_effect = yes
		}
		remove_effect = {
			set_variable = { RUS_wartime_propaganda_campaign_to_remove = 4 }
			RUS_reset_wartime_propaganda_campaign_slot_effect = yes
		}
	}
	RUS_propaganda_conscripting_materials = { # ID = 5
		priority = 5
		icon = eng_propaganda_campaigns
		ai_will_do = {
			base = 0
		}
		allowed = { original_tag = RUS }
		available = {
			RUS_wartime_propaganda_poster_slot_available = yes
		}
		visible = {
			OR = {
				has_completed_focus = RUS_rebuilding_the_ruins
				NOT = { has_war_with = SOV }
			}
			has_war = yes
		}
		days_remove = 180
		days_re_enable = 100
		cost = 30
		modifier = {
			consumer_goods_factor = -0.05
			supply_consumption_factor = -0.025
		}
		complete_effect = {
			set_variable = { RUS_new_wartime_propaganda_campaign = 5 }
			RUS_pick_wartime_propaganda_campaign_slot_effect = yes
		}
		remove_effect = {
			set_variable = { RUS_wartime_propaganda_campaign_to_remove = 5 }
			RUS_reset_wartime_propaganda_campaign_slot_effect = yes
		}
	}
	RUS_propaganda_stability = { # ID = 6
		priority = 6
		icon = eng_propaganda_campaigns
		ai_will_do = {
			base = 0
			modifier = {
				has_idea = RUS_Remnants_of_Communism
				has_stability < 0.5
				add = 4000
			}
		}
		allowed = { original_tag = RUS }
		available = {
			RUS_wartime_propaganda_poster_slot_available = yes
		}
		visible = {
			has_country_flag = you_must_keep_stability_flag
		}
		days_remove = 90
		cost = 30
		modifier = {
			stability_weekly = 0.006
		}
		complete_effect = {
			set_variable = { RUS_new_wartime_propaganda_campaign = 6 }
			RUS_pick_wartime_propaganda_campaign_slot_effect = yes
		}
		remove_effect = {
			set_variable = { RUS_wartime_propaganda_campaign_to_remove = 6 }
			RUS_reset_wartime_propaganda_campaign_slot_effect = yes
		}
	}
}
RUS_Movement_of_the_Russian_Freedom_Army = {
	RUS_The_time_we_have_left = {
		icon = GFX_decision_revolt
		days_mission_timeout = 120
		activation = {
			original_tag = RUS
			has_country_flag = SOV_denikin_coup_start_flag
		}
		allowed = {
			original_tag = RUS
		}
		available = {
			NOT = { has_country_flag = SOV_denikin_coup_start_flag }
		}
		visible = {
			has_country_flag = SOV_denikin_coup_start_flag
		}
		priority = 150
		fire_only_once = yes
		timeout_effect = {
			clr_country_flag = SOV_denikin_coup_start_flag
			hidden_effect = {
				if = {
					limit = {
						check_variable = { RUS_denikin_coup_progress_var = 100 }
					}
					random_list = {
						100 = {
							set_country_flag = SOV_denikin_victory
						}
						0 = {
							set_country_flag = SOV_denikin_fail
						}
					}
				}
				else_if = {
					limit = {
						check_variable = { RUS_denikin_coup_progress_var > 80 }
					}
					random_list = {
						90 = {
							set_country_flag = SOV_denikin_victory
						}
						10 = {
							set_country_flag = SOV_denikin_fail
						}
					}
				}
				else_if = {
					limit = {
						check_variable = { RUS_denikin_coup_progress_var > 60 }
					}
					random_list = {
						70 = {
							set_country_flag = SOV_denikin_victory
						}
						30 = {
							set_country_flag = SOV_denikin_fail
						}
					}
				}
				else_if = {
					limit = {
						check_variable = { RUS_denikin_coup_progress_var > 40 }
					}
					random_list = {
						50 = {
							set_country_flag = SOV_denikin_victory
						}
						50 = {
							set_country_flag = SOV_denikin_fail
						}
					}
				}
				else_if = {
					limit = {
						check_variable = { RUS_denikin_coup_progress_var > 20 }
					}
					random_list = {
						30 = {
							set_country_flag = SOV_denikin_victory
						}
						70 = {
							set_country_flag = SOV_denikin_fail
						}
					}
				}
				else_if = {
					limit = {
						check_variable = { RUS_denikin_coup_progress_var > 0 }
					}
					random_list = {
						10 = {
							set_country_flag = SOV_denikin_victory
						}
						90 = {
							set_country_flag = SOV_denikin_fail
						}
					}
				}
				else = {
					random_list = {
						0 = {
							set_country_flag = SOV_denikin_victory
						}
						100 = {
							set_country_flag = SOV_denikin_fail
						}
					}
				}
			}
			country_event = soviet_rework_white.031
		}
	} 
}

RUS_Movement_of_the_royalists = {
	RUS_The_time_we_have_left_royalists = {
		icon = GFX_decision_revolt
		days_mission_timeout = 55
		activation = {
			original_tag = RUS
			has_country_flag = RUS_with_royalists_flag
		}
		allowed = {
			original_tag = RUS
		}
		available = {
			NOT = { has_country_flag = RUS_with_royalists_flag }
		}
		visible = {
			has_country_flag = RUS_with_royalists_flag
		}
		priority = 150
		fire_only_once = yes
		timeout_effect = {
			clr_country_flag = RUS_with_royalists_flag
			hidden_effect = {
				if = {
					limit = {
						check_variable = { RUS_royalists_progress_var > 50 }
					}
					set_country_flag = victory_of_royalists
				}
				else = {
					set_country_flag = victory_of_arkhangelsky
				}
			}
			country_event = soviet_rework_white.056
		}
	} 
}

RUS_military_reformation = {
	RUS_quash_dissatisfaction_of_military = {
		icon = GFX_decision_generic_army_support
		visible = { 
			OR = {
				has_idea = RUS_very_strong_dissatisfaction_of_the_military
				has_idea = RUS_strong_dissatisfaction_of_the_military
				has_idea = RUS_medium_dissatisfaction_of_the_military
				has_idea = RUS_low_dissatisfaction_of_the_military
			}
		}
		days_remove = 80
		cost = 10
		custom_cost_trigger = {
			command_power > 9
		}
		custom_cost_text = RUS_focus_on_oper_tt
		ai_will_do = {
			base = 4000
		}
		remove_effect = {
			if = {
				limit = {
					has_idea = RUS_very_strong_dissatisfaction_of_the_military
				}
				swap_ideas = {
					remove_idea = RUS_very_strong_dissatisfaction_of_the_military
					add_idea = RUS_strong_dissatisfaction_of_the_military
				}
			}
			else_if = {
				limit = {
					has_idea = RUS_strong_dissatisfaction_of_the_military
				}
				swap_ideas = {
					remove_idea = RUS_strong_dissatisfaction_of_the_military
					add_idea = RUS_medium_dissatisfaction_of_the_military
				}
			}
			else_if = {
				limit = {
					has_idea = RUS_medium_dissatisfaction_of_the_military
				}
				swap_ideas = {
					remove_idea = RUS_medium_dissatisfaction_of_the_military
					add_idea = RUS_low_dissatisfaction_of_the_military
				}
			}
			else = {
				remove_ideas = RUS_low_dissatisfaction_of_the_military
			}
		}
	}
}

RUS_land_reform = {
	RUS_advancing_land_reform = {
		icon = GFX_decision_generic_operation
		visible = { 
			has_completed_focus = RUS_large_scale_land_reform
		}
		days_remove = 80
		cost = 10
		ai_will_do = {
			base = 4000
		}
		remove_effect = {
			add_5_land_reform = yes
			if = {
				limit = {
					check_variable = {
						RUS_land_reform_var > 94
					}
				}
				add_ideas = RUS_completed_land_reform
			}
		}
	}
}