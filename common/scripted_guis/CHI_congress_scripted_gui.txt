scripted_gui = {

	chi_house_congress_decision_ui = {
		context_type = decision_category
		window_name = "chi_house_congress_decision_ui_window"

		properties = {
			house_second_icon = {
				frame = chi_current_house_icon_frame
			}
		}
		
		triggers = {
			house_second_support_text_visible = {
				has_global_flag = chinese_civil_war
			}
			house_second_support_full_text_visible = {
				NOT = {
					has_global_flag = chinese_civil_war
				}
			}
			chi_house_congress_gui_button_click_enabled = {
				is_subject = no
				NOT = { has_country_flag = CHI_wu_peifu_in_power }
			}
		}
		
		effects = {
			chi_house_congress_gui_button_click = {
				if = {
					limit = {
						has_country_flag = chi_house_congress_gui_open
					}
					clr_country_flag = chi_house_congress_gui_open
				}
				else = {
					set_country_flag = chi_house_congress_gui_open
				}
			}
		}
	}
	parliament_window_CHI = {
		context_type = player_context
		parent_window_token = top_bar
		window_name = "parliament_gui_container_CHI"

		visible = {
			original_tag = CHI
			has_country_flag = chi_house_congress_gui_open
			NOT = { has_country_flag = CHI_parliament_senate_open_flag }
		}

		effects = {
			close_button_click = {
				clr_country_flag = chi_house_congress_gui_open
			}
			senate_button_click = {
				set_country_flag = CHI_parliament_senate_open_flag
			}
			parliament_law_button_click = {
				set_country_flag = parliament_law_button_open_flag
			}
		}
		dynamic_lists = {
			parliament_semicircle_main_grid_CHI = {
				array = CHI.parliament_main_array
				index = CHI.parliament_main_index
				change_scope = no
				entry_container = parliament_semicircle_main_entry_CHI
			}
			parliament_member_grid_CHI = {
				array = CHI.parliament_member_array
				index = CHI.parliament_member_index
				change_scope = no
				entry_container = parliament_member_entry_CHI
			}
		}

		properties = {
			parliament_semicircle_main_icon_CHI = {
				frame = CHI.v
				x = CHI.parliament_x_array^CHI.parliament_main_index
				y = CHI.parliament_y_array^CHI.parliament_main_index
			}
			parliament_member_icon_CHI = {
				frame = CHI.v
			}
		}
	}
	CHI_senate_parliament_window_CHI = {
		context_type = player_context
		parent_window_token = top_bar
		window_name = "senate_parliament_gui_container_CHI"

		visible = {
			original_tag = CHI
			has_country_flag = chi_house_congress_gui_open
			has_country_flag = CHI_parliament_senate_open_flag
		}

		effects = {
			senate_close_button_click = {
				clr_country_flag = chi_house_congress_gui_open
			}
			representatives_button_click = {
				clr_country_flag = CHI_parliament_senate_open_flag
			}
		}

		dynamic_lists = {
			parliament_main_grid_CHI = {
				array = CHI.Senate_parliament_main_array
				index = CHI.parliament_main_index
				change_scope = no
				entry_container = parliament_main_entry_CHI
			}
			senate_parliament_member_grid_CHI = {
				array = CHI.parliament_member_array
				index = CHI.parliament_member_index
				change_scope = no
				entry_container = parliament_member_entry_CHI
			}
		}

		properties = {
			parliament_main_icon_CHI = {
				frame = CHI.v
				x = CHI.senate_parliament_x_array^CHI.parliament_main_index
				y = CHI.senate_parliament_y_array^CHI.parliament_main_index
			}
			parliament_member_icon_CHI = {
				frame = CHI.v
			}
		}
	}
	parliament_law_history_container_CHI = {
		context_type = player_context
		parent_window_token = top_bar
		window_name = "parliament_law_history_container_CHI"
		visible = {
			original_tag = CHI
			has_country_flag = chi_house_congress_gui_open
			NOT = { has_country_flag = CHI_parliament_senate_open_flag }
			has_country_flag = parliament_law_button_open_flag
		}
		dynamic_lists = {
			parliament_history_grid_CHI = {
				array = CHI_parliament_law_history_array
				index = CHI_parliament_law_history_index
				change_scope = yes
				entry_container = CHI_parliament_law_history_entry_CHI
			}
		}
		effects = {
			close_button_click = {
				clr_country_flag = parliament_law_button_open_flag
			}
		}
	}
}

